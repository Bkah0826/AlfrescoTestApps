!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("moment"),require("@angular/cdk/scrolling"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/cdk/a11y"),require("@angular/material/icon"),require("@angular/material/snack-bar"),require("@angular/cdk/keycodes"),require("@mat-datetimepicker/moment"),require("@mat-datetimepicker/core"),require("@angular/cdk/layout"),require("@angular/animations"),require("@angular/flex-layout"),require("@angular/router"),require("minimatch-browser"),require("@angular/material/dialog"),require("moment-es6"),require("@angular/material"),require("rxjs/operators"),require("@alfresco/js-api"),require("@angular/common/http"),require("rxjs"),require("@angular/core/testing"),require("@angular/common"),require("@angular/forms"),require("@ngx-translate/core"),require("@alfresco/adf-extensions"),require("@angular/core"),require("@angular/cdk/bidi"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@alfresco/adf-core",["exports","moment","@angular/cdk/scrolling","@angular/cdk/overlay","@angular/cdk/portal","@angular/cdk/a11y","@angular/material/icon","@angular/material/snack-bar","@angular/cdk/keycodes","@mat-datetimepicker/moment","@mat-datetimepicker/core","@angular/cdk/layout","@angular/animations","@angular/flex-layout","@angular/router","minimatch-browser","@angular/material/dialog","moment-es6","@angular/material","rxjs/operators","@alfresco/js-api","@angular/common/http","rxjs","@angular/core/testing","@angular/common","@angular/forms","@ngx-translate/core","@alfresco/adf-extensions","@angular/core","@angular/cdk/bidi","@angular/platform-browser"],t):t((e.alfresco=e.alfresco||{},e.alfresco["adf-core"]={}),e.moment,e.ng.cdk.scrolling,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.cdk.a11y,e.ng.material.icon,e.ng.material["snack-bar"],e.ng.cdk.keycodes,e["@mat-datetimepicker/moment"],e["@mat-datetimepicker/core"],e.ng.cdk.layout,e["@angular/animations"],e["@angular/flex-layout"],e.ng.router,e.minimatchBrowser,e.ng.material.dialog,e["moment-es6"],e["@angular/material"],e.rxjs.operators,e["@alfresco/js-api"],e.ng.common.http,e.rxjs,e.ng.core.testing,e.ng.common,e.ng.forms,e["@ngx-translate/core"],e.adfExtensions,e.ng.core,e.ng.cdk.bidi,e.ng.platformBrowser)}(this,function(e,n,t,a,r,i,o,s,l,u,p,c,d,m,f,h,g,y,v,b,E,I,w,C,T,S,A,O,D,x,R){"use strict";y=y&&y.hasOwnProperty("default")?y["default"]:y;var P=function(e,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function L(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F=function(){return(F=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function _(t,a,s,l){return new(s=s||Promise)(function(e,n){function i(e){try{r(l.next(e))}catch(t){n(t)}}function o(e){try{r(l["throw"](e))}catch(t){n(t)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,o)}r((l=l.apply(t,a||[])).next())})}function k(i,o){var r,a,s,e,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function n(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&e[0]?a["return"]:e[0]?a["throw"]||((s=a["return"])&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,a=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){l.label=e[1];break}if(6===e[0]&&l.label<s[1]){l.label=s[1],s=e;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(e);break}s[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],a=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function M(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return a}function V(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N(arguments[t]));return e}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var U=(j.getValue=function(e,t){if(!e)return undefined;var n=t.split(".");t="";do{var i=e[t+=n.shift()];i===undefined||"object"!=typeof i&&n.length?n.length?t+=".":e=undefined:(e=i,t="")}while(n.length);return e},j.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(t){Object.keys(t).forEach(function(e){e in n&&Array.isArray(n[e])?n[e]=n[e].concat(t[e]):e in n&&"object"==typeof n[e]?n[e]=j.merge(n[e],t[e]):n[e]=t[e]})}),n},j);function j(){}var B={APP_CONFIG_LANGUAGES_KEY:"languages",PROVIDERS:"providers",OAUTHCONFIG:"oauth2",ECMHOST:"ecmHost",BASESHAREURL:"baseShareUrl",BPMHOST:"bpmHost",IDENTITY_HOST:"identityHost",AUTHTYPE:"authType",CONTEXTROOTECM:"contextRootEcm",CONTEXTROOTBPM:"contextRootBpm",ALFRESCO_REPOSITORY_NAME:"alfrescoRepositoryName",LOG_LEVEL:"logLevel",LOGIN_ROUTE:"loginRoute",DISABLECSRF:"disableCSRF",AUTH_WITH_CREDENTIALS:"auth.withCredentials",APPLICATION:"application",STORAGE_PREFIX:"application.storagePrefix",NOTIFY_DURATION:"notificationDefaultDuration"},H={INIT:"init",LOADING:"loading",LOADED:"loaded"},z=(Y.prototype.select=function(t){return this.onLoadSubject.pipe(b.map(function(e){return e[t]}),b.distinctUntilChanged())},Y.prototype.get=function(e,t){var n=U.getValue(this.config,e);if("string"==typeof n){var i=new Map;i.set("hostname",this.getLocationHostname()),i.set(":port",this.getLocationPort(":")),i.set("port",this.getLocationPort()),i.set("protocol",this.getLocationProtocol()),n=this.formatString(n,i)}return n===undefined?t:n},Y.prototype.getLocationProtocol=function(){return location.protocol},Y.prototype.getLocationHostname=function(){return location.hostname},Y.prototype.getLocationPort=function(e){return void 0===e&&(e=""),location.port?e+location.port:""},Y.prototype.load=function(){var e=this;return new Promise(function(i){return _(e,void 0,void 0,function(){var t,n=this;return k(this,function(e){switch(e.label){case 0:return t="app.config.json?v="+Date.now(),this.status!==H.INIT?[3,2]:(this.status=H.LOADING,[4,this.http.get(t).subscribe(function(e){n.status=H.LOADED,n.config=Object.assign({},n.config,e||{}),n.onLoadSubject.next(n.config),i(n.config)},function(){i(n.config)})]);case 1:return e.sent(),[3,3];case 2:this.status===H.LOADED?i(this.config):this.status===H.LOADING&&this.onLoad.subscribe(function(){i(n.config)}),e.label=3;case 3:return[2]}})})})},Y.prototype.formatString=function(e,t){var i=e;return t.forEach(function(e,t){var n=new RegExp("{"+t+"}","gm");i=i.replace(n,e)}),i},Y.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Y.ctorParameters=function(){return[{type:I.HttpClient}]},Y.ngInjectableDef=D.defineInjectable({factory:function(){return new Y(D.inject(I.HttpClient))},token:Y,providedIn:"root"}),Y);function Y(e){this.http=e,this.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent",alfrescoRepositoryName:"alfresco-1"},this.status=H.INIT,this.onLoadSubject=new w.Subject,this.onLoad=this.onLoadSubject.asObservable()}var G=(Object.defineProperty(q.prototype,"prefix",{get:function(){return this._prefix},set:function(e){this._prefix=e?e+"_":""},enumerable:!0,configurable:!0}),q.prototype.getItem=function(e){return this.useLocalStorage?localStorage.getItem(this.prefix+e):this.memoryStore.hasOwnProperty(this.prefix+e)?this.memoryStore[this.prefix+e]:null},q.prototype.setItem=function(e,t){this.useLocalStorage?localStorage.setItem(this.prefix+e,t):this.memoryStore[this.prefix+e]=t.toString()},q.prototype.clear=function(){this.useLocalStorage?localStorage.clear():this.memoryStore={}},q.prototype.removeItem=function(e){this.useLocalStorage?localStorage.removeItem(this.prefix+e):delete this.memoryStore[this.prefix+e]},q.prototype.hasItem=function(e){return this.useLocalStorage?!!localStorage.getItem(this.prefix+e):this.memoryStore.hasOwnProperty(e)},q.prototype.storageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n,n),!0}catch(i){return!1}},q.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],q.ctorParameters=function(){return[]},q.ngInjectableDef=D.defineInjectable({factory:function(){return new q},token:q,providedIn:"root"}),q);function q(){this.memoryStore={},this.useLocalStorage=!1,this._prefix="",this.useLocalStorage=this.storageAvailable("localStorage")}var $=(X.prototype.getInstance=function(){return this.alfrescoApi},Object.defineProperty(X.prototype,"taskApi",{get:function(){return this.getInstance().activiti.taskApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"contentApi",{get:function(){return this.getInstance().content},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"nodesApi",{get:function(){return this.getInstance().nodes},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"renditionsApi",{get:function(){return this.getInstance().core.renditionsApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"sharedLinksApi",{get:function(){return this.getInstance().core.sharedlinksApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"sitesApi",{get:function(){return this.getInstance().core.sitesApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"favoritesApi",{get:function(){return this.getInstance().core.favoritesApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"peopleApi",{get:function(){return this.getInstance().core.peopleApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"searchApi",{get:function(){return this.getInstance().search.searchApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"versionsApi",{get:function(){return this.getInstance().core.versionsApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"classesApi",{get:function(){return this.getInstance().core.classesApi},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"groupsApi",{get:function(){return this.getInstance().core.groupsApi},enumerable:!0,configurable:!0}),X.prototype.load=function(){return _(this,void 0,void 0,function(){var t=this;return k(this,function(e){switch(e.label){case 0:return[4,this.appConfig.load().then(function(){t.storageService.prefix=t.appConfig.get(B.STORAGE_PREFIX,""),t.initAlfrescoApi(),t.alfrescoApiInitializedSubject.next()})];case 1:return e.sent(),[2]}})})},X.prototype.reset=function(){return _(this,void 0,void 0,function(){return k(this,function(e){return this.initAlfrescoApi(),[2]})})},X.prototype.initAlfrescoApi=function(){var e=Object.assign({},this.appConfig.get(B.OAUTHCONFIG,null));e&&(e.redirectUri=window.location.origin+(e.redirectUri||"/"),e.redirectUriLogout=window.location.origin+(e.redirectUriLogout||"/"));var t=new E.AlfrescoApiConfig({provider:this.appConfig.get(B.PROVIDERS),hostEcm:this.appConfig.get(B.ECMHOST),hostBpm:this.appConfig.get(B.BPMHOST),authType:this.appConfig.get(B.AUTHTYPE,"BASIC"),contextRootBpm:this.appConfig.get(B.CONTEXTROOTBPM),contextRoot:this.appConfig.get(B.CONTEXTROOTECM),disableCsrf:this.appConfig.get(B.DISABLECSRF),withCredentials:this.appConfig.get(B.AUTH_WITH_CREDENTIALS,!1),oauth2:e});this.alfrescoApi&&this.isDifferentConfig(this.lastConfig,t)?(this.lastConfig=t,this.alfrescoApi.configureJsApi(t)):(this.lastConfig=t,this.alfrescoApi=new E.AlfrescoApiCompatibility(t))},X.prototype.isDifferentConfig=function(e,t){return JSON.stringify(e)!==JSON.stringify(t)},X.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],X.ctorParameters=function(){return[{type:z},{type:G}]},X.ngInjectableDef=D.defineInjectable({factory:function(){return new X(D.inject(z),D.inject(G))},token:X,providedIn:"root"}),X);function X(e,t){this.appConfig=e,this.storageService=t,this.nodeUpdated=new w.Subject,this.alfrescoApiInitializedSubject=new w.Subject,this.alfrescoApiInitialized=this.alfrescoApiInitializedSubject.asObservable()}var W=(K.prototype.isEnabled=function(){return!1!==navigator.cookieEnabled&&(document.cookie="test-cookie",0<=document.cookie.indexOf("test-cookie"))},K.prototype.getItem=function(e){var t=new RegExp("(?:"+e+"|;s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]},K.prototype.setItem=function(e,t,n,i){document.cookie=e+"="+t+(n?";expires="+n.toUTCString():"")+(i?";path="+i:";path=/")},K.prototype.clear=function(){},K.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],K.ngInjectableDef=D.defineInjectable({factory:function(){return new K},token:K,providedIn:"root"}),K);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function K(){}var J,Q=(L(Z,J=Number),Z.TRACE=5,Z.DEBUG=4,Z.INFO=3,Z.WARN=2,Z.ERROR=1,Z.SILENT=0,Z);function Z(){return null!==J&&J.apply(this,arguments)||this}var ee=[{level:Q.TRACE,name:"TRACE"},{level:Q.DEBUG,name:"DEBUG"},{level:Q.INFO,name:"INFO"},{level:Q.WARN,name:"WARN"},{level:Q.ERROR,name:"ERROR"},{level:Q.SILENT,name:"SILENT"}],te=(Object.defineProperty(ne.prototype,"currentLogLevel",{get:function(){var e=this.appConfig.get(B.LOG_LEVEL);return e?this.getLogLevel(e):Q.TRACE},enumerable:!0,configurable:!0}),ne.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Q.ERROR&&(this.messageBus(e,"ERROR"),console.error.apply(console,V([e],t)))},ne.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Q.DEBUG&&(this.messageBus(e,"DEBUG"),console.debug.apply(console,V([e],t)))},ne.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Q.INFO&&(this.messageBus(e,"INFO"),console.info.apply(console,V([e],t)))},ne.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Q.TRACE&&(this.messageBus(e,"LOG"),console.log.apply(console,V([e],t)))},ne.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Q.TRACE&&(this.messageBus(e,"TRACE"),console.trace.apply(console,V([e],t)))},ne.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel>=Q.WARN&&(this.messageBus(e,"WARN"),console.warn.apply(console,V([e],t)))},ne.prototype.assert=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.currentLogLevel!==Q.SILENT&&(this.messageBus(t,"ASSERT"),console.assert.apply(console,V([e,t],n)))},ne.prototype.group=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.currentLogLevel!==Q.SILENT&&console.group.apply(console,V([e],t))},ne.prototype.groupEnd=function(){this.currentLogLevel!==Q.SILENT&&console.groupEnd()},ne.prototype.getLogLevel=function(t){var e=ee.find(function(e){return e.name.toLocaleLowerCase()===t.toLocaleLowerCase()});return e?e.level:5},ne.prototype.messageBus=function(e,t){this.onMessage.next({text:e,type:t})},ne.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],ne.ctorParameters=function(){return[{type:z}]},ne.ngInjectableDef=D.defineInjectable({factory:function(){return new ne(D.inject(z))},token:ne,providedIn:"root"}),ne);function ne(e){this.appConfig=e,this.onMessage=new w.Subject}var ie=(oe.prototype.decodeToken=function(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)},oe.prototype.urlBase64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return decodeURIComponent(escape(window.atob(t)))},oe.prototype.getValueFromLocalAccessToken=function(e){return this.getValueFromToken(this.getAccessToken(),e)},oe.prototype.getAccessToken=function(){return localStorage.getItem(oe.USER_ACCESS_TOKEN)},oe.prototype.getValueFromToken=function(e,t){var n;return e&&(n=this.decodeToken(e)[t]),n},oe.USER_NAME="name",oe.FAMILY_NAME="family_name",oe.GIVEN_NAME="given_name",oe.USER_EMAIL="email",oe.USER_ACCESS_TOKEN="access_token",oe.USER_PREFERRED_USERNAME="preferred_username",oe.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],oe.ctorParameters=function(){return[]},oe.ngInjectableDef=D.defineInjectable({factory:function(){return new oe},token:oe,providedIn:"root"}),oe);function oe(){}var re="ALFRESCO_REMEMBER_ME",ae=(se.prototype.isLoggedIn=function(){return!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isLoggedIn()},se.prototype.isOauth=function(){return this.alfrescoApi.getInstance().isOauthConfiguration()},se.prototype.isECMProvider=function(){return this.alfrescoApi.getInstance().isEcmConfiguration()},se.prototype.isBPMProvider=function(){return this.alfrescoApi.getInstance().isBpmConfiguration()},se.prototype.isALLProvider=function(){return this.alfrescoApi.getInstance().isEcmBpmConfiguration()},se.prototype.login=function(e,t,n){var i=this;return void 0===n&&(n=!1),w.from(this.alfrescoApi.getInstance().login(e,t)).pipe(b.map(function(e){return i.saveRememberMeCookie(n),i.onLogin.next(e),{type:i.appConfig.get(B.PROVIDERS),ticket:e}}),b.catchError(function(e){return i.handleError(e)}))},se.prototype.ssoImplicitLogin=function(){this.alfrescoApi.getInstance().implicitLogin()},se.prototype.saveRememberMeCookie=function(e){var t=null;if(e){var n=(t=new Date).getTime()+2592e6;t.setTime(n)}this.cookie.setItem(re,"1",t,null)},se.prototype.isRememberMeSet=function(){return null!==this.cookie.getItem(re)},se.prototype.logout=function(){var t=this;return w.from(this.callApiLogout()).pipe(b.tap(function(e){return t.onLogout.next(e),e}),b.catchError(function(e){return t.handleError(e)}))},se.prototype.callApiLogout=function(){if(this.alfrescoApi.getInstance())return this.alfrescoApi.getInstance().logout()},se.prototype.getTicketEcm=function(){return this.alfrescoApi.getInstance().getTicketEcm()},se.prototype.getTicketBpm=function(){return this.alfrescoApi.getInstance().getTicketBpm()},se.prototype.getTicketEcmBase64=function(){var e=this.alfrescoApi.getInstance().getTicketEcm();return e?"Basic "+btoa(e):null},se.prototype.isEcmLoggedIn=function(){return!(!this.isECMProvider()&&!this.isALLProvider())&&!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isEcmLoggedIn()},se.prototype.isBpmLoggedIn=function(){return!(!this.isBPMProvider()&&!this.isALLProvider())&&!(!this.isOauth()&&this.cookie.isEnabled()&&!this.isRememberMeSet())&&this.alfrescoApi.getInstance().isBpmLoggedIn()},se.prototype.getEcmUsername=function(){return this.alfrescoApi.getInstance().getEcmUsername()},se.prototype.getBpmUsername=function(){return this.alfrescoApi.getInstance().getBpmUsername()},se.prototype.setRedirect=function(e){this.redirectUrl=e},se.prototype.getRedirect=function(){var e=this.appConfig.get(B.PROVIDERS);return this.hasValidRedirection(e)?this.redirectUrl.url:null},se.prototype.getBpmLoggedUser=function(){return w.from(this.alfrescoApi.getInstance().activiti.profileApi.getProfile())},se.prototype.hasValidRedirection=function(e){return this.redirectUrl&&(this.redirectUrl.provider===e||this.hasSelectedProviderAll(e))},se.prototype.hasSelectedProviderAll=function(e){return this.redirectUrl&&("ALL"===this.redirectUrl.provider||"ALL"===e)},se.prototype.handleError=function(e){return this.logService.error("Error when logging in",e),w.throwError(e||"Server error")},se.prototype.getBearerExcludedUrls=function(){return this.bearerExcludedUrls},se.prototype.getToken=function(){return localStorage.getItem(ie.USER_ACCESS_TOKEN)},se.prototype.addTokenToHeader=function(o){var r=this;return new w.Observable(function(e){var t=o;t=t||new I.HttpHeaders;try{var n=r.getToken();t=t.set("Authorization","bearer "+n),e.next(t),e.complete()}catch(i){e.error(i)}})},se.prototype.isSSODiscoveryConfigured=function(){return!!this.alfrescoApi.getInstance().storage.getItem("discovery")},se.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],se.ctorParameters=function(){return[{type:z},{type:$},{type:W},{type:te}]},se.ngInjectableDef=D.defineInjectable({factory:function(){return new se(D.inject(z),D.inject($),D.inject(W),D.inject(te))},token:se,providedIn:"root"}),se);function se(e,t,n,i){this.appConfig=e,this.alfrescoApi=t,this.cookie=n,this.logService=i,this.redirectUrl=null,this.bearerExcludedUrls=["auth/realms","resources/","assets/"],this.onLogin=new w.Subject,this.onLogout=new w.Subject}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var le=function rf(e){e&&(this.edition=e.edition||null,this.majorVersion=e.majorVersion||null,this.revisionVersion=e.revisionVersion||null,this.minorVersion=e.minorVersion||null,this.type=e.type||null)},ue=function af(e){e&&(this.major=e.major||null,this.minor=e.minor||null,this.patch=e.patch||null,this.hotfix=e.hotfix||null,this.schema=e.schema||null,this.label=e.label||null,this.display=e.display||null)},pe=function sf(e){e&&(this.issuedAt=e.issuedAt||null,this.expiresAt=e.expiresAt||null,this.remainingDays=e.remainingDays||null,this.holder=e.holder||null,this.mode=e.mode||null,this.isClusterEnabled=!!e.isClusterEnabled,this.isCryptodocEnabled=!!e.isCryptodocEnabled)},ce=function lf(e){e&&(this.isReadOnly=!!e.isReadOnly,this.isAuditEnabled=!!e.isAuditEnabled,this.isQuickShareEnabled=!!e.isQuickShareEnabled,this.isThumbnailGenerationEnabled=!!e.isThumbnailGenerationEnabled)},de=function uf(e){e&&(this.id=e.id||null,this.title=e.title||null,this.description=e.description||null,this.version=e.version||null,this.installDate=e.installDate||null,this.installState=e.installState||null,this.versionMin=e.versionMin||null,this.versionMax=e.versionMax||null)},me=function pf(e){var t=this;this.modules=[],e&&e.entry&&e.entry.repository&&(this.edition=e.entry.repository.edition||null,this.version=new ue(e.entry.repository.version),this.license=new pe(e.entry.repository.license),this.status=new ce(e.entry.repository.status),e.entry.repository.modules&&e.entry.repository.modules.forEach(function(e){t.modules.push(new de(e))}))},fe=(he.prototype.getEcmProductInfo=function(){return w.from(this.apiService.getInstance().discovery.discoveryApi.getRepositoryInformation()).pipe(b.map(function(e){return new me(e)}),b.catchError(function(e){return w.throwError(e)}))},he.prototype.getBpmProductInfo=function(){return w.from(this.apiService.getInstance().activiti.aboutApi.getAppVersion()).pipe(b.map(function(e){return new le(e)}),b.catchError(function(e){return w.throwError(e)}))},he.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],he.ctorParameters=function(){return[{type:$}]},he.ngInjectableDef=D.defineInjectable({factory:function(){return new he(D.inject($))},token:he,providedIn:"root"}),he);function he(e){this.apiService=e}var ge=(ye.flatten=function(e){var o=e.createReader(),r=[];return new Promise(function(t){var n=[];!function i(){o.readEntries(function(e){e.length?(n.push(Promise.all(e.map(function(n){return n.isFile?new Promise(function(t){n.file(function(e){r.push({entry:n,file:e,relativeFolder:n.fullPath.replace(/\/[^\/]*$/,"")}),t()})}):ye.flatten(n).then(function(e){r.push.apply(r,V(e))})}))),i()):Promise.all(n).then(function(){return t(r)})})}()})},ye.toFileArray=function(e){var t=[];if(e&&0<e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t},ye);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ye(){}var ve,be={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM Y",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM Y"}},Ee=(L(Ie,ve=v.DateAdapter),Ie.prototype.getYear=function(e){return e.year()},Ie.prototype.getMonth=function(e){return e.month()},Ie.prototype.getDate=function(e){return e.date()},Ie.prototype.getDayOfWeek=function(e){return e.day()},Ie.prototype.getMonthNames=function(e){switch(e){case"long":return this.localeData.months();case"short":return this.localeData.monthsShort();case"narrow":return this.localeData.monthsShort().map(function(e){return e[0]});default:return}},Ie.prototype.getDateNames=function(){for(var e=[],t=1;t<=31;t++)e.push(String(t));return e},Ie.prototype.getDayOfWeekNames=function(e){switch(e){case"long":return this.localeData.weekdays();case"short":case"narrow":return this.localeData.weekdaysShort();default:return}},Ie.prototype.getYearName=function(e){return String(e.year())},Ie.prototype.getFirstDayOfWeek=function(){return this.localeData.firstDayOfWeek()},Ie.prototype.getNumDaysInMonth=function(e){return e.daysInMonth()},Ie.prototype.clone=function(e){var t=this.locale||"en";return e.clone().locale(t)},Ie.prototype.createDate=function(e,t,n){return y([e,t,n])},Ie.prototype.today=function(){var e=this.locale||"en";return y().locale(e)},Ie.prototype.parse=function(e,t){var n=this.locale||"en";if(e&&"string"==typeof e){var i=y(e,t,n,!0);if(i.isValid()||(i=y(e,this.overrideDisplayFormat,n,!0)),i.isValid()&&2001===i.year()&&-1===e.indexOf("2001")){var o=(new Date).getFullYear();i.set("year",o),i.isAfter(y())&&i.set("year",o-1)}return i}return e?y(e).locale(n):null},Ie.prototype.format=function(e,t){return e=this.clone(e),t=this.overrideDisplayFormat?this.overrideDisplayFormat:t,e&&e.format?e.format(t):""},Ie.prototype.addCalendarYears=function(e,t){return e.clone().add(t,"y")},Ie.prototype.addCalendarMonths=function(e,t){return e.clone().add(t,"M")},Ie.prototype.addCalendarDays=function(e,t){return e.clone().add(t,"d")},Ie.prototype.getISODateString=function(e){return e.toISOString()},Ie.prototype.setLocale=function(e){ve.prototype.setLocale.call(this,e),this.localeData=y.localeData(e)},Ie.prototype.compareDate=function(e,t){return e.diff(t,"seconds",!0)},Ie.prototype.sameDate=function(e,t){return null==e?null==t:n.isMoment(e)?e.isSame(t):ve.prototype.sameDate.call(this,e,t)},Ie.prototype.clampDate=function(e,t,n){return t&&e.isBefore(t)?t:n&&e.isAfter(n)?n:e},Ie.prototype.isDateInstance=function(e){var t=!1;return e&&(t=e._isAMomentObject),t},Ie.prototype.isValid=function(e){return e.isValid()},Ie.prototype.toIso8601=function(e){return this.clone(e).format()},Ie.prototype.fromIso8601=function(e){var t=this.locale||"en",n=y(e,y.ISO_8601).locale(t);return this.isValid(n)?n:null},Ie.prototype.invalid=function(){return y.invalid()},Ie);function Ie(){var e=null!==ve&&ve.apply(this,arguments)||this;return e.localeData=y.localeData(),e}var we=(Ce.prototype.getValue=function(e){return U.getValue(this.obj,e)},Ce.prototype.hasValue=function(e){return this.getValue(e)!==undefined},Ce.prototype.imageErrorResolver=function(e){return""},Ce);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ce(e,t){if(void 0===t&&(t=!1),this.obj=e,this.isSelected=t,!e)throw new Error("Object source not found")}var Te=function cf(e){this.key=e.key,this.type=e.type||"text",this.format=e.format,this.sortable=e.sortable,this.title=e.title,this.srTitle=e.srTitle,this.cssClass=e.cssClass,this.template=e.template,this.copyContent=e.copyContent},Se=function df(e,t){this.key=e,this.direction=t},Ae=(Oe.generateSchema=function(e){var t=[];if(e&&e.length){var n=e[0];if("object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&t.push({type:"text",key:i,title:i,sortable:!1})}return t},Oe.prototype.getRows=function(){return this._rows},Oe.prototype.setRows=function(e){this._rows=e||[],this.sort(),this.rowsChanged.next(this._rows)},Oe.prototype.getColumns=function(){return this._columns},Oe.prototype.setColumns=function(e){this._columns=e||[]},Oe.prototype.getValue=function(e,t){if(!e)throw new Error("Row not found");if(!t)throw new Error("Column not found");var n=e.getValue(t.key);return"icon"!==t.type?n:e.getValue(t.key)},Oe.prototype.getSorting=function(){return this._sorting},Oe.prototype.setSorting=function(o){(this._sorting=o)&&o.key&&this._rows.sort(function(e,t){var n=e.getValue(o.key);n=n?n instanceof Date?n.valueOf().toString():n.toString():"";var i=t.getValue(o.key);return i=i?i instanceof Date?i.valueOf().toString():i.toString():"","asc"===o.direction?n.localeCompare(i):i.localeCompare(n)})},Oe.prototype.sort=function(e,t){var n=this._sorting||new Se;e&&(n.key=e,n.direction=t||"asc"),this.setSorting(n)},Oe);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oe(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),this._rows=[],this._columns=[],e&&0<e.length&&(this._rows=e.map(function(e){return new we(e)})),t&&0<t.length){this._columns=t.map(function(e){return new Te(e)});var n=this._columns.filter(function(e){return e.sortable});0<n.length&&this.sort(n[0].key,"asc")}this.rowsChanged=new w.Subject}var De=(xe.prototype.ngOnInit=function(){var i=this;this.authService.isEcmLoggedIn()&&this.discovery.getEcmProductInfo().subscribe(function(e){i.ecmVersion=e,i.modules=new Ae(i.ecmVersion.modules,[{type:"text",key:"id",title:"ABOUT.TABLE_HEADERS.MODULES.ID",sortable:!0},{type:"text",key:"title",title:"ABOUT.TABLE_HEADERS.MODULES.TITLE",sortable:!0},{type:"text",key:"version",title:"ABOUT.TABLE_HEADERS.MODULES.DESCRIPTION",sortable:!0},{type:"text",key:"installDate",title:"ABOUT.TABLE_HEADERS.MODULES.INSTALL_DATE",sortable:!0},{type:"text",key:"installState",title:"ABOUT.TABLE_HEADERS.MODULES.INSTALL_STATE",sortable:!0},{type:"text",key:"versionMin",title:"ABOUT.TABLE_HEADERS.MODULES.VERSION_MIN",sortable:!0},{type:"text",key:"versionMax",title:"ABOUT.TABLE_HEADERS.MODULES.VERSION_MAX",sortable:!0}]),i.status=new Ae([i.ecmVersion.status],[{type:"text",key:"isReadOnly",title:"ABOUT.TABLE_HEADERS.STATUS.READ_ONLY",sortable:!0},{type:"text",key:"isAuditEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.AUDIT_ENABLED",sortable:!0},{type:"text",key:"isQuickShareEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.QUICK_SHARE_ENABLED",sortable:!0},{type:"text",key:"isThumbnailGenerationEnabled",title:"ABOUT.TABLE_HEADERS.STATUS.THUMBNAIL_ENABLED",sortable:!0}]),i.license=new Ae([i.ecmVersion.license],[{type:"text",key:"issuedAt",title:"ABOUT.TABLE_HEADERS.LICENSE.ISSUES_AT",sortable:!0},{type:"text",key:"expiresAt",title:"ABOUT.TABLE_HEADERS.LICENSE.EXPIRES_AT",sortable:!0},{type:"text",key:"remainingDays",title:"ABOUT.TABLE_HEADERS.LICENSE.REMAINING_DAYS",sortable:!0},{type:"text",key:"holder",title:"ABOUT.TABLE_HEADERS.LICENSE.HOLDER",sortable:!0},{type:"text",key:"mode",title:"ABOUT.TABLE_HEADERS.LICENSE.MODE",sortable:!0},{type:"text",key:"isClusterEnabled",title:"ABOUT.TABLE_HEADERS.LICENSE.CLUSTER_ENABLED",sortable:!0},{type:"text",key:"isCryptodocEnabled",title:"ABOUT.TABLE_HEADERS.LICENSE.CRYPTODOC_ENABLED",sortable:!0}])}),this.authService.isBpmLoggedIn()&&this.discovery.getBpmProductInfo().subscribe(function(e){i.bpmVersion=e}),this.http.get("./versions.json?"+new Date).subscribe(function(t){var e=Object.keys(t.dependencies).filter(function(e){return new RegExp(i.regexp).test(e)}),n=[];e.forEach(function(e){n.push({name:e,version:t.dependencies[e].version||t.dependencies[e].required.version})}),i.gitHubLinkCreation(n),i.data=new Ae(n,[{type:"text",key:"name",title:"Name",sortable:!0},{type:"text",key:"version",title:"Version",sortable:!0}])}),this.ecmHost=this.appConfig.get(B.ECMHOST),this.bpmHost=this.appConfig.get(B.BPMHOST)},xe.prototype.gitHubLinkCreation=function(e){var t=e.find(function(e){return"@alfresco/adf-core"===e.name});if(t){var n=t.version.split("-");1<n.length?this.githubUrlCommitAlpha=this.githubUrlCommitAlpha+n[1]:this.githubUrlCommitAlpha=this.githubUrlCommitAlpha+t.version}},xe.decorators=[{type:D.Component,args:[{selector:"adf-about",template:'<div class="adf-about-container">\n    <div class="adf-extension-details-container" *ngIf="showExtensions">\n        <h3>{{ \'ABOUT.TITLE\' | translate }}</h3>\n        <mat-table [dataSource]="extensions$ | async">\n            \x3c!-- $id Column --\x3e\n            <ng-container matColumnDef="$id">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.ID\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$id}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $name Column --\x3e\n            <ng-container matColumnDef="$name">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.NAME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$name}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $version Column --\x3e\n            <ng-container matColumnDef="$version">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.VERSION\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$version}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $vendor Column --\x3e\n            <ng-container matColumnDef="$vendor">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.VENDOR\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$vendor}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $license Column --\x3e\n            <ng-container matColumnDef="$license">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.LICENSE\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$license}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $runtime Column --\x3e\n            <ng-container matColumnDef="$runtime">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.RUNTIME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$runtime}}</mat-cell>\n            </ng-container>\n\n            \x3c!-- $description Column --\x3e\n            <ng-container matColumnDef="$description">\n                <mat-header-cell *matHeaderCellDef>{{ \'ABOUT.TABLE_HEADERS.DESCRIPTION\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let element">{{element.$description}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef="extensionColumns"></mat-header-row>\n            <mat-row *matRowDef="let row; columns: extensionColumns;"></mat-row>\n        </mat-table>\n    </div>\n    <h3>{{ \'ABOUT.SERVER_SETTINGS.TITLE\' | translate }}</h3>\n    <mat-list>\n        <small>{{ \'ABOUT.SERVER_SETTINGS.DESCRIPTION\' | translate }}</small>\n        <mat-list-item>\n            <h4 matLine> {{ \'ABOUT.SERVER_SETTINGS.PROCESS_SERVICE_HOST\' | translate: { value: bpmHost } }}</h4>\n        </mat-list-item>\n        <mat-divider></mat-divider>\n        <mat-list-item>\n            <h4 matLine>{{ \'ABOUT.SERVER_SETTINGS.CONTENT_SERVICE_HOST\' | translate: { value: ecmHost } }}</h4>\n        </mat-list-item>\n    </mat-list>\n\n    <h3>{{ \'ABOUT.VERSIONS.TITLE\' | translate }}</h3>\n    <div *ngIf="bpmVersion">\n        <h3>{{ \'ABOUT.VERSIONS.PROCESS_SERVICE\' | translate }}</h3>\n        <div> {{ \'ABOUT.VERSIONS.divS.EDITION\' | translate }} </div> {{ bpmVersion.edition }}\n        <p></p>\n        <div> {{ \'ABOUT.VERSIONS.divS.VERSION\' | translate }} </div> {{ bpmVersion.majorVersion }}.{{\n        bpmVersion.minorVersion }}.{{ bpmVersion.revisionVersion }}\n    </div>\n    <div *ngIf="ecmVersion">\n        <h3>{{ \'ABOUT.VERSIONS.CONTENT_SERVICE\' | translate }}</h3>\n        <div>{{ \'ABOUT.VERSIONS.divS.EDITION\' | translate }}</div> {{ ecmVersion.edition }}\n        <p></p>\n        <div> {{ \'ABOUT.VERSIONS.divS.VERSION\' | translate }} </div> {{ ecmVersion.version.display }}\n        <p></p>\n        <h4>{{ \'ABOUT.VERSIONS.divS.LICENSE\' | translate }}</h4>\n        <adf-datatable [data]="license"></adf-datatable>\n\n        <h4> {{ \'ABOUT.VERSIONS.divS.STATUS\' | translate }}</h4>\n        <adf-datatable [data]="status"></adf-datatable>\n\n        <h4>{{ \'ABOUT.VERSIONS.divS.MODULES\' | translate }}</h4>\n\n        <adf-datatable [data]="modules"></adf-datatable>\n    </div>\n\n    <div *ngIf="githubUrlCommitAlpha">\n        <h3>{{ \'ABOUT.SOURCE_CODE.TITLE\' | translate }}</h3>\n        <small>{{ \'ABOUT.SOURCE_CODE.DESCRIPTION\' | translate }}</small>\n        <div>\n            <a [href]="githubUrlCommitAlpha">{{githubUrlCommitAlpha}}</a>\n        </div>\n    </div>\n\n    <h3>{{ \'ABOUT.PACKAGES.TITLE\' | translate }}</h3>\n    <small>{{ \'ABOUT.PACKAGES.DESCRIPTION\' | translate }}</small>\n    <adf-datatable [data]="data"></adf-datatable>\n</div>\n',encapsulation:D.ViewEncapsulation.None,styles:[".adf-about-container{padding:10px}.adf-table-version{width:60%;border:0;border-spacing:0;text-align:center}"]}]}],xe.ctorParameters=function(){return[{type:I.HttpClient},{type:z},{type:ae},{type:fe},{type:O.AppExtensionService}]},xe.propDecorators={githubUrlCommitAlpha:[{type:D.Input}],showExtensions:[{type:D.Input}],regexp:[{type:D.Input}]},xe);function xe(e,t,n,i,o){this.http=e,this.appConfig=t,this.authService=n,this.discovery=i,this.extensionColumns=["$id","$name","$version","$vendor","$license","$runtime","$description"],this.githubUrlCommitAlpha="https://github.com/Alfresco/alfresco-ng2-components/commits/",this.showExtensions=!0,this.regexp="^(@alfresco)",this.ecmHost="",this.bpmHost="",this.ecmVersion=null,this.bpmVersion=null,this.extensions$=o.references$}function Re(){return[v.MatAutocompleteModule,v.MatButtonModule,v.MatCardModule,v.MatCheckboxModule,v.MatChipsModule,v.MatDatepickerModule,v.MatDialogModule,v.MatGridListModule,v.MatIconModule,v.MatInputModule,v.MatListModule,v.MatNativeDateModule,v.MatOptionModule,v.MatProgressSpinnerModule,v.MatRadioModule,v.MatRippleModule,v.MatSelectModule,v.MatSlideToggleModule,v.MatTableModule,v.MatTabsModule,v.MatMenuModule,v.MatProgressBarModule,v.MatSidenavModule,v.MatSnackBarModule,v.MatToolbarModule,v.MatTooltipModule,p.MatDatetimepickerModule,p.MatNativeDatetimeModule,v.MatExpansionModule]}var Pe=(Le.decorators=[{type:D.NgModule,args:[{imports:Re(),exports:Re()}]}],Le);function Le(){}var Fe=(_e.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],_e.ngInjectableDef=D.defineInjectable({factory:function(){return new _e},token:_e,providedIn:"root"}),_e);function _e(){this.show=new w.Subject}var ke=(Me.prototype.onShowContextMenu=function(e){e&&e.preventDefault()},Me.prototype.onResize=function(e){this.mdMenuElement&&this.updatePosition()},Me.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.contextMenuService.show.subscribe(function(e){return t.showMenu(e.event,e.obj)}),this.menuTrigger.menuOpened.subscribe(function(){var e=t.overlayContainer.getContainerElement();e&&(t.contextMenuListenerFn=t.renderer.listen(e,"contextmenu",function(e){e.preventDefault()})),t.menuElement=t.getContextMenuElement()}),this.menuTrigger.menuClosed.subscribe(function(){t.menuElement=null,t.contextMenuListenerFn&&t.contextMenuListenerFn()}))},Me.prototype.ngOnDestroy=function(){this.contextMenuListenerFn&&this.contextMenuListenerFn(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],this.menuElement=null},Me.prototype.onMenuItemClick=function(e,t){if(t&&t.model&&t.model.disabled)return e.preventDefault(),void e.stopImmediatePropagation();t.subject.next(t)},Me.prototype.showMenu=function(e,t){this.links=t,e&&(this.mouseLocation={left:e.clientX,top:e.clientY}),this.menuTrigger.openMenu(),this.mdMenuElement&&this.updatePosition()},Object.defineProperty(Me.prototype,"mdMenuElement",{get:function(){return this.menuElement},enumerable:!0,configurable:!0}),Me.prototype.locationCss=function(){return{left:this.mouseLocation.left+"px",top:this.mouseLocation.top+"px"}},Me.prototype.updatePosition=function(){var e=this;setTimeout(function(){e.mdMenuElement.parentElement&&(e.mdMenuElement.clientWidth+e.mouseLocation.left>e.viewport.getViewportRect().width?(e.menuTrigger.menu.xPosition="before",e.mdMenuElement.parentElement.style.left=e.mouseLocation.left-e.mdMenuElement.clientWidth+"px"):(e.menuTrigger.menu.xPosition="after",e.mdMenuElement.parentElement.style.left=e.locationCss().left),e.mdMenuElement.clientHeight+e.mouseLocation.top>e.viewport.getViewportRect().height?(e.menuTrigger.menu.yPosition="above",e.mdMenuElement.parentElement.style.top=e.mouseLocation.top-e.mdMenuElement.clientHeight+"px"):(e.menuTrigger.menu.yPosition="below",e.mdMenuElement.parentElement.style.top=e.locationCss().top))},0)},Me.prototype.getContextMenuElement=function(){return this.overlayContainer.getContainerElement().querySelector(".context-menu")},Me.decorators=[{type:D.Component,args:[{selector:"adf-context-menu-holder",template:'\n        <button mat-button [matMenuTriggerFor]="contextMenu"></button>\n        <mat-menu #contextMenu="matMenu" class="context-menu">\n            <ng-container *ngFor="let link of links">\n                <button *ngIf="link.model?.visible"\n                        [attr.data-automation-id]="\'context-\'+((link.title || link.model?.title) | translate)"\n                        mat-menu-item\n                        [disabled]="link.model?.disabled"\n                        (click)="onMenuItemClick($event, link)">\n                    <mat-icon *ngIf="showIcons && link.model?.icon">{{ link.model.icon }}</mat-icon>\n                    {{ (link.title || link.model?.title) | translate }}\n                </button>\n            </ng-container>\n        </mat-menu>\n    '}]}],Me.ctorParameters=function(){return[{type:t.ViewportRuler},{type:a.OverlayContainer},{type:Fe},{type:D.Renderer2}]},Me.propDecorators={showIcons:[{type:D.Input}],menuTrigger:[{type:D.ViewChild,args:[v.MatMenuTrigger]}],onShowContextMenu:[{type:D.HostListener,args:["contextmenu",["$event"]]}],onResize:[{type:D.HostListener,args:["window:resize",["$event"]]}]},Me);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Me(e,t,n,i){this.viewport=e,this.overlayContainer=t,this.contextMenuService=n,this.renderer=i,this.links=[],this.mouseLocation={left:0,top:0},this.menuElement=null,this.subscriptions=[],this.showIcons=!1}var Ne=(Ve.prototype.close=function(){this.overlayRef.dispose()},Ve);function Ve(e){this.overlayRef=e}var Ue=new D.InjectionToken("CONTEXT_MENU_DATA"),je=[d.state("void",d.style({opacity:0,transform:"scale(0.01, 0.01)"})),d.transition("void => *",d.sequence([d.query(".mat-menu-content",d.style({opacity:0})),d.animate("100ms linear",d.style({opacity:1,transform:"scale(1, 0.5)"})),d.group([d.query(".mat-menu-content",d.animate("400ms cubic-bezier(0.55, 0, 0.55, 0.2)",d.style({opacity:1}))),d.animate("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",d.style({transform:"scale(1, 1)"}))])])),d.transition("* => void",d.animate("150ms 50ms linear",d.style({opacity:0})))],Be=(He.prototype.handleKeydownEscape=function(e){e&&this.contextMenuOverlayRef.close()},He.prototype.handleKeydownEvent=function(e){if(e){var t=e.keyCode;t!==l.UP_ARROW&&t!==l.DOWN_ARROW||this.keyManager.onKeydown(e)}},He.prototype.onMenuItemClick=function(e,t){if(t&&t.model&&t.model.disabled)return e.preventDefault(),void e.stopImmediatePropagation();t.subject.next(t),this.contextMenuOverlayRef.close()},He.prototype.ngAfterViewInit=function(){this.keyManager=new i.FocusKeyManager(this.items),this.keyManager.setFirstItemActive()},He.decorators=[{type:D.Component,args:[{selector:"adf-context-menu",template:'\n        <div mat-menu class="mat-menu-panel" @panelAnimation>\n            <div id="adf-context-menu-content" class="mat-menu-content">\n                <ng-container *ngFor="let link of links">\n                    <button *ngIf="link.model?.visible"\n                            [attr.data-automation-id]="\'context-\'+((link.title || link.model?.title) | translate)"\n                            mat-menu-item\n                            [disabled]="link.model?.disabled"\n                            (click)="onMenuItemClick($event, link)">\n                        <mat-icon *ngIf="link.model?.icon">{{ link.model.icon }}</mat-icon>\n                        <span>{{ (link.title || link.model?.title) | translate }}</span>\n                    </button>\n                </ng-container>\n            </div>\n        </div>\n    ',host:{role:"menu","class":"adf-context-menu"},encapsulation:D.ViewEncapsulation.None,animations:[d.trigger("panelAnimation",je)]}]}],He.ctorParameters=function(){return[{type:Ne,decorators:[{type:D.Inject,args:[Ne]}]},{type:undefined,decorators:[{type:D.Optional},{type:D.Inject,args:[Ue]}]}]},He.propDecorators={items:[{type:D.ViewChildren,args:[v.MatMenuItem]}],handleKeydownEscape:[{type:D.HostListener,args:["document:keydown.Escape",["$event"]]}],handleKeydownEvent:[{type:D.HostListener,args:["document:keydown",["$event"]]}]},He);function He(e,t){this.contextMenuOverlayRef=e,this.data=t,this.links=this.data}var ze={panelClass:"cdk-overlay-pane",backdropClass:"cdk-overlay-transparent-backdrop",hasBackdrop:!0},Ye=(Ge.prototype.open=function(e){var t=F({},ze,e),n=this.createOverlay(t),i=new Ne(n);return this.attachDialogContainer(n,e,i),n.backdropClick().subscribe(function(){return i.close()}),t.hasBackdrop&&n._backdropElement.addEventListener("contextmenu",function(e){e.preventDefault(),n._backdropClick.next(null)},!0),i},Ge.prototype.createOverlay=function(e){var t=this.getOverlayConfig(e);return this.overlay.create(t)},Ge.prototype.attachDialogContainer=function(e,t,n){var i=this.createInjector(t,n),o=new r.ComponentPortal(Be,null,i);return e.attach(o).instance},Ge.prototype.createInjector=function(e,t){var n=new WeakMap;return n.set(Ne,t),n.set(Ue,e.data),new r.PortalInjector(this.injector,n)},Ge.prototype.getOverlayConfig=function(e){var t=e.source,n=t.clientY,i=t.clientX,o={getBoundingClientRect:function(){return{bottom:n,height:0,left:i,right:i,top:n,width:0}}},r=this.overlay.position().connectedTo(new D.ElementRef(o),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"});return new a.OverlayConfig({hasBackdrop:e.hasBackdrop,backdropClass:e.backdropClass,panelClass:e.panelClass,scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:r})},Ge.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Ge.ctorParameters=function(){return[{type:D.Injector},{type:a.Overlay}]},Ge.ngInjectableDef=D.defineInjectable({factory:function(){return new Ge(D.inject(D.INJECTOR),D.inject(a.Overlay))},token:Ge,providedIn:"root"}),Ge);function Ge(e,t){this.injector=e,this.overlay=t}var qe=($e.prototype.onShowContextMenu=function(e){this.enabled&&(e&&e.preventDefault(),this.links&&0<this.links.length&&this.contextMenuService.open({source:e,data:this.links}))},$e.decorators=[{type:D.Directive,args:[{selector:"[adf-context-menu], [context-menu]"}]}],$e.ctorParameters=function(){return[{type:Ye}]},$e.propDecorators={links:[{type:D.Input,args:["adf-context-menu"]}],enabled:[{type:D.Input,args:["adf-context-menu-enabled"]}],onShowContextMenu:[{type:D.HostListener,args:["contextmenu",["$event"]]}]},$e);function $e(e){this.contextMenuService=e,this.enabled=!1}var Xe=(We.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild()],declarations:[ke,qe,Be],exports:[ke,qe],entryComponents:[Be]}]}],We);function We(){}var Ke={PaginationSize:"paginationSize",Locale:"locale",SupportedPageSizes:"supportedPageSizes",ExpandedSideNavStatus:"expandedSidenav"},Je=(Qe.prototype.initUserPreferenceStatus=function(){this.initUserLanguage(),this.set(Ke.PaginationSize,this.paginationSize),this.set(Ke.SupportedPageSizes,JSON.stringify(this.supportedPageSizes))},Qe.prototype.initUserLanguage=function(){if(this.locale||this.appConfig.get(Ke.Locale)){var e=this.locale||this.getDefaultLocale();this.set(Ke.Locale,e),this.set("textOrientation",this.getLanguageByKey(e).direction||"ltr")}else e=this.locale||this.getDefaultLocale(),this.setWithoutStore(Ke.Locale,e),this.setWithoutStore("textOrientation",this.getLanguageByKey(e).direction||"ltr")},Qe.prototype.select=function(t){return this.onChange.pipe(b.map(function(e){return e[t]}),b.distinctUntilChanged())},Qe.prototype.get=function(e,t){var n=this.getPropertyKey(e),i=this.storage.getItem(n);return i===undefined||null===i?t:i},Qe.prototype.set=function(e,t){e&&(this.storage.setItem(this.getPropertyKey(e),t),this.userPreferenceStatus[e]=t,this.onChangeSubject.next(this.userPreferenceStatus))},Qe.prototype.setWithoutStore=function(e,t){e&&(this.userPreferenceStatus[e]=t,this.onChangeSubject.next(this.userPreferenceStatus))},Qe.prototype.hasItem=function(e){if(e)return this.storage.hasItem(this.getPropertyKey(e))},Qe.prototype.getStoragePrefix=function(){return this.storage.getItem("USER_PROFILE")||"GUEST"},Qe.prototype.setStoragePrefix=function(e){this.storage.setItem("USER_PROFILE",e||"GUEST"),this.initUserPreferenceStatus()},Qe.prototype.getPropertyKey=function(e){return this.getStoragePrefix()+"__"+e},Object.defineProperty(Qe.prototype,"supportedPageSizes",{get:function(){var e=this.get(Ke.SupportedPageSizes);return e?JSON.parse(e):this.appConfig.get("pagination.supportedPageSizes",this.defaults.supportedPageSizes)},set:function(e){this.set(Ke.SupportedPageSizes,JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"paginationSize",{get:function(){var e=this.get(Ke.PaginationSize);return e?Number(e):Number(this.appConfig.get("pagination.size",this.defaults.paginationSize))},set:function(e){this.set(Ke.PaginationSize,e)},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"locale",{get:function(){return this.get(Ke.Locale)},set:function(e){this.set(Ke.Locale,e)},enumerable:!0,configurable:!0}),Qe.prototype.getDefaultLocale=function(){return this.appConfig.get(Ke.Locale)||this.translate.getBrowserCultureLang()||"en"},Qe.prototype.getLanguageByKey=function(t){return this.appConfig.get(B.APP_CONFIG_LANGUAGES_KEY,[{key:"en"}]).find(function(e){return t.includes(e.key)})||{key:"en"}},Qe.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Qe.ctorParameters=function(){return[{type:A.TranslateService},{type:z},{type:G},{type:$}]},Qe.ngInjectableDef=D.defineInjectable({factory:function(){return new Qe(D.inject(A.TranslateService),D.inject(z),D.inject(G),D.inject($))},token:Qe,providedIn:"root"}),Qe);function Qe(e,t,n,i){this.translate=e,this.appConfig=t,this.storage=n,this.alfrescoApiService=i,this.defaults={paginationSize:25,supportedPageSizes:[5,10,15,20],locale:"en",expandedSidenav:!0},this.userPreferenceStatus=this.defaults,this.alfrescoApiService.alfrescoApiInitialized.subscribe(this.initUserPreferenceStatus.bind(this)),this.onChangeSubject=new w.BehaviorSubject(this.userPreferenceStatus),this.onChange=this.onChangeSubject.asObservable()}var Ze=new D.InjectionToken("Injection token for translation providers."),et=(tt.prototype.addTranslationFolder=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.customLoader.providerRegistered(e)||(this.customLoader.registerProvider(e,t),this.userLang?this.loadTranslation(this.userLang,this.defaultLang):this.loadTranslation(this.defaultLang))},tt.prototype.loadTranslation=function(e,t){var n=this;this.translate.getTranslation(e).subscribe(function(){n.translate.use(e),n.onTranslationChanged(e)},function(){t&&t!==e&&n.loadTranslation(t)})},tt.prototype.onTranslationChanged=function(e){this.translate.onTranslationChange.next({lang:e,translations:this.customLoader.getFullTranslationJSON(e)})},tt.prototype.use=function(e){return this.customLoader.init(e),this.translate.use(e)},tt.prototype.get=function(e,t){return this.translate.get(e,t)},tt.prototype.instant=function(e,t){return e?this.translate.instant(e,t):""},tt.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],tt.ctorParameters=function(){return[{type:A.TranslateService},{type:Je},{type:Array,decorators:[{type:D.Optional},{type:D.Inject,args:[Ze]}]}]},tt.ngInjectableDef=D.defineInjectable({factory:function(){return new tt(D.inject(A.TranslateService),D.inject(Je),D.inject(Ze,8))},token:tt,providedIn:"root"}),tt);function tt(e,t,n){var i,o,r=this;if(this.translate=e,this.customLoader=this.translate.currentLoader,this.defaultLang="en",e.setDefaultLang(this.defaultLang),this.customLoader.setDefaultLang(this.defaultLang),n&&0<n.length)try{for(var a=M(n),s=a.next();!s.done;s=a.next()){var l=s.value;this.addTranslationFolder(l.name,l.source)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a["return"])&&o.call(a)}finally{if(i)throw i.error}}t.select(Ke.Locale).subscribe(function(e){e&&(r.userLang=e,r.use(r.userLang))})}var nt=(it.prototype.transform=function(e,t){if(void 0===t&&(t=2),null==e||e===undefined)return"";if(0===e)return"0 "+this.translation.instant("CORE.FILE_SIZE.BYTES");var n=t||2,i=Math.floor(Math.log(e)/Math.log(1024)),o=this.translation.instant("CORE.FILE_SIZE."+["BYTES","KB","MB","GB","TB","PB","EB","ZB","YB"][i]);return parseFloat((e/Math.pow(1024,i)).toFixed(n))+" "+o},it.decorators=[{type:D.Pipe,args:[{name:"adfFileSize",pure:!1}]}],it.ctorParameters=function(){return[{type:et}]},it);function it(e){this.translation=e}var ot=(rt.prototype.getDocumentThumbnailUrl=function(e,t,n){var i;if(e){var o=void 0;"string"==typeof e?o=e:e.entry&&(o=e.entry.id),i=this.apiService.contentApi.getDocumentThumbnailUrl(o,t,n)}return i||this.DEFAULT_ICON},rt.prototype.getMimeTypeIcon=function(e){return this.mimeTypeIcons[e]||this.DEFAULT_ICON},rt.prototype.getDefaultMimeTypeIcon=function(){return this.DEFAULT_ICON},rt.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],rt.ctorParameters=function(){return[{type:$},{type:v.MatIconRegistry},{type:R.DomSanitizer}]},rt.ngInjectableDef=D.defineInjectable({factory:function(){return new rt(D.inject($),D.inject(o.MatIconRegistry),D.inject(R.DomSanitizer))},token:rt,providedIn:"root"}),rt);function rt(e,n,i){var o=this;this.apiService=e,this.DEFAULT_ICON="./assets/images/ft_ic_miscellaneous.svg",this.mimeTypeIcons={"image/png":"./assets/images/ft_ic_raster_image.svg","image/jpeg":"./assets/images/ft_ic_raster_image.svg","image/gif":"./assets/images/ft_ic_raster_image.svg","image/bmp":"./assets/images/ft_ic_raster_image.svg","image/cgm":"./assets/images/ft_ic_raster_image.svg","image/ief":"./assets/images/ft_ic_raster_image.svg","image/jp2":"./assets/images/ft_ic_raster_image.svg","image/tiff":"./assets/images/ft_ic_raster_image.svg","image/vnd.adobe.photoshop":"./assets/images/ft_ic_raster_image.svg","image/vnd.adobe.premiere":"./assets/images/ft_ic_raster_image.svg","image/x-cmu-raster":"./assets/images/ft_ic_raster_image.svg","image/x-dwt":"./assets/images/ft_ic_raster_image.svg","image/x-portable-anymap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-bitmap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-graymap":"./assets/images/ft_ic_raster_image.svg","image/x-portable-pixmap":"./assets/images/ft_ic_raster_image.svg","image/x-raw-adobe":"./assets/images/ft_ic_raster_image.svg","image/x-raw-canon":"./assets/images/ft_ic_raster_image.svg","image/x-raw-fuji":"./assets/images/ft_ic_raster_image.svg","image/x-raw-hasselblad":"./assets/images/ft_ic_raster_image.svg","image/x-raw-kodak":"./assets/images/ft_ic_raster_image.svg","image/x-raw-leica":"./assets/images/ft_ic_raster_image.svg","image/x-raw-minolta":"./assets/images/ft_ic_raster_image.svg","image/x-raw-nikon":"./assets/images/ft_ic_raster_image.svg","image/x-raw-olympus":"./assets/images/ft_ic_raster_image.svg","image/x-raw-panasonic":"./assets/images/ft_ic_raster_image.svg","image/x-raw-pentax":"./assets/images/ft_ic_raster_image.svg","image/x-raw-red":"./assets/images/ft_ic_raster_image.svg","image/x-raw-sigma":"./assets/images/ft_ic_raster_image.svg","image/x-raw-sony":"./assets/images/ft_ic_raster_image.svg","image/x-xbitmap":"./assets/images/ft_ic_raster_image.svg","image/x-xpixmap":"./assets/images/ft_ic_raster_image.svg","image/x-xwindowdump":"./assets/images/ft_ic_raster_image.svg","image/svg+xml":"./assets/images/ft_ic_vector_image.svg","application/eps":"./assets/images/ft_ic_raster_image.svg","application/illustrator":"./assets/images/ft_ic_raster_image.svg","application/pdf":"./assets/images/ft_ic_pdf.svg","application/vnd.ms-excel":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.addin.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.sheet.binary.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.sheet.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-excel.template.macroenabled.12":"./assets/images/ft_ic_ms_excel.svg","application/vnd.sun.xml.calc":"./assets/images/ft_ic_ms_excel.svg","application/vnd.sun.xml.calc.template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-outlook":"./assets/images/ft_ic_document.svg","application/msword":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-word.document.macroenabled.12":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-word.template.macroenabled.12":"./assets/images/ft_ic_ms_word.svg","application/vnd.sun.xml.writer":"./assets/images/ft_ic_ms_word.svg","application/vnd.sun.xml.writer.template":"./assets/images/ft_ic_ms_word.svg","application/rtf":"./assets/images/ft_ic_ms_word.svg","text/rtf":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-powerpoint":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.presentation-template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slide":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.sun.xml.impress":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.sun.xml.impress.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.oasis.opendocument.spreadsheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.oasis.opendocument.spreadsheet-template":"./assets/images/ft_ic_ms_excel.svg","application/vnd.ms-powerpoint.addin.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.presentation.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.slide.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.ms-powerpoint.template.macroenabled.12":"./assets/images/ft_ic_ms_powerpoint.svg","video/mp4":"./assets/images/ft_ic_video.svg","video/3gpp":"./assets/images/ft_ic_video.svg","video/3gpp2":"./assets/images/ft_ic_video.svg","video/mp2t":"./assets/images/ft_ic_video.svg","video/mpeg":"./assets/images/ft_ic_video.svg","video/mpeg2":"./assets/images/ft_ic_video.svg","video/ogg":"./assets/images/ft_ic_video.svg","video/quicktime":"./assets/images/ft_ic_video.svg","video/webm":"./assets/images/ft_ic_video.svg","video/x-flv":"./assets/images/ft_ic_video.svg","video/x-m4v":"./assets/images/ft_ic_video.svg","video/x-ms-asf":"./assets/images/ft_ic_video.svg","video/x-ms-wmv":"./assets/images/ft_ic_video.svg","video/x-msvideo":"./assets/images/ft_ic_video.svg","video/x-rad-screenplay":"./assets/images/ft_ic_video.svg","video/x-sgi-movie":"./assets/images/ft_ic_video.svg","video/x-matroska":"./assets/images/ft_ic_video.svg","audio/mpeg":"./assets/images/ft_ic_audio.svg","audio/ogg":"./assets/images/ft_ic_audio.svg","audio/wav":"./assets/images/ft_ic_audio.svg","audio/basic":"./assets/images/ft_ic_audio.svg","audio/mp4":"./assets/images/ft_ic_audio.svg","audio/vnd.adobe.soundbooth":"./assets/images/ft_ic_audio.svg","audio/vorbis":"./assets/images/ft_ic_audio.svg","audio/x-aiff":"./assets/images/ft_ic_audio.svg","audio/x-flac":"./assets/images/ft_ic_audio.svg","audio/x-ms-wma":"./assets/images/ft_ic_audio.svg","audio/x-wav":"./assets/images/ft_ic_audio.svg","x-world/x-vrml":"./assets/images/ft_ic_video.svg","text/plain":"./assets/images/ft_ic_document.svg","application/vnd.oasis.opendocument.text":"./assets/images/ft_ic_document.svg","application/vnd.oasis.opendocument.text-template":"./assets/images/ft_ic_document.svg","application/x-javascript":"./assets/images/ft_ic_document.svg","application/json":"./assets/images/ft_ic_document.svg","text/csv":"./assets/images/ft_ic_document.svg","text/xml":"./assets/images/ft_ic_document.svg","text/html":"./assets/images/ft_ic_website.svg","application/x-compressed":"./assets/images/ft_ic_archive.svg","application/x-zip-compressed":"./assets/images/ft_ic_archive.svg","application/zip":"./assets/images/ft_ic_archive.svg","application/x-tar":"./assets/images/ft_ic_archive.svg","application/vnd.apple.keynote":"./assets/images/ft_ic_presentation.svg","application/vnd.apple.pages":"./assets/images/ft_ic_document.svg","application/vnd.apple.numbers":"./assets/images/ft_ic_spreadsheet.svg","application/vnd.visio":"./assets/images/ft_ic_document.svg","application/wordperfect":"./assets/images/ft_ic_document.svg","application/x-cpio":"./assets/images/ft_ic_document.svg",folder:"./assets/images/ft_ic_folder.svg",smartFolder:"./assets/images/ft_ic_smart_folder.svg",ruleFolder:"./assets/images/ft_ic_folder_rule.svg",linkFolder:"./assets/images/ft_ic_folder_shortcut_link.svg","disable/folder":"./assets/images/ft_ic_folder_disable.svg",selected:"./assets/images/ft_ic_selected.svg"},Object.keys(this.mimeTypeIcons).forEach(function(e){var t=i.bypassSecurityTrustResourceUrl(o.mimeTypeIcons[e]);n.addSvgIcon(e,t),n.addSvgIconInNamespace("adf",e,t)})}var at=(st.prototype.transform=function(e){return this.thumbnailService.getMimeTypeIcon(e)},st.decorators=[{type:D.Pipe,args:[{name:"adfMimeTypeIcon"}]}],st.ctorParameters=function(){return[{type:ot}]},st);function st(e){this.thumbnailService=e}var lt=(ut.prototype.transform=function(e){return e?this.getNodeTooltip(e):null},ut.prototype.containsLine=function(e,t){return e.some(function(e){return e.toLowerCase()===t.toLowerCase()})},ut.prototype.removeDuplicateLines=function(e){var n=this;return e.reduce(function(e,t){return n.containsLine(e,t)||e.push(t),e},[])},ut.prototype.getNodeTooltip=function(e){if(!e||!e.entry)return null;var t=e.entry,n=t.properties,i=[t.name];if(n){var o=n["cm:title"],r=n["cm:description"];o&&r&&(i[0]=o,i[1]=r),o&&(i[1]=o),r&&(i[1]=r)}return this.removeDuplicateLines(i).join("\n")},ut.decorators=[{type:D.Pipe,args:[{name:"adfNodeNameTooltip"}]}],ut);function ut(){}var pt=(ct.prototype.highlight=function(e,t,n){void 0===n&&(n="adf-highlight");var i=!1,o=e;if(t&&e){var r=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");r=r.split(" ").filter(function(e){return 0<e.length}).join("|");var a=new RegExp(r,"gi");return{text:o=e.replace(/<[^>]+>/g,"").replace(a,function(e){return i=!0,'<span class="'+n+'">'+e+"</span>"}),changed:i}}return{text:o,changed:i}},ct.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],ct.ngInjectableDef=D.defineInjectable({factory:function(){return new ct},token:ct,providedIn:"root"}),ct);function ct(){}var dt=(mt.prototype.transform=function(e,t){return this.highlightTransformService.highlight(e,t).text},mt.decorators=[{type:D.Pipe,args:[{name:"highlight"}]}],mt.ctorParameters=function(){return[{type:pt}]},mt);function mt(e){this.highlightTransformService=e}var ft=(ht.prototype.transform=function(e,t){if(null===e||e===undefined)return"";var n=t||this.defaultLocale,i=y(e);return 7<y().locale(n).diff(i,"days")?new T.DatePipe(n).transform(e,this.defaultDateTimeFormat):i.locale(n).fromNow()},ht.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},ht.DEFAULT_LOCALE="en-US",ht.DEFAULT_DATE_TIME_FORMAT="dd/MM/yyyy HH:mm",ht.decorators=[{type:D.Pipe,args:[{name:"adfTimeAgo"}]}],ht.ctorParameters=function(){return[{type:Je},{type:z}]},ht);function ht(e,t){var n=this;this.userPreferenceService=e,this.appConfig=t,this.onDestroy$=new w.Subject,this.userPreferenceService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){n.defaultLocale=e||ht.DEFAULT_LOCALE}),this.defaultDateTimeFormat=this.appConfig.get("dateValues.defaultDateTimeFormat",ht.DEFAULT_DATE_TIME_FORMAT)}var gt=(yt.prototype.transform=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var i="";if(e){var o=this.getInitialUserName(e.firstName,e.lastName,n);i=this.sanitized.bypassSecurityTrustHtml('<div id="user-initials-image" class="'+t+'">'+o+"</div>")}return i},yt.prototype.getInitialUserName=function(e,t,n){return(e=e?e[0]:"")+n+(t=t?t[0]:"")},yt.decorators=[{type:D.Pipe,args:[{name:"usernameInitials"}]}],yt.ctorParameters=function(){return[{type:R.DomSanitizer}]},yt);function yt(e){this.sanitized=e}var vt=(bt.prototype.transform=function(e){var t="";return e&&(e.firstName&&(t+=e.firstName),e.lastName&&(t+=0<t.length?" ":"",t+=e.lastName)),t},bt.decorators=[{type:D.Pipe,args:[{name:"fullName"}]}],bt);function bt(){}var Et=(It.prototype.transform=function(e,t,n){void 0===t&&(t="_"),void 0===n&&(n=!0);var i="";return e&&(i=n?e.trim().split(" ").join(t).toLocaleLowerCase():e.trim().split(" ").join(t)),i},It.decorators=[{type:D.Pipe,args:[{name:"formatSpace"}]}],It);function It(){}var wt=(Ct.prototype.transform=function(e){return null==e||e===undefined?"":e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,"").split("_").pop()},Ct.decorators=[{type:D.Pipe,args:[{name:"fileType",pure:!0}]}],Ct);function Ct(){}var Tt=(St.prototype.transform=function(e,t){return void 0===t&&(t=St.DEFAULT_SEPARATOR),e&&e instanceof Array?e.map(function(e){return e.trim()}).join(t):e},St.DEFAULT_SEPARATOR=", ",St.decorators=[{type:D.Pipe,args:[{name:"multiValue"}]}],St);function St(){}var At=(Ot.prototype.transform=function(e,t,n){var i=t||this.defaultFormat,o=n||this.defaultLocale;return new T.DatePipe(o).transform(e,i)},Ot.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},Ot.DEFAULT_LOCALE="en-US",Ot.DEFAULT_DATE_FORMAT="mediumDate",Ot.decorators=[{type:D.Pipe,args:[{name:"adfLocalizedDate",pure:!1}]}],Ot.ctorParameters=function(){return[{type:Je},{type:z}]},Ot);function Ot(e,t){var n=this;this.userPreferenceService=e,this.appConfig=t,this.defaultLocale=Ot.DEFAULT_LOCALE,this.defaultFormat=Ot.DEFAULT_DATE_FORMAT,this.onDestroy$=new w.Subject,this.userPreferenceService&&this.userPreferenceService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){e&&(n.defaultLocale=e)}),this.appConfig&&(this.defaultFormat=this.appConfig.get("dateValues.defaultDateFormat",Ot.DEFAULT_DATE_FORMAT))}var Dt=(xt.prototype.transform=function(e,t,n){var i=(t&&t.minIntegerDigits?t.minIntegerDigits:this.defaultMinIntegerDigits)+"."+(t&&t.minFractionDigits?t.minFractionDigits:this.defaultMinFractionDigits)+"-"+(t&&t.maxFractionDigits?t.maxFractionDigits:this.defaultMaxFractionDigits),o=n||this.defaultLocale;return new T.DecimalPipe(o).transform(e,i)},xt.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},xt.DEFAULT_LOCALE="en-US",xt.DEFAULT_MIN_INTEGER_DIGITS=1,xt.DEFAULT_MIN_FRACTION_DIGITS=0,xt.DEFAULT_MAX_FRACTION_DIGITS=2,xt.decorators=[{type:D.Pipe,args:[{name:"adfDecimalNumber",pure:!1}]}],xt.ctorParameters=function(){return[{type:Je},{type:z}]},xt);function xt(e,t){var n=this;this.userPreferenceService=e,this.appConfig=t,this.defaultLocale=xt.DEFAULT_LOCALE,this.defaultMinIntegerDigits=xt.DEFAULT_MIN_INTEGER_DIGITS,this.defaultMinFractionDigits=xt.DEFAULT_MIN_FRACTION_DIGITS,this.defaultMaxFractionDigits=xt.DEFAULT_MAX_FRACTION_DIGITS,this.onDestroy$=new w.Subject,this.userPreferenceService&&this.userPreferenceService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){e&&(n.defaultLocale=e)}),this.appConfig&&(this.defaultMinIntegerDigits=this.appConfig.get("decimalValues.minIntegerDigits",xt.DEFAULT_MIN_INTEGER_DIGITS),this.defaultMinFractionDigits=this.appConfig.get("decimalValues.minFractionDigits",xt.DEFAULT_MIN_FRACTION_DIGITS),this.defaultMaxFractionDigits=this.appConfig.get("decimalValues.maxFractionDigits",xt.DEFAULT_MAX_FRACTION_DIGITS))}var Rt=(Pt.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule],declarations:[nt,dt,ft,at,gt,vt,lt,Et,wt,Tt,At,Dt],providers:[nt,dt,ft,at,gt,lt,Et,wt,Tt,At,Dt],exports:[nt,dt,ft,at,gt,vt,lt,Et,wt,Tt,At,Dt]}]}],Pt);function Pt(){}var Lt=(Ft.prototype.ngAfterViewChecked=function(){this.highlight()},Ft.prototype.highlight=function(n,e,i){var o=this;void 0===n&&(n=this.search),void 0===e&&(e=this.selector),void 0===i&&(i=this.classToApply),n&&e&&this.el.nativeElement.querySelectorAll(e).forEach(function(e){var t=o.highlightTransformService.highlight(e.innerHTML,n,i);t.changed&&o.renderer.setProperty(e,"innerHTML",t.text)})},Ft.decorators=[{type:D.Directive,args:[{selector:"[adf-highlight]"}]}],Ft.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2},{type:pt}]},Ft.propDecorators={selector:[{type:D.Input,args:["adf-highlight-selector"]}],search:[{type:D.Input,args:["adf-highlight"]}],classToApply:[{type:D.Input,args:["adf-highlight-class"]}]},Ft);function Ft(e,t,n){this.el=e,this.renderer=t,this.highlightTransformService=n,this.selector="",this.search="",this.classToApply="adf-highlight"}var _t=(kt.prototype.ngOnInit=function(){var t=this;this.elementRef.nativeElement&&this.renderer.listen(this.elementRef.nativeElement,"click",function(e){e.preventDefault(),t.logout()})},kt.prototype.logout=function(){var e=this;this.auth.logout().subscribe(function(){return e.redirectToUri()},function(){return e.redirectToUri()})},kt.prototype.redirectToUri=function(){this.enableRedirect&&this.router.navigate([this.redirectUri])},kt.decorators=[{type:D.Directive,args:[{selector:"[adf-logout]"}]}],kt.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2},{type:f.Router},{type:ae}]},kt.propDecorators={redirectUri:[{type:D.Input}],enableRedirect:[{type:D.Input}]},kt);function kt(e,t,n,i){this.elementRef=e,this.renderer=t,this.router=n,this.auth=i,this.redirectUri="/login",this.enableRedirect=!0}var Mt=(Nt.prototype.onClick=function(){this.process(this.selection)},Nt.prototype.ngOnChanges=function(){!this.selection||this.selection&&0===this.selection.length?this.setDisableAttribute(!0):this.elementRef.nativeElement.hasAttribute("adf-check-allowable-operation")||this.setDisableAttribute(!1)},Nt.prototype.setDisableAttribute=function(e){this.elementRef.nativeElement.disabled=e},Nt.prototype.process=function(e){var i=this;if(e&&e.length){var t=this.getDeleteNodesBatch(e);w.forkJoin.apply(void 0,V(t)).subscribe(function(e){var t=i.processStatus(e),n=i.getMessage(t);i["delete"].emit(n)})}},Nt.prototype.getDeleteNodesBatch=function(e){var t=this;return e.map(function(e){return t.deleteNode(e)})},Nt.prototype.deleteNode=function(e){var t,n=e.entry.nodeId||e.entry.id;return t=e.entry.hasOwnProperty("archivedAt")&&e.entry.archivedAt?this.alfrescoApiService.nodesApi.purgeDeletedNode(n):this.alfrescoApiService.nodesApi.deleteNode(n,{permanent:this.permanent}),w.from(t).pipe(b.map(function(){return{entry:e.entry,status:1}}),b.catchError(function(){return w.of({entry:e.entry,status:0})}))},Nt.prototype.processStatus=function(e){return e.reduce(function(e,t){return 1===t.status?e.success.push(t):e.failed.push(t),e},{success:[],failed:[],get someFailed(){return!!this.failed.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.failed.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded}})},Nt.prototype.getMessage=function(e){return e.allFailed&&!e.oneFailed?this.translation.instant("CORE.DELETE_NODE.ERROR_PLURAL",{number:e.failed.length}):e.allSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PLURAL",{number:e.success.length}):e.someFailed&&e.someSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PARTIAL_PLURAL",{success:e.success.length,failed:e.failed.length}):e.someFailed&&e.oneSucceeded?this.translation.instant("CORE.DELETE_NODE.PARTIAL_SINGULAR",{success:e.success.length,failed:e.failed.length}):e.oneFailed&&!e.someSucceeded?this.translation.instant("CORE.DELETE_NODE.ERROR_SINGULAR",{name:e.failed[0].entry.name}):e.oneSucceeded&&!e.someFailed?this.translation.instant("CORE.DELETE_NODE.SINGULAR",{name:e.success[0].entry.name}):void 0},Nt.decorators=[{type:D.Directive,args:[{selector:"[adf-delete]"}]}],Nt.ctorParameters=function(){return[{type:$},{type:et},{type:D.ElementRef}]},Nt.propDecorators={selection:[{type:D.Input,args:["adf-delete"]}],permanent:[{type:D.Input}],"delete":[{type:D.Output}],onClick:[{type:D.HostListener,args:["click"]}]},Nt);function Nt(e,t,n){this.alfrescoApiService=e,this.translation=t,this.elementRef=n,this.permanent=!1,this["delete"]=new D.EventEmitter}var Vt=(Ut.prototype.onClick=function(){this.toggleFavorite()},Ut.prototype.ngOnChanges=function(e){e.selection.currentValue.length?this.markFavoritesNodes(e.selection.currentValue):this.favorites=[]},Ut.prototype.toggleFavorite=function(){var n=this;if(this.favorites.length){var e=this.favorites.every(function(e){return e.entry.isFavorite});if(e){var t=this.favorites.map(function(e){var t=e.entry.nodeId||e.entry.id;return w.from(n.alfrescoApiService.favoritesApi.removeFavoriteSite("-me-",t))});w.forkJoin(t).subscribe(function(){n.favorites.map(function(e){return e.entry.isFavorite=!1}),n.toggle.emit()},function(e){return n.error.emit(e)})}if(!e){var i=this.favorites.filter(function(e){return!e.entry.isFavorite}),o=i.map(function(e){return n.createFavoriteBody(e)});w.from(this.alfrescoApiService.favoritesApi.addFavorite("-me-",o)).subscribe(function(){i.map(function(e){return e.entry.isFavorite=!0}),n.toggle.emit()},function(e){return n.error.emit(e)})}}},Ut.prototype.markFavoritesNodes=function(e){var n=this;if(e.length<=this.favorites.length){var t=this.reduce(this.favorites,e);this.favorites=t}var i=this.diff(e,this.favorites),o=this.getProcessBatch(i);w.forkJoin(o).subscribe(function(e){var t;(t=n.favorites).push.apply(t,V(e))})},Ut.prototype.hasFavorites=function(){return!(this.favorites&&!this.favorites.length)&&this.favorites.every(function(e){return e.entry.isFavorite})},Ut.prototype.getProcessBatch=function(e){var t=this;return e.map(function(e){return t.getFavorite(e)})},Ut.prototype.getFavorite=function(e){var t=e.entry;if(t&&t.hasOwnProperty("isFavorite"))return w.of(e);var n=t,i=n.name,o=n.isFile,r=n.isFolder,a=t.nodeId||t.id,s=this.alfrescoApiService.favoritesApi.getFavorite("-me-",a);return w.from(s).pipe(b.map(function(){return{entry:{id:a,isFolder:r,isFile:o,name:i,isFavorite:!0}}}),b.catchError(function(){return w.of({entry:{id:a,isFolder:r,isFile:o,name:i,isFavorite:!1}})}))},Ut.prototype.createFavoriteBody=function(e){var t,n=this.getNodeType(e),i=e.entry.nodeId||e.entry.id;return{target:(t={},t[n]={guid:i},t)}},Ut.prototype.getNodeType=function(e){return e.entry.isFile||e.entry.isFolder?e.entry.isFile?"file":"folder":"file"},Ut.prototype.diff=function(e,t){var n=t.map(function(e){return e.entry.id});return e.filter(function(e){return n.includes(e.entry.id)?null:e})},Ut.prototype.reduce=function(e,t){var n=t.map(function(e){return e.entry.id});return e.filter(function(e){return n.includes(e.entry.id)?e:null})},Ut.decorators=[{type:D.Directive,args:[{selector:"[adf-node-favorite]",exportAs:"adfFavorite"}]}],Ut.ctorParameters=function(){return[{type:$}]},Ut.propDecorators={selection:[{type:D.Input,args:["adf-node-favorite"]}],toggle:[{type:D.Output}],error:[{type:D.Output}],onClick:[{type:D.HostListener,args:["click"]}]},Ut);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ut(e){this.alfrescoApiService=e,this.favorites=[],this.selection=[],this.toggle=new D.EventEmitter,this.error=new D.EventEmitter}var jt,Bt=(L(Ht,jt=String),Ht.CONTRIBUTOR="Contributor",Ht.CONSUMER="Consumer",Ht.COLLABORATOR="Collaborator",Ht.MANAGER="Manager",Ht.EDITOR="Editor",Ht.COORDINATOR="Coordinator",Ht.NOT_CONTRIBUTOR="!Contributor",Ht.NOT_CONSUMER="!Consumer",Ht.NOT_COLLABORATOR="!Collaborator",Ht.NOT_MANAGER="!Manager",Ht.NOT_EDITOR="!Editor",Ht.NOT_COORDINATOR="!Coordinator",Ht);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ht(){return null!==jt&&jt.apply(this,arguments)||this}var zt,Yt=(L(Gt,zt=String),Gt.DELETE="delete",Gt.UPDATE="update",Gt.CREATE="create",Gt.COPY="copy",Gt.LOCK="lock",Gt.UPDATEPERMISSIONS="updatePermissions",Gt.NOT_DELETE="!delete",Gt.NOT_UPDATE="!update",Gt.NOT_CREATE="!create",Gt.NOT_UPDATEPERMISSIONS="!updatePermissions",Gt);function Gt(){return null!==zt&&zt.apply(this,arguments)||this}var qt=($t.prototype.downloadBlob=function(e,t){this.saveData(e,"blob",t)},$t.prototype.downloadData=function(e,t){this.saveData(e,"data",t)},$t.prototype.downloadJSON=function(e,t){this.saveData(e,"json",t)},$t.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],$t.ctorParameters=function(){return[]},$t.ngInjectableDef=D.defineInjectable({factory:function(){return new $t},token:$t,providedIn:"root"}),$t);function $t(){var a;this.saveData=(a=document.createElement("a"),document.body.appendChild(a),a.style.display="none",function(e,t,n){var i=null;if("blob"!==t&&"data"!==t||(i=new Blob([e],{type:"octet/stream"})),"object"===t||"json"===t){var o=JSON.stringify(e);i=new Blob([o],{type:"octet/stream"})}if(i)if("undefined"!=typeof window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,n);else{var r=window.URL.createObjectURL(i);a.href=r,a.download=n,a.click(),window.URL.revokeObjectURL(r)}})}var Xt=(Wt.prototype.downloadBlob=function(e,t){this.downloadService.downloadBlob(e,t)},Wt.prototype.downloadData=function(e,t){this.downloadService.downloadData(e,t)},Wt.prototype.downloadJSON=function(e,t){this.downloadService.downloadJSON(e,t)},Wt.prototype.createTrustedUrl=function(e){var t=window.URL.createObjectURL(e);return this.sanitizer.bypassSecurityTrustUrl(t)},Object.defineProperty(Wt.prototype,"contentApi",{get:function(){return this.apiService.getInstance().content},enumerable:!0,configurable:!0}),Wt.prototype.getDocumentThumbnailUrl=function(e,t,n){return this.thumbnailService.getDocumentThumbnailUrl(e,t,n)},Wt.prototype.getContentUrl=function(e,t,n){if(e){var i=void 0;return"string"==typeof e?i=e:e.entry&&(i=e.entry.id),this.contentApi.getContentUrl(i,t,n)}return null},Wt.prototype.getNodeContent=function(e){var t=this;return w.from(this.apiService.getInstance().core.nodesApi.getFileContent(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},Wt.prototype.getNode=function(e,t){return w.from(this.apiService.getInstance().nodes.getNode(e,t))},Wt.prototype.hasPermissions=function(e,t){var n=!1;return e&&e.permissions&&e.permissions.locallySet?n=t&&t.startsWith("!")?!e.permissions.locallySet.find(function(e){return e.name===t.replace("!","")}):!!e.permissions.locallySet.find(function(e){return e.name===t}):t===Bt.CONSUMER?n=!0:t===Bt.NOT_CONSUMER?n=!1:t&&t.startsWith("!")&&(n=!0),n},Wt.prototype.hasAllowableOperations=function(e,t){var n=!1;return e&&e.allowableOperations?n=t&&t.startsWith("!")?!e.allowableOperations.find(function(e){return e===t.replace("!","")}):!!e.allowableOperations.find(function(e){return e===t}):t&&t.startsWith("!")&&(n=!0),t===Yt.COPY&&(n=!0),t===Yt.LOCK&&(n=e.isFile,e.isLocked&&e.allowableOperations&&(n=!!~e.allowableOperations.indexOf("updatePermissions"))),n},Wt.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},Wt.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Wt.ctorParameters=function(){return[{type:ae},{type:$},{type:te},{type:R.DomSanitizer},{type:qt},{type:ot}]},Wt.ngInjectableDef=D.defineInjectable({factory:function(){return new Wt(D.inject(ae),D.inject($),D.inject(te),D.inject(R.DomSanitizer),D.inject(qt),D.inject(ot))},token:Wt,providedIn:"root"}),Wt);function Wt(e,t,n,i,o,r){this.authService=e,this.apiService=t,this.logService=n,this.sanitizer=i,this.downloadService=o,this.thumbnailService=r,this.folderCreated=new w.Subject,this.folderCreate=new w.Subject,this.folderEdit=new w.Subject}var Kt=new D.InjectionToken("extendible.component"),Jt=(Qt.prototype.ngOnChanges=function(e){e.nodes&&!e.nodes.firstChange&&this.updateElement()},Qt.prototype.updateElement=function(){var e=this.hasAllowableOperations(this.nodes,this.permission);return e?this.enable():this.disable(),e},Qt.prototype.enable=function(){this.parentComponent?(this.parentComponent.disabled=!1,this.changeDetector.detectChanges()):this.enableElement()},Qt.prototype.disable=function(){this.parentComponent?(this.parentComponent.disabled=!0,this.changeDetector.detectChanges()):this.disableElement()},Qt.prototype.enableElement=function(){this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")},Qt.prototype.disableElement=function(){this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","true")},Qt.prototype.hasAllowableOperations=function(e,t){var n=this;return!!(e&&0<e.length)&&e.every(function(e){return n.contentService.hasAllowableOperations(e.entry,t)})},Qt.decorators=[{type:D.Directive,args:[{selector:"[adf-check-allowable-operation]"}]}],Qt.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2},{type:Xt},{type:D.ChangeDetectorRef},{type:undefined,decorators:[{type:D.Host},{type:D.Optional},{type:D.Inject,args:[Kt]}]}]},Qt.propDecorators={permission:[{type:D.Input,args:["adf-check-allowable-operation"]}],nodes:[{type:D.Input,args:["adf-nodes"]}]},Qt);function Qt(e,t,n,i,o){this.elementRef=e,this.renderer=t,this.contentService=n,this.changeDetector=i,this.parentComponent=o,this.permission=null,this.nodes=[]}function Zt(){}var en=(tn.prototype.onClick=function(){this.recover(this.selection)},tn.prototype.recover=function(r){var e,a=this;if(r.length){var t=this.getNodesWithPath(r);if(!r.length||!t.length)return(e=this.restoreProcessStatus.fail).push.apply(e,V(r)),void this.notification();this.restoreNodesBatch(t).pipe(b.tap(function(e){var t,n,i=a.processStatus(e);(t=a.restoreProcessStatus.fail).push.apply(t,V(i.fail)),(n=a.restoreProcessStatus.success).push.apply(n,V(i.success))}),b.mergeMap(function(){return a.getDeletedNodes()})).subscribe(function(e){var t=e.list.entries,n=a.restoreProcessStatus.fail,i=a.diff(n,r,!1),o=a.diff(i,t);o.length?a.recover(o):a.notification()})}},tn.prototype.restoreNodesBatch=function(e){var t=this;return w.forkJoin(e.map(function(e){return t.restoreNode(e)}))},tn.prototype.getNodesWithPath=function(e){return e.filter(function(e){return e.entry.path})},tn.prototype.getDeletedNodes=function(){var e=this.alfrescoApiService.getInstance().core.nodesApi.getDeletedNodes({include:["path"]});return w.from(e)},tn.prototype.restoreNode=function(e){var n=e.entry,t=this.alfrescoApiService.getInstance().nodes.restoreNode(n.id);return w.from(t).pipe(b.map(function(){return{status:1,entry:n}}),b.catchError(function(e){var t=JSON.parse(e.message).error.statusCode;return w.of({status:0,statusCode:t,entry:n})}))},tn.prototype.diff=function(e,t,n){void 0===n&&(n=!0);var i=e.map(function(e){return e.entry.id});return t.filter(function(e){return n?i.includes(e.entry.id)?e:null:i.includes(e.entry.id)?null:e})},tn.prototype.processStatus=function(e){return void 0===e&&(e=[]),e.reduce(function(e,t){return t.status?e.success.push(t):e.fail.push(t),e},{fail:[],success:[],get someFailed(){return!!this.fail.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.fail.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded},reset:function(){this.fail=[],this.success=[]}})},tn.prototype.getRestoreMessage=function(){var e=this.restoreProcessStatus;return e.someFailed&&!e.oneFailed?this.translation.instant("CORE.RESTORE_NODE.PARTIAL_PLURAL",{number:e.fail.length}):e.oneFailed&&e.fail[0].statusCode?409===e.fail[0].statusCode?this.translation.instant("CORE.RESTORE_NODE.NODE_EXISTS",{name:e.fail[0].entry.name}):this.translation.instant("CORE.RESTORE_NODE.GENERIC",{name:e.fail[0].entry.name}):e.oneFailed&&!e.fail[0].statusCode?this.translation.instant("CORE.RESTORE_NODE.LOCATION_MISSING",{name:e.fail[0].entry.name}):e.allSucceeded&&!e.oneSucceeded?this.translation.instant("CORE.RESTORE_NODE.PLURAL"):e.allSucceeded&&e.oneSucceeded?this.translation.instant("CORE.RESTORE_NODE.SINGULAR",{name:e.success[0].entry.name}):void 0},tn.prototype.notification=function(){var e=Object.assign({},this.restoreProcessStatus),t=this.getRestoreMessage();this.reset();var n,i=e.oneSucceeded&&!e.someFailed?this.translation.instant("CORE.RESTORE_NODE.VIEW"):"";e.success&&0<e.success.length&&(n=e.success[0].entry.path),this.restore.emit({message:t,action:i,path:n})},tn.prototype.reset=function(){this.restoreProcessStatus.reset(),this.selection=[]},tn.decorators=[{type:D.Directive,args:[{selector:"[adf-restore]"}]}],tn.ctorParameters=function(){return[{type:$},{type:et}]},tn.propDecorators={selection:[{type:D.Input,args:["adf-restore"]}],restore:[{type:D.Output}],onClick:[{type:D.HostListener,args:["click"]}]},tn);function tn(e,t){this.alfrescoApiService=e,this.translation=t,this.restore=new D.EventEmitter,this.restoreProcessStatus=this.processStatus()}var nn=(on.prototype.ngOnInit=function(){var t=this;if(this.isClickMode()&&this.renderer){var e=this.renderer.createElement("input");this.upload=this.el.nativeElement.parentElement.appendChild(e),this.upload.type="file",this.upload.style.display="none",this.upload.addEventListener("change",function(e){return t.onSelectFiles(e)}),this.multiple&&this.upload.setAttribute("multiple",""),this.accept&&this.upload.setAttribute("accept",this.accept),this.directory&&this.upload.setAttribute("webkitdirectory","")}this.isDropMode()&&this.ngZone.runOutsideAngular(function(){t.element.addEventListener("dragenter",t.onDragEnter.bind(t)),t.element.addEventListener("dragover",t.onDragOver.bind(t)),t.element.addEventListener("dragleave",t.onDragLeave.bind(t)),t.element.addEventListener("drop",t.onDrop.bind(t))})},on.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragenter",this.onDragEnter),this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("dragleave",this.onDragLeave),this.element.removeEventListener("drop",this.onDrop)},on.prototype.onClick=function(e){this.isClickMode()&&this.upload&&(e.preventDefault(),this.upload.click())},on.prototype.onDragEnter=function(e){this.isDropMode()&&(this.element.classList.add(this.cssClassName),this.isDragging=!0)},on.prototype.onDragOver=function(e){return e.preventDefault(),this.isDropMode()&&(this.element.classList.add(this.cssClassName),this.isDragging=!0),!1},on.prototype.onDragLeave=function(e){this.isDropMode()&&(this.element.classList.remove(this.cssClassName),this.isDragging=!1)},on.prototype.onDrop=function(e){var t=this;if(this.isDropMode()){e.stopPropagation(),e.preventDefault(),this.element.classList.remove(this.cssClassName),this.isDragging=!1;var n=this.getDataTransfer(e);n&&this.getFilesDropped(n).then(function(e){t.onUploadFiles(e)})}return!1},on.prototype.onUploadFiles=function(e){if(this.enabled&&0<e.length){var t=new CustomEvent("upload-files",{detail:{sender:this,data:this.data,files:e},bubbles:!0});this.el.nativeElement.dispatchEvent(t)}},on.prototype.hasMode=function(e){return this.enabled&&e&&this.mode&&-1<this.mode.indexOf(e)},on.prototype.isDropMode=function(){return this.hasMode("drop")},on.prototype.isClickMode=function(){return this.hasMode("click")},on.prototype.getDataTransfer=function(e){return e&&e.dataTransfer?e.dataTransfer:e&&e.originalEvent&&e.originalEvent.dataTransfer?e.originalEvent.dataTransfer:null},on.prototype.getFilesDropped=function(a){return new Promise(function(t){var i=[];if(a){var o=a.items;if(o)for(var e=function(e){if("undefined"!=typeof o[e].webkitGetAsEntry){var n=o[e].webkitGetAsEntry();n&&(n.isFile?i.push(Promise.resolve({entry:n,file:o[e].getAsFile(),relativeFolder:"/"})):n.isDirectory&&i.push(new Promise(function(t){ge.flatten(n).then(function(e){return t(e)})})))}else i.push(Promise.resolve({entry:null,file:o[e].getAsFile(),relativeFolder:"/"}))},n=0;n<o.length;n++)e(n);else{var r=ge.toFileArray(a.files).map(function(e){return{entry:null,file:e,relativeFolder:"/"}});i.push(Promise.resolve(r))}}Promise.all(i).then(function(e){t(e.reduce(function(e,t){return e.concat(t)},[]))})})},on.prototype.onSelectFiles=function(e){if(this.isClickMode()){var t=e.currentTarget,n=ge.toFileArray(t.files);this.onUploadFiles(n.map(function(e){return{entry:null,file:e,relativeFolder:"/"}})),e.target.value=""}},on.decorators=[{type:D.Directive,args:[{selector:"[adf-upload]"}]}],on.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2},{type:D.NgZone}]},on.propDecorators={enabled:[{type:D.Input,args:["adf-upload"]}],data:[{type:D.Input,args:["adf-upload-data"]}],mode:[{type:D.Input}],multiple:[{type:D.Input}],accept:[{type:D.Input}],directory:[{type:D.Input}],onClick:[{type:D.HostListener,args:["click",["$event"]]}]},on);function on(e,t,n){this.el=e,this.renderer=t,this.ngZone=n,this.enabled=!0,this.mode=["drop"],this.isDragging=!1,this.cssClassName="adf-upload__dragging",this.element=e.nativeElement}var rn=(an.prototype.createDownload=function(e){var t=this;return w.from(this.apiService.getInstance().core.downloadsApi.createDownload(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},an.prototype.getContentUrl=function(e,t){return this.apiService.getInstance().content.getContentUrl(e,t)},an.prototype.getNode=function(e){return w.from(this.apiService.getInstance().core.nodesApi.getNode(e))},an.prototype.getDownload=function(e){return w.from(this.apiService.getInstance().core.downloadsApi.getDownload(e))},an.prototype.cancelDownload=function(e){this.apiService.getInstance().core.downloadsApi.cancelDownload(e)},an.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},an.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],an.ctorParameters=function(){return[{type:$},{type:te}]},an.ngInjectableDef=D.defineInjectable({factory:function(){return new an(D.inject($),D.inject(te))},token:an,providedIn:"root"}),an);function an(e,t){this.apiService=e,this.logService=t}var sn=(ln.prototype.ngOnInit=function(){this.data&&this.data.nodeIds&&0<this.data.nodeIds.length&&(this.cancelled?this.logService.log("Cancelled"):this.downloadZip(this.data.nodeIds))},ln.prototype.cancelDownload=function(){this.cancelled=!0,this.downloadZipService.cancelDownload(this.downloadId),this.dialogRef.close(!1)},ln.prototype.downloadZip=function(e){var o=this;e&&0<e.length&&this.downloadZipService.createDownload({nodeIds:e}).subscribe(function(n){if(n&&n.entry&&n.entry.id){var i=o.downloadZipService.getContentUrl(n.entry.id,!0);o.downloadZipService.getNode(n.entry.id).subscribe(function(e){o.logService.log(e);var t=e.entry.name;o.downloadId=n.entry.id,o.waitAndDownload(n.entry.id,i,t)})}})},ln.prototype.waitAndDownload=function(t,n,i){var o=this;this.cancelled||this.downloadZipService.getDownload(t).subscribe(function(e){e.entry&&("DONE"===e.entry.status?o.download(n,i):setTimeout(function(){o.waitAndDownload(t,n,i)},1e3))})},ln.prototype.download=function(e,t){if(e&&t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}this.dialogRef.close(!0)},ln.decorators=[{type:D.Component,args:[{selector:"adf-download-zip-dialog",template:'<h1 matDialogTitle>{{ \'CORE.DIALOG.DOWNLOAD_ZIP.TITLE\' | translate }}</h1>\n<div mat-dialog-content>\n    <mat-progress-bar color="primary" mode="indeterminate"></mat-progress-bar>\n</div>\n<div mat-dialog-actions>\n    <span class="adf-spacer"></span>\n    <button mat-button color="primary" id="cancel-button" (click)="cancelDownload()">\n        {{ \'CORE.DIALOG.DOWNLOAD_ZIP.ACTIONS.CANCEL\' | translate }}\n    </button>\n</div>\n',host:{"class":"adf-download-zip-dialog"},encapsulation:D.ViewEncapsulation.None,styles:[".adf-spacer{flex:1 1 auto}.adf-download-zip-dialog .mat-dialog-actions .mat-button-wrapper{text-transform:uppercase}"]}]}],ln.ctorParameters=function(){return[{type:v.MatDialogRef},{type:undefined,decorators:[{type:D.Inject,args:[v.MAT_DIALOG_DATA]}]},{type:te},{type:rn}]},ln);function ln(e,t,n,i){this.dialogRef=e,this.data=t,this.logService=n,this.downloadZipService=i,this.cancelled=!1}var un=(pn.prototype.onClick=function(){this.downloadNodes(this.nodes)},pn.prototype.downloadNodes=function(e){this.isSelectionValid(e)&&(e instanceof Array?1===e.length?this.downloadNode(e[0]):this.downloadZip(e):this.downloadNode(e))},pn.prototype.downloadNode=function(e){if(e&&e.entry){var t=e.entry;t.isFile&&this.downloadFile(e),t.isFolder&&this.downloadZip([e]),t.isFile||t.isFolder||!t.nodeId||this.downloadFile(e)}},pn.prototype.isSelectionValid=function(e){return e||e instanceof Array&&0<e.length},pn.prototype.downloadFile=function(e){if(e&&e.entry){var t=this.apiService.getInstance().content,n=e.entry.nodeId||e.entry.id,i=t.getContentUrl(n,!0),o=e.entry.name;this.download(i,o)}},pn.prototype.downloadZip=function(e){if(e&&0<e.length){var t=e.map(function(e){return e.entry.nodeId||e.entry.id});this.dialog.open(sn,{width:"600px",disableClose:!0,data:{nodeIds:t}})}},pn.prototype.download=function(e,t){if(e&&t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},pn.decorators=[{type:D.Directive,args:[{selector:"[adf-node-download], [adfNodeDownload]"}]}],pn.ctorParameters=function(){return[{type:$},{type:v.MatDialog}]},pn.propDecorators={nodes:[{type:D.Input,args:["adfNodeDownload"]}],onClick:[{type:D.HostListener,args:["click"]}]},pn);function pn(e,t){this.apiService=e,this.dialog=t}var cn=(dn.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe],declarations:[Lt,_t,Mt,Vt,Jt,en,un,nn],exports:[Lt,_t,Mt,Vt,Jt,en,un,nn]}]}],dn);function dn(){}var mn=(fn.prototype.ngOnInit=function(){var t=this;this.updateValue(),this.alfrescoApiService.nodeUpdated.pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.row&&t.row.node.entry.id===e.id&&(t.row.node.entry=e,t.row.cache[t.column.key]=t.column.key.split(".").reduce(function(e,t){return e[t]},e),t.updateValue())})},fn.prototype.updateValue=function(){if(this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column);this.value$.next(e),this.tooltip||(this.tooltip=e)}},fn.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},fn.decorators=[{type:D.Component,args:[{selector:"adf-datatable-cell",changeDetection:D.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span *ngIf="copyContent; else defaultCell"\n                adf-clipboard="CLIPBOARD.CLICK_TO_COPY"\n                [clipboard-notification]="\'CLIPBOARD.SUCCESS_COPY\'"\n                [attr.aria-label]="value$ | async"\n                [title]="tooltip"\n                class="adf-datatable-cell-value"\n                >{{ value$ | async }}</span>\n        </ng-container>\n        <ng-template #defaultCell>\n            <span\n                [attr.aria-label]="value$ | async"\n                [title]="tooltip"\n                class="adf-datatable-cell-value"\n            >{{ value$ | async }}</span>\n        </ng-template>\n    ',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-datatable-content-cell"}}]}],fn.ctorParameters=function(){return[{type:$}]},fn.propDecorators={data:[{type:D.Input}],column:[{type:D.Input}],row:[{type:D.Input}],copyContent:[{type:D.Input}],tooltip:[{type:D.Input}]},fn);function fn(e){this.alfrescoApiService=e,this.value$=new w.BehaviorSubject(""),this.onDestroy$=new w.Subject}var hn=(gn.prototype.ngOnInit=function(){this.srTitle||"$thumbnail"!==this.key||(this.srTitle="Thumbnail")},gn.decorators=[{type:D.Component,args:[{selector:"data-column",template:""}]}],gn.propDecorators={key:[{type:D.Input}],type:[{type:D.Input}],format:[{type:D.Input}],sortable:[{type:D.Input}],title:[{type:D.Input}],template:[{type:D.ContentChild,args:[D.TemplateRef]}],formatTooltip:[{type:D.Input}],srTitle:[{type:D.Input,args:["sr-title"]}],cssClass:[{type:D.Input,args:["class"]}],copyContent:[{type:D.Input}]},gn);function gn(){this.type="text",this.sortable=!0,this.title=""}var yn=(vn.decorators=[{type:D.Component,args:[{selector:"data-columns",template:""}]}],vn.propDecorators={columns:[{type:D.ContentChildren,args:[hn]}]},vn);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vn(){}var bn=(Object.defineProperty(En.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!0,configurable:!0}),En.prototype.preventDefault=function(){this.isDefaultPrevented=!0},En);function En(){this.isDefaultPrevented=!1}var In,wn=(L(Cn,In=bn),Cn);function Cn(){return null!==In&&In.apply(this,arguments)||this}function Tn(){}var Sn={Pending:0,Complete:1,Starting:2,Progress:3,Cancelled:4,Aborted:5,Error:6,Deleted:7};Sn[Sn.Pending]="Pending",Sn[Sn.Complete]="Complete",Sn[Sn.Starting]="Starting",Sn[Sn.Progress]="Progress",Sn[Sn.Cancelled]="Cancelled",Sn[Sn.Aborted]="Aborted",Sn[Sn.Error]="Error",Sn[Sn.Deleted]="Deleted";var An=(Object.defineProperty(On.prototype,"extension",{get:function(){return this.name.slice((Math.max(0,this.name.lastIndexOf("."))||Infinity)+1)},enumerable:!0,configurable:!0}),On);function On(e,t,n){this.status=Sn.Pending,this.file=e,this.id=n,this.name=e.name,this.size=e.size,this.data=null,this.errorCode=null,this.progress={loaded:0,total:0,percent:0},this.options=Object.assign({},{newVersion:!1},t)}var Dn,xn=function mf(e,t,n){void 0===t&&(t=Sn.Pending),void 0===n&&(n=null),this.file=e,this.status=t,this.error=n},Rn=(L(Pn,Dn=xn),Pn);function Pn(e,t,n,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=Dn.call(this,e,Sn.Complete)||this;return o.totalComplete=t,o.data=n,o.totalAborted=i,o}var Ln,Fn=(L(_n,Ln=xn),_n);function _n(e,t){void 0===t&&(t=0);var n=Ln.call(this,e,Sn.Deleted)||this;return n.totalComplete=t,n}var kn,Mn=(L(Nn,kn=xn),Nn);function Nn(e,t,n){void 0===n&&(n=0);var i=kn.call(this,e,Sn.Error)||this;return i.error=t,i.totalError=n,i}var Vn,Un=(L(jn,Vn=wn),jn);function jn(e,t,n){var i=Vn.call(this)||this;return i.value=e,i.event=t,i.sender=n,i}var Bn,Hn=function ff(e,t,n){this.row=e,this.col=t,this.actions=n||[]},zn=(L(Yn,Bn=bn),Yn);function Yn(e,t,n){var i=Bn.call(this)||this;return i.value=new Hn(e,t,n),i}var Gn,qn=function hf(e,t){this.row=e,this.action=t},$n=(L(Xn,Gn=bn),Object.defineProperty(Xn.prototype,"args",{get:function(){return this.value},enumerable:!0,configurable:!0}),Xn);function Xn(e,t){var n=Gn.call(this)||this;return n.value=new qn(e,t),n}var Wn={List:"list",Gallery:"gallery"},Kn=(Jn.prototype.ngAfterContentInit=function(){var e=this;this.columnList&&this.subscriptions.push(this.columnList.columns.changes.subscribe(function(){e.setTableSchema()})),this.datatableLayoutFix(),this.setTableSchema()},Jn.prototype.ngOnChanges=function(e){this.initAndSubscribeClickStream(),this.isPropertyChanged(e.data)?this.isTableEmpty()?this.initTable():(this.data=e.data.currentValue,this.resetSelection()):this.isPropertyChanged(e.rows)?this.isTableEmpty()?this.initTable():this.setTableRows(e.rows.currentValue):(e.selectionMode&&!e.selectionMode.isFirstChange()&&(this.resetSelection(),this.emitRowSelectionEvent("row-unselect",null)),this.isPropertyChanged(e.sorting)&&this.setTableSorting(e.sorting.currentValue),this.isPropertyChanged(e.display)&&this.datatableLayoutFix())},Jn.prototype.ngDoCheck=function(){this.differ.diff(this.rows)&&this.setTableRows(this.rows)},Jn.prototype.isPropertyChanged=function(e){return!(!e||!e.currentValue)},Jn.prototype.convertToRowsData=function(e){return e.map(function(e){return new we(e,e.isSelected)})},Jn.prototype.convertToDataSorting=function(e){if(e&&0<e.length)return new Se(e[0],e[1])},Jn.prototype.initAndSubscribeClickStream=function(){var n=this;this.unsubscribeClickStream();var e=this.click$.pipe(b.buffer(this.click$.pipe(b.debounceTime(250))),b.map(function(e){return e}),b.filter(function(e){return 1===e.length}));this.singleClickStreamSub=e.subscribe(function(e){var t=e[0];n.handleRowSelection(t.value,t.event),n.rowClick.emit(t),t.defaultPrevented||n.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-click",{detail:t,bubbles:!0}))});var t=this.click$.pipe(b.buffer(this.click$.pipe(b.debounceTime(250))),b.map(function(e){return e}),b.filter(function(e){return 2<=e.length}));this.multiClickStreamSub=t.subscribe(function(e){var t=e[0];n.rowDblClick.emit(t),t.defaultPrevented||n.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:t,bubbles:!0}))})},Jn.prototype.unsubscribeClickStream=function(){this.singleClickStreamSub&&(this.singleClickStreamSub.unsubscribe(),this.singleClickStreamSub=null),this.multiClickStreamSub&&(this.multiClickStreamSub.unsubscribe(),this.multiClickStreamSub=null)},Jn.prototype.initTable=function(){this.data=new Ae(this.rows,this.columns),this.setTableSorting(this.sorting),this.resetSelection(),this.rowMenuCache={}},Jn.prototype.isTableEmpty=function(){return this.data===undefined||null===this.data},Jn.prototype.setTableRows=function(e){this.data&&(this.resetSelection(),this.data.setRows(this.convertToRowsData(e)))},Jn.prototype.setTableSchema=function(){var e=[];e=this.columns&&0!==this.columns.length?this.columns.concat(this.getSchemaFromHtml()):this.getSchemaFromHtml(),this.columns=e,this.data&&this.columns&&0<this.columns.length&&this.data.setColumns(this.columns)},Jn.prototype.setTableSorting=function(e){this.data&&this.data.setSorting(this.convertToDataSorting(e))},Jn.prototype.getSchemaFromHtml=function(){var e=[];return this.columnList&&this.columnList.columns&&0<this.columnList.columns.length&&(e=this.columnList.columns.map(function(e){return e})),e},Jn.prototype.onRowClick=function(e,t){if(t&&t.preventDefault(),e){var n=new Un(e,t,this);this.clickObserver.next(n)}},Jn.prototype.onEnterKeyPressed=function(e,t){e&&this.handleRowSelection(e,t)},Jn.prototype.handleRowSelection=function(e,t){if(this.data&&(this.isSingleSelectionMode()&&(this.resetSelection(),this.selectRow(e,!0),this.emitRowSelectionEvent("row-select",e)),this.isMultiSelectionMode())){var n=t&&(t.metaKey||t.ctrlKey),i=void 0,o=(i=1===this.selection.length?!e.isSelected:!n||!e.isSelected)?"row-select":"row-unselect";n||this.resetSelection(),this.selectRow(e,i),this.emitRowSelectionEvent(o,e)}},Jn.prototype.resetSelection=function(){if(this.data){var e=this.data.getRows();e&&0<e.length&&e.forEach(function(e){return e.isSelected=!1}),this.selection=[]}this.isSelectAllChecked=!1},Jn.prototype.onRowDblClick=function(e,t){t&&t.preventDefault();var n=new Un(e,t,this);this.clickObserver.next(n)},Jn.prototype.onRowKeyUp=function(e,t){var n=new CustomEvent("row-keyup",{detail:{row:e,keyboardEvent:t,sender:this},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n),n.defaultPrevented?t.preventDefault():"Enter"===t.key&&this.onKeyboardNavigate(e,t)},Jn.prototype.onKeyboardNavigate=function(e,t){t&&t.preventDefault();var n=new Un(e,t,this);this.rowDblClick.emit(n),this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))},Jn.prototype.onColumnHeaderClick=function(e){if(e&&e.sortable){var t=this.data.getSorting(),n="asc";t&&e.key===t.key&&(n="asc"===t.direction?"desc":"asc"),this.data.setSorting(new Se(e.key,n)),this.emitSortingChangedEvent(e.key,n)}},Jn.prototype.onSelectAllClick=function(e){if(this.isSelectAllChecked=e.checked,this.multiselect){var t=this.data.getRows();if(t&&0<t.length)for(var n=0;n<t.length;n++)this.selectRow(t[n],e.checked);var i=e.checked?"row-select":"row-unselect",o=0<this.selection.length?this.selection[0]:null;this.emitRowSelectionEvent(i,o)}},Jn.prototype.onCheckboxChange=function(e,t){var n=t.checked;this.selectRow(e,n);var i=n?"row-select":"row-unselect";this.emitRowSelectionEvent(i,e)},Jn.prototype.onImageLoadingError=function(e,t){if(e){var n=e.target;this.fallbackThumbnail?n.src=this.fallbackThumbnail:n.src=t.imageErrorResolver(e)}},Jn.prototype.isIconValue=function(e,t){if(e&&t){var n=e.getValue(t.key);return n&&n.startsWith("material-icons://")}return!1},Jn.prototype.asIconValue=function(e,t){return this.isIconValue(e,t)?(e.getValue(t.key)||"").replace("material-icons://",""):null},Jn.prototype.iconAltTextKey=function(e){return e?"ICONS."+e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,""):""},Jn.prototype.isColumnSorted=function(e,t){if(e&&t){var n=this.data.getSorting();return n&&n.key===e.key&&n.direction===t}return!1},Jn.prototype.getContextMenuActions=function(e,t){var n=new zn(e,t,[]);return this.showRowContextMenu.emit(n),n.value.actions},Jn.prototype.getRowActions=function(e,t){var n=e.getValue("id");if(!this.rowMenuCache[n]){var i=new zn(e,t,[]);if(this.showRowActionsMenu.emit(i),!this.rowMenuCacheEnabled)return i.value.actions;this.rowMenuCache[n]=i.value.actions}return this.rowMenuCache[n]},Jn.prototype.onExecuteRowAction=function(e,t){t.disabled||t.disabled?event.stopPropagation():this.executeRowAction.emit(new $n(e,t))},Jn.prototype.rowAllowsDrop=function(e){return!0===e.isDropTarget},Jn.prototype.hasSelectionMode=function(){return this.isSingleSelectionMode()||this.isMultiSelectionMode()},Jn.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"===this.selectionMode.toLowerCase()},Jn.prototype.isMultiSelectionMode=function(){return this.selectionMode&&"multiple"===this.selectionMode.toLowerCase()},Jn.prototype.getRowStyle=function(e){return e.cssClass=e.cssClass?e.cssClass:"",this.rowStyleClass=this.rowStyleClass?this.rowStyleClass:"",e.cssClass+" "+this.rowStyleClass},Jn.prototype.getSortingKey=function(){if(this.data.getSorting())return this.data.getSorting().key},Jn.prototype.selectRow=function(e,t){if(e){e.isSelected=t;var n=this.selection.indexOf(e);t?n<0&&this.selection.push(e):-1<n&&this.selection.splice(n,1)}},Jn.prototype.getCellTooltip=function(e,t){if(e&&t&&t.formatTooltip){var n=t.formatTooltip(e,t);if(n)return n}return null},Jn.prototype.getSortableColumns=function(){return this.data.getColumns().filter(function(e){return!0===e.sortable})},Jn.prototype.isEmpty=function(){return 0===this.data.getRows().length},Jn.prototype.isHeaderVisible=function(){return!this.loading&&!this.isEmpty()&&!this.noPermission},Jn.prototype.isStickyHeaderEnabled=function(){return this.stickyHeader&&this.isHeaderVisible()},Jn.prototype.emitRowSelectionEvent=function(e,t){var n=new CustomEvent(e,{detail:{row:t,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)},Jn.prototype.emitSortingChangedEvent=function(e,t){var n=new CustomEvent("sorting-changed",{detail:{key:e,direction:t},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)},Jn.prototype.ngOnDestroy=function(){this.unsubscribeClickStream(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],this.dataRowsChanged&&(this.dataRowsChanged.unsubscribe(),this.dataRowsChanged=null)},Jn.prototype.datatableLayoutFix=function(){if("gallery"===this.display)for(var e=0;e<25;e++)this.fakeRows.push("");else this.fakeRows=[]},Jn.prototype.getNameColumnValue=function(){return this.data.getColumns().find(function(e){return e.key.includes("name")})},Jn.prototype.getAutomationValue=function(e,t){var n=this.getNameColumnValue();return n?e.getValue(n.key):""},Jn.decorators=[{type:D.Component,args:[{selector:"adf-datatable",template:'<div\n    role="grid"\n    *ngIf="data" class="adf-full-width"\n    [class.adf-datatable-card]="display === \'gallery\'"\n    [class.adf-datatable-list]="display === \'list\'"\n    [class.adf-sticky-header]="isStickyHeaderEnabled()"\n    [class.adf-datatable--empty]="!isHeaderVisible()">\n    <div *ngIf="showHeader && isHeaderVisible()" class="adf-datatable-header" role="rowgroup">\n        <div class="adf-datatable-row" *ngIf="display === \'list\'" role="row">\n            \x3c!-- Actions (left) --\x3e\n            <div *ngIf="actions && actionsPosition === \'left\'" class="adf-actions-column adf-datatable-cell-header">\n                <span class="adf-sr-only">Actions</span>\n            </div>\n            \x3c!-- Columns --\x3e\n            <div *ngIf="multiselect" class="adf-datatable-cell-header adf-datatable-checkbox">\n                <mat-checkbox [checked]="isSelectAllChecked" (change)="onSelectAllClick($event)" class="adf-checkbox-sr-only">{{ \'ADF-DATATABLE.ACCESSIBILITY.SELECT_ALL\' | translate }}</mat-checkbox>\n            </div>\n            <div class="adf-datatable-cell--{{col.type || \'text\'}} {{col.cssClass}} adf-datatable-cell-header"\n                 *ngFor="let col of data.getColumns()"\n                 [class.adf-sortable]="col.sortable"\n                 [attr.data-automation-id]="\'auto_id_\' + col.key"\n                 [class.adf-datatable__header--sorted-asc]="isColumnSorted(col, \'asc\')"\n                 [class.adf-datatable__header--sorted-desc]="isColumnSorted(col, \'desc\')"\n                 (click)="onColumnHeaderClick(col)"\n                 (keyup.enter)="onColumnHeaderClick(col)"\n                 role="columnheader"\n                 tabindex="0"\n                 title="{{ col.title | translate }}"\n                 adf-drop-zone dropTarget="header" [dropColumn]="col">\n                <span *ngIf="col.srTitle" class="adf-sr-only">{{ col.srTitle | translate }}</span>\n                <span *ngIf="col.title" class="adf-datatable-cell-value">{{ col.title | translate}}</span>\n            </div>\n            \x3c!-- Actions (right) --\x3e\n            <div *ngIf="actions && actionsPosition === \'right\'" class="adf-actions-column adf-datatable-cell-header adf-datatable__actions-cell">\n                <span class="adf-sr-only">Actions</span>\n            </div>\n        </div>\n        <mat-form-field *ngIf="display === \'gallery\'">\n            <mat-select [value]="getSortingKey()" [attr.data-automation-id]="\'grid-view-sorting\'">\n                <mat-option *ngFor="let col of getSortableColumns()"\n                            [value]="col.key"\n                            [attr.data-automation-id]="\'grid-view-sorting-\'+col.title"\n                            (click)="onColumnHeaderClick(col)"\n                            (keyup.enter)="onColumnHeaderClick(col)">\n                    {{ col.title | translate}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n\n    <div class="adf-datatable-body" role="rowgroup">\n        <ng-container *ngIf="!loading && !noPermission">\n            <div *ngFor="let row of data.getRows(); let idx = index"\n                 class="adf-datatable-row"\n                 role="row"\n                 [class.adf-is-selected]="row.isSelected"\n                 [adf-upload]="allowDropFiles && rowAllowsDrop(row)" [adf-upload-data]="row"\n                 [ngStyle]="rowStyle"\n                 [ngClass]="getRowStyle(row)"\n                 (keyup)="onRowKeyUp(row, $event)">\n                \x3c!-- Actions (left) --\x3e\n                <div *ngIf="actions && actionsPosition === \'left\'" role="gridcell" class="adf-datatable-cell">\n                    <button mat-icon-button [matMenuTriggerFor]="menu"\n                            [title]="\'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP\' | translate"\n                            [attr.id]="\'action_menu_left_\' + idx"\n                            [attr.data-automation-id]="\'action_menu_\' + idx">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu="matMenu">\n                        <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                                [attr.data-automation-id]="action.title"\n                                [disabled]="action.disabled"\n                                (click)="onExecuteRowAction(row, action)">\n                            <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n                <div *ngIf="multiselect" class="adf-datatable-cell adf-datatable-checkbox">\n                    <mat-checkbox\n                        [checked]="row.isSelected"\n                        [attr.aria-checked]="row.isSelected"\n                        role="checkbox"\n                        (change)="onCheckboxChange(row, $event)"\n                        class="adf-checkbox-sr-only">\n                        {{ \'ADF-DATATABLE.ACCESSIBILITY.SELECT_FILE\' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div *ngFor="let col of data.getColumns()"\n                     role="gridcell"\n                     class=" adf-datatable-cell adf-datatable-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n                     [attr.title]="col.title | translate"\n                     [attr.data-automation-id]="getAutomationValue(row, col)"\n                     tabindex="0"\n                     (click)="onRowClick(row, $event)"\n                     (keydown.enter)="onEnterKeyPressed(row, $event)"\n                     [adf-context-menu]="getContextMenuActions(row, col)"\n                     [adf-context-menu-enabled]="contextMenu"\n                     adf-drop-zone dropTarget="cell" [dropColumn]="col" [dropRow]="row">\n                    <div *ngIf="!col.template" class="adf-datatable-cell-container">\n                        <ng-container [ngSwitch]="col.type">\n                            <div *ngSwitchCase="\'image\'" class="adf-cell-value">\n                                <mat-icon *ngIf="isIconValue(row, col); else no_iconvalue">{{ asIconValue(row, col) }}\n                                </mat-icon>\n                                <ng-template #no_iconvalue>\n                                    <mat-icon class="adf-datatable-selected"\n                                              *ngIf="row.isSelected && !multiselect; else no_selected_row" svgIcon="selected">\n                                    </mat-icon>\n                                    <ng-template #no_selected_row>\n                                        <img class="adf-datatable-center-img-ie"\n                                            [attr.aria-label]="data.getValue(row, col) | fileType"\n                                            alt="{{ iconAltTextKey(data.getValue(row, col)) | translate }}"\n                                            src="{{ data.getValue(row, col) }}"\n                                            (error)="onImageLoadingError($event, row)">\n                                    </ng-template>\n                                </ng-template>\n                            </div>\n                            <div *ngSwitchCase="\'icon\'" class="adf-cell-value">\n                                <span class="adf-sr-only">{{ iconAltTextKey(data.getValue(row, col)) | translate }}</span>\n                                <mat-icon>{{ data.getValue(row, col) }}</mat-icon>\n                            </div>\n                            <div *ngSwitchCase="\'date\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'date_\' + (data.getValue(row, col) | adfLocalizedDate: \'medium\') ">\n                                <adf-date-cell class="adf-datatable-center-date-column-ie"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-date-cell>\n                            </div>\n                            <div *ngSwitchCase="\'location\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'location\' + data.getValue(row, col)">\n                                <adf-location-cell\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-location-cell>\n                            </div>\n                            <div *ngSwitchCase="\'fileSize\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'fileSize_\' + data.getValue(row, col)">\n                                <adf-filesize-cell class="adf-datatable-center-size-column-ie"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-filesize-cell>\n                            </div>\n                            <div *ngSwitchCase="\'text\'" class="adf-cell-value"\n                                 [attr.data-automation-id]="\'text_\' + data.getValue(row, col)">\n                                <adf-datatable-cell\n                                    [copyContent]="col.copyContent"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row"\n                                    [tooltip]="getCellTooltip(row, col)">\n                                </adf-datatable-cell>\n                            </div>\n                            <div *ngSwitchCase="\'json\'" class="adf-cell-value">\n                                <adf-json-cell\n                                    [copyContent]="col.copyContent"\n                                    [data]="data"\n                                    [column]="col"\n                                    [row]="row">\n                                </adf-json-cell>\n                            </div>\n                            <span *ngSwitchDefault class="adf-cell-value">\n                    \x3c!-- empty cell for unknown column type --\x3e\n                    </span>\n                        </ng-container>\n                    </div>\n                    <div *ngIf="col.template" class="adf-datatable-cell-container">\n                        <div class="adf-cell-value">\n                            <ng-container\n                                [ngTemplateOutlet]="col.template"\n                                [ngTemplateOutletContext]="{ $implicit: { data: data, row: row, col: col }, value: data.getValue(row, col) }">\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Actions (right) --\x3e\n                <div *ngIf="actions && actionsPosition === \'right\'"\n                     role="gridcell"\n                     class="adf-datatable-cell adf-datatable__actions-cell adf-datatable-center-actions-column-ie">\n                    <button mat-icon-button [matMenuTriggerFor]="menu"\n                            [title]="\'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP\' | translate"\n                            [attr.id]="\'action_menu_right_\' + idx"\n                            [attr.data-automation-id]="\'action_menu_\' + idx">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu="matMenu">\n                        <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                                [attr.data-automation-id]="action.title"\n                                [attr.aria-label]="action.title | translate"\n                                [disabled]="action.disabled"\n                                (click)="onExecuteRowAction(row, action)">\n                            <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n            </div>\n            <div *ngIf="isEmpty()"\n                 role="row"\n                 [class.adf-datatable-row]="display === \'list\'"\n                 [class.adf-datatable-card-empty]="display === \'gallery\'">\n                <div class="adf-no-content-container adf-datatable-cell" role="gridcell">\n                    <ng-template *ngIf="noContentTemplate"\n                                 ngFor [ngForOf]="[data]"\n                                 [ngForTemplate]="noContentTemplate">\n                    </ng-template>\n                    <ng-content select="adf-empty-list"></ng-content>\n                </div>\n            </div>\n            <div *ngFor="let row of fakeRows"\n                 class="adf-datatable-row adf-datatable-row-empty-card">\n            </div>\n        </ng-container>\n        <div *ngIf="!loading && noPermission"\n             role="row"\n             [class.adf-datatable-row]="display === \'list\'"\n             [class.adf-datatable-card-permissions]="display === \'gallery\'"\n             class="adf-no-permission__row">\n            <div class="adf-no-permission__cell adf-no-content-container adf-datatable-cell">\n                <ng-template *ngIf="noPermissionTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="noPermissionTemplate">\n                </ng-template>\n            </div>\n        </div>\n        <div *ngIf="loading"\n             [class.adf-datatable-row]="display === \'list\'"\n             [class.adf-datatable-card-loading]="display === \'gallery\'">\n            <div class="adf-no-content-container adf-datatable-cell">\n                <ng-template *ngIf="loadingTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="loadingTemplate">\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-datatable"},styles:[""]}]}],Jn.ctorParameters=function(){return[{type:D.ElementRef},{type:D.IterableDiffers}]},Jn.propDecorators={columnList:[{type:D.ContentChild,args:[yn]}],data:[{type:D.Input}],display:[{type:D.Input}],rows:[{type:D.Input}],sorting:[{type:D.Input}],columns:[{type:D.Input}],selectionMode:[{type:D.Input}],multiselect:[{type:D.Input}],actions:[{type:D.Input}],actionsPosition:[{type:D.Input}],fallbackThumbnail:[{type:D.Input}],contextMenu:[{type:D.Input}],allowDropFiles:[{type:D.Input}],rowStyle:[{type:D.Input}],rowStyleClass:[{type:D.Input}],showHeader:[{type:D.Input}],stickyHeader:[{type:D.Input}],rowClick:[{type:D.Output}],rowDblClick:[{type:D.Output}],showRowContextMenu:[{type:D.Output}],showRowActionsMenu:[{type:D.Output}],executeRowAction:[{type:D.Output}],loading:[{type:D.Input}],noPermission:[{type:D.Input}],rowMenuCacheEnabled:[{type:D.Input}]},Jn);function Jn(e,t){var n=this;this.elementRef=e,this.display=Wn.List,this.rows=[],this.sorting=[],this.columns=[],this.selectionMode="single",this.multiselect=!1,this.actions=!1,this.actionsPosition="right",this.contextMenu=!1,this.allowDropFiles=!1,this.rowStyleClass="",this.showHeader=!0,this.stickyHeader=!1,this.rowClick=new D.EventEmitter,this.rowDblClick=new D.EventEmitter,this.showRowContextMenu=new D.EventEmitter,this.showRowActionsMenu=new D.EventEmitter,this.executeRowAction=new D.EventEmitter,this.loading=!1,this.noPermission=!1,this.rowMenuCacheEnabled=!0,this.isSelectAllChecked=!1,this.selection=new Array,this.fakeRows=[],this.rowMenuCache={},this.subscriptions=[],t&&(this.differ=t.find([]).create(null)),this.click$=new w.Observable(function(e){return n.clickObserver=e}).pipe(b.share())}var Qn,Zn=(L(ei,Qn=mn),Object.defineProperty(ei.prototype,"format",{get:function(){return this.column&&this.column.format||this.dateFormat},enumerable:!0,configurable:!0}),ei.DATE_FORMAT="medium",ei.decorators=[{type:D.Component,args:[{selector:"adf-date-cell",template:'\n        <ng-container>\n            <span\n                [attr.aria-label]="value$ | async | adfTimeAgo: currentLocale"\n                title="{{ tooltip | adfLocalizedDate: \'medium\' }}"\n                class="adf-datatable-cell-value"\n                *ngIf="format === \'timeAgo\'; else standard_date">\n                {{ value$ | async | adfTimeAgo: currentLocale }}\n            </span>\n        </ng-container>\n        <ng-template #standard_date>\n            <span\n                class="adf-datatable-cell-value"\n                title="{{ tooltip | adfLocalizedDate: format }}"\n                class="adf-datatable-cell-value"\n                [attr.aria-label]="value$ | async | adfLocalizedDate: format">\n                {{ value$ | async | adfLocalizedDate: format }}\n            </span>\n        </ng-template>\n    ',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-date-cell adf-datatable-content-cell"}}]}],ei.ctorParameters=function(){return[{type:Je},{type:$},{type:z}]},ei);function ei(e,t,n){var i=Qn.call(this,t)||this;return i.dateFormat=n.get("dateValues.defaultDateFormat",ei.DATE_FORMAT),e&&e.select(Ke.Locale).pipe(b.takeUntil(i.onDestroy$)).subscribe(function(e){return i.currentLocale=e}),i}var ti=(ni.decorators=[{type:D.Component,args:[{selector:"adf-empty-list",template:'<div class="adf-empty-list_template">\n    <ng-content select="[adf-empty-list-header]"></ng-content>\n    <ng-content select="[adf-empty-list-body]"></ng-content>\n    <ng-content select="[adf-empty-list-footer]"></ng-content>\n    <ng-content></ng-content>\n</div>',encapsulation:D.ViewEncapsulation.None,styles:[".adf-empty-list_template{text-align:center;margin-top:20px;margin-bottom:20px}"]}]}],ni);function ni(){}var ii=(oi.decorators=[{type:D.Directive,args:[{selector:"[adf-empty-list-header]"}]}],oi);function oi(){}var ri=(ai.decorators=[{type:D.Directive,args:[{selector:"[adf-empty-list-body]"}]}],ai);function ai(){}var si=(li.decorators=[{type:D.Directive,args:[{selector:"[adf-empty-list-footer]"}]}],li);function li(){}var ui,pi=(L(ci,ui=mn),ci.decorators=[{type:D.Component,args:[{selector:"adf-filesize-cell",template:'\n        <ng-container>\n            <span\n                [title]="tooltip"\n                [attr.aria-label]="value$ | async | adfFileSize"\n                >{{ value$ | async | adfFileSize }}</span\n            >\n        </ng-container>\n    ',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-filesize-cell"}}]}],ci.ctorParameters=function(){return[{type:$}]},ci);function ci(e){return ui.call(this,e)||this}var di,mi=(L(fi,di=mn),fi.prototype.ngOnInit=function(){if(this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column);if(e&&e.name&&e.elements){this.value$.next(e.name.split("/").pop()),this.tooltip||(this.tooltip=e.name);var t=e.elements[e.elements.length-1];this.link=[this.column.format,t.id]}}},fi.decorators=[{type:D.Component,args:[{selector:"adf-location-cell",changeDetection:D.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <a href="" [title]="tooltip" [routerLink]="link">\n                {{ value$ | async }}\n            </a>\n        </ng-container>\n    ',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-location-cell adf-datatable-content-cell"}}]}],fi.ctorParameters=function(){return[{type:$}]},fi.propDecorators={link:[{type:D.Input}]},fi);function fi(e){return di.call(this,e)||this}var hi=(gi.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.loadingTemplate=this.template)},gi.decorators=[{type:D.Directive,args:[{selector:"adf-loading-content-template, loading-content-template"}]}],gi.ctorParameters=function(){return[{type:Kn}]},gi.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},gi);function gi(e){this.dataTable=e}var yi=(vi.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noContentTemplate=this.template)},vi.decorators=[{type:D.Directive,args:[{selector:"adf-no-content-template, no-content-template"}]}],vi.ctorParameters=function(){return[{type:Kn}]},vi.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},vi);function vi(e){this.dataTable=e}var bi=(Ei.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noPermissionTemplate=this.template)},Ei.decorators=[{type:D.Directive,args:[{selector:"adf-no-permission-template, no-permission-template"}]}],Ei.ctorParameters=function(){return[{type:Kn}]},Ei.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},Ei);function Ei(e){this.dataTable=e}var Ii=(wi.decorators=[{type:D.Directive,args:[{selector:"adf-custom-empty-content-template, empty-folder-content"}]}],wi);function wi(){}var Ci=(Ti.decorators=[{type:D.Directive,args:[{selector:"adf-custom-loading-content-template"}]}],Ti);function Ti(){}var Si=(Ai.decorators=[{type:D.Directive,args:[{selector:"adf-custom-no-permission-template, no-permission-content"}]}],Ai);function Ai(){}var Oi,Di=(L(xi,Oi=mn),xi.prototype.ngOnInit=function(){this.column&&this.column.key&&this.row&&this.data&&this.value$.next(this.data.getValue(this.row,this.column))},xi.decorators=[{type:D.Component,args:[{selector:"adf-json-cell",changeDetection:D.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span *ngIf="copyContent; else defaultJsonTemplate" class="adf-datatable-cell-value">\n                <pre\n                    class="adf-datatable-json-cell"\n                    [adf-clipboard]="\'CLIPBOARD.CLICK_TO_COPY\'"\n                    [clipboard-notification]="\'CLIPBOARD.SUCCESS_COPY\'">{{ value$ | async | json }}</pre>\n            </span>\n        </ng-container>\n        <ng-template #defaultJsonTemplate>\n            <span class="adf-datatable-cell-value">\n                <pre class="adf-datatable-json-cell">{{ value$ | async | json }}</pre>\n            </span>\n        </ng-template>\n    ',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-datatable-content-cell"},styles:[".adf-datatable-json-cell{white-space:pre-wrap;word-wrap:break-word}.adf-datatable-cell-value{position:relative}"]}]}],xi.propDecorators={copyContent:[{type:D.Input}]},xi);function xi(){return null!==Oi&&Oi.apply(this,arguments)||this}var Ri=(Pi.prototype.openSnackMessage=function(e,t){t=t||this.DEFAULT_DURATION_MESSAGE;var n=this.translationService.instant(e);return"number"==typeof t&&(t={duration:t}),this.messages.next({message:n,dateTime:new Date}),this.snackBar.open(n,null,t)},Pi.prototype.openSnackMessageAction=function(e,t,n){n=n||this.DEFAULT_DURATION_MESSAGE;var i=this.translationService.instant(e);return"number"==typeof n&&(n={duration:n}),this.messages.next({message:i,dateTime:new Date}),this.snackBar.open(i,t,n)},Pi.prototype.dismissSnackMessageAction=function(){return this.snackBar.dismiss()},Pi.prototype.showMessage=function(e,t,n){return e=this.translationService.instant(e),this.messages.next({message:e,dateTime:new Date}),this.snackBar.open(e,n,{duration:this.DEFAULT_DURATION_MESSAGE,panelClass:t})},Pi.prototype.showError=function(e,t){return this.showMessage(e,"adf-error-snackbar",t)},Pi.prototype.showInfo=function(e,t){return this.showMessage(e,"adf-info-snackbar",t)},Pi.prototype.showWarning=function(e,t){return this.showMessage(e,"adf-warning-snackbar",t)},Pi.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Pi.ctorParameters=function(){return[{type:v.MatSnackBar},{type:et},{type:z}]},Pi.ngInjectableDef=D.defineInjectable({factory:function(){return new Pi(D.inject(s.MatSnackBar),D.inject(et),D.inject(z))},token:Pi,providedIn:"root"}),Pi);function Pi(e,t,n){this.snackBar=e,this.translationService=t,this.appConfigService=n,this.DEFAULT_DURATION_MESSAGE=5e3,this.messages=new w.Subject,this.DEFAULT_DURATION_MESSAGE=this.appConfigService.get(B.NOTIFY_DURATION)||this.DEFAULT_DURATION_MESSAGE}var Li=(Fi.prototype.isTargetValid=function(e){return(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&!e.hasAttribute("disabled")},Fi.prototype.copyToClipboard=function(e,t){if(this.isTargetValid(e))try{e.select(),e.setSelectionRange(0,e.value.length),this.document.execCommand("copy"),this.notify(t)}catch(n){this.logService.error(n)}},Fi.prototype.copyContentToClipboard=function(t,e){try{document.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",t),e.preventDefault(),document.removeEventListener("copy",null)}),document.execCommand("copy"),this.notify(e)}catch(n){this.logService.error(n)}},Fi.prototype.notify=function(e){e&&this.notificationService.openSnackMessage(e)},Fi.decorators=[{type:D.Injectable}],Fi.ctorParameters=function(){return[{type:undefined,decorators:[{type:D.Inject,args:[R.DOCUMENT]}]},{type:te},{type:Ri}]},Fi);function Fi(e,t,n){this.document=e,this.logService=t,this.notificationService=n}var _i=(ki.prototype.handleClickEvent=function(e){e.preventDefault(),e.stopPropagation(),this.copyToClipboard()},ki.prototype.showTooltip=function(){if(this.placeholder){var e=this.resolver.resolveComponentFactory(Mi);this.viewContainerRef.createComponent(e).instance.placeholder=this.placeholder}},ki.prototype.closeTooltip=function(){this.viewContainerRef.remove()},ki.prototype.copyToClipboard=function(){this.clipboardService.isTargetValid(this.target)?this.clipboardService.copyToClipboard(this.target,this.message):this.copyContentToClipboard(this.viewContainerRef.element.nativeElement.innerHTML)},ki.prototype.copyContentToClipboard=function(e){this.clipboardService.copyContentToClipboard(e,this.message)},ki.decorators=[{type:D.Directive,args:[{selector:"[adf-clipboard]",exportAs:"adfClipboard"}]}],ki.ctorParameters=function(){return[{type:Li},{type:D.ViewContainerRef},{type:D.ComponentFactoryResolver}]},ki.propDecorators={placeholder:[{type:D.Input,args:["adf-clipboard"]}],target:[{type:D.Input}],message:[{type:D.Input,args:["clipboard-notification"]}],handleClickEvent:[{type:D.HostListener,args:["click",["$event"]]}],showTooltip:[{type:D.HostListener,args:["mouseenter"]}],closeTooltip:[{type:D.HostListener,args:["mouseleave"]}]},ki);function ki(e,t,n){this.clipboardService=e,this.viewContainerRef=t,this.resolver=n}var Mi=(Ni.prototype.ngOnInit=function(){this.placeholder=this.placeholder||"CLIPBOARD.CLICK_TO_COPY"},Ni.decorators=[{type:D.Component,args:[{selector:"adf-copy-content-tooltip",template:"\n        <span class='adf-copy-tooltip'>{{ placeholder | translate }} </span>\n        ",encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Ni);function Ni(){}var Vi=(Ui.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,A.TranslateModule.forChild()],providers:[Li],declarations:[_i,Mi],exports:[_i],entryComponents:[Mi]}]}],Ui);function Ui(){}var ji=(Bi.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.element.addEventListener("dragover",e.onDragOver.bind(e)),e.element.addEventListener("drop",e.onDrop.bind(e))})},Bi.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("drop",this.onDrop)},Bi.prototype.onDragOver=function(e){var t=new CustomEvent(this.dropTarget+"-dragover",{detail:{target:this.dropTarget,event:e,column:this.dropColumn,row:this.dropRow},bubbles:!0});this.element.dispatchEvent(t),t.defaultPrevented&&(e.preventDefault(),e.stopPropagation())},Bi.prototype.onDrop=function(e){var t=new CustomEvent(this.dropTarget+"-drop",{detail:{target:this.dropTarget,event:e,column:this.dropColumn,row:this.dropRow},bubbles:!0});this.element.dispatchEvent(t),t.defaultPrevented&&(e.preventDefault(),e.stopPropagation())},Bi.decorators=[{type:D.Directive,args:[{selector:"[adf-drop-zone]"}]}],Bi.ctorParameters=function(){return[{type:D.ElementRef},{type:D.NgZone}]},Bi.propDecorators={dropTarget:[{type:D.Input}],dropRow:[{type:D.Input}],dropColumn:[{type:D.Input}]},Bi);function Bi(e,t){this.ngZone=t,this.dropTarget="cell",this.element=e.nativeElement}var Hi=(zi.decorators=[{type:D.NgModule,args:[{imports:[f.RouterModule,Pe,T.CommonModule,A.TranslateModule.forChild(),Xe,Rt,cn,Vi],declarations:[Kn,ti,ii,ri,si,mn,Zn,pi,mi,Di,yi,bi,hi,Ii,Ci,Si,ji],exports:[Kn,ti,ii,ri,si,mn,Zn,pi,mi,Di,yi,bi,hi,Ii,Ci,Si,ji]}]}],zi);function zi(){}var Yi=(Gi.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule],declarations:[hn,yn],exports:[hn,yn]}]}],Gi);function Gi(){}var qi=($i.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild(),Hi,Yi],declarations:[De],exports:[De]}]}],$i);function $i(){}var Xi=(Wi.prototype.printFile=function(e,t){var n=window.open(e,Wi.TARGET);n&&(t===Wi.ContentGroup.IMAGE&&(n.onfocus=function(){setTimeout(function(){n.close()},500)}),n.onload=function(){n.print()})},Wi.prototype.printFileGeneric=function(e,t){var i=this,o=e,r=this.getViewerTypeByMimeType(t);this.getRendition(o,Wi.ContentGroup.PDF).then(function(e){var t=i.getRenditionUrl(o,r,!!e),n=r===Wi.ContentGroup.PDF||r===Wi.ContentGroup.TEXT?Wi.ContentGroup.PDF:r;i.printFile(t,n)})["catch"](function(e){i.logService.error("Error with Printing"),i.logService.error(e)})},Wi.prototype.getRenditionUrl=function(e,t,n){return n&&t!==Wi.ContentGroup.IMAGE?this.apiService.contentApi.getRenditionUrl(e,Wi.ContentGroup.PDF):this.apiService.contentApi.getContentUrl(e,!1)},Wi.prototype.waitRendition=function(n,i,o){return _(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return[4,this.apiService.renditionsApi.getRendition(n,i)];case 1:return t=e.sent(),this.maxRetries<o?"CREATED"!==t.entry.status.toString()?[3,2]:[2,t]:[3,5];case 2:return o+=1,[4,this.wait(1e3)];case 3:return e.sent(),[4,this.waitRendition(n,i,o)];case 4:return[2,e.sent()];case 5:return[2]}})})},Wi.prototype.getViewerTypeByMimeType=function(e){var t,n;if(e){e=e.toLowerCase();var i=Object.keys(this.mimeTypes);try{for(var o=M(i),r=o.next();!r.done;r=o.next()){var a=r.value;if(0<=this.mimeTypes[a].indexOf(e))return a}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}}return"unknown"},Wi.prototype.wait=function(t){return new Promise(function(e){return setTimeout(e,t)})},Wi.prototype.getRendition=function(o,r){return _(this,void 0,void 0,function(){var t,n,i;return k(this,function(e){switch(e.label){case 0:return[4,this.apiService.renditionsApi.getRenditions(o)];case 1:if(t=e.sent(),!(n=t.list.entries.find(function(e){return e.entry.id.toLowerCase()===r})))return[3,6];if("NOT_CREATED"!==n.entry.status.toString())return[3,6];e.label=2;case 2:return e.trys.push([2,5,,6]),[4,this.apiService.renditionsApi.createRendition(o,{id:r})];case 3:return e.sent(),[4,this.waitRendition(o,r,0)];case 4:return n=e.sent(),[3,6];case 5:return i=e.sent(),this.logService.error(i),[3,6];case 6:return[2,new Promise(function(e){return e(n)})]}})})},Wi.TARGET="_new",Wi.ContentGroup={IMAGE:"image",MEDIA:"media",PDF:"pdf",TEXT:"text"},Wi.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Wi.ctorParameters=function(){return[{type:$},{type:te}]},Wi.ngInjectableDef=D.defineInjectable({factory:function(){return new Wi(D.inject($),D.inject(te))},token:Wi,providedIn:"root"}),Wi);function Wi(e,t){this.apiService=e,this.logService=t,this.maxRetries=5,this.mimeTypes={text:["text/plain","text/csv","text/xml","text/html","application/x-javascript"],pdf:["application/pdf"],image:["image/png","image/jpeg","image/gif","image/bmp","image/svg+xml"],media:["video/mp4","video/webm","video/ogg","audio/mpeg","audio/ogg","audio/wav"]}}var Ki=(Ji.decorators=[{type:D.Component,args:[{selector:"adf-viewer-more-actions",encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-more-actions"},template:"<ng-content></ng-content>"}]}],Ji);function Ji(){}var Qi=(Zi.decorators=[{type:D.Component,args:[{selector:"adf-viewer-open-with",encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-open-with"},template:"<ng-content></ng-content>"}]}],Zi);function Zi(){}var eo=(to.decorators=[{type:D.Component,args:[{selector:"adf-viewer-sidebar",encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-sidebar"},template:"<ng-content></ng-content>"}]}],to);function to(){}var no=(io.decorators=[{type:D.Component,args:[{selector:"adf-viewer-toolbar",encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-toolbar"},template:"<ng-content></ng-content>"}]}],io);function io(){}var oo=(ro.prototype.isSourceDefined=function(){return!!(this.urlFile||this.blobFile||this.nodeId||this.sharedLinkId)},ro.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.apiService.nodeUpdated.subscribe(function(e){return t.onNodeUpdated(e)})),this.loadExtensions()},ro.prototype.loadExtensions=function(){var t=this;this.viewerExtensions=this.extensionService.getViewerExtensions(),this.viewerExtensions.forEach(function(e){t.externalExtensions.push(e.fileExtension)})},ro.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[]},ro.prototype.onNodeUpdated=function(e){var t=this;e&&e.id===this.nodeId&&(this.generateCacheBusterNumber(),this.isLoading=!0,this.setUpNodeFile(e).then(function(){t.isLoading=!1}))},ro.prototype.ngOnChanges=function(e){var t=this;if(this.showViewer){if(!this.isSourceDefined())throw new Error("A content source attribute value is missing.");this.isLoading=!0,this.blobFile?(this.setUpBlobData(),this.isLoading=!1):this.urlFile?(this.setUpUrlFile(),this.isLoading=!1):this.nodeId?this.apiService.nodesApi.getNode(this.nodeId,{include:["allowableOperations"]}).then(function(e){t.nodeEntry=e,t.setUpNodeFile(e.entry).then(function(){t.isLoading=!1})},function(e){t.isLoading=!1,t.logService.error("This node does not exist")}):this.sharedLinkId&&(this.allowGoBack=!1,this.apiService.sharedLinksApi.getSharedLink(this.sharedLinkId).then(function(e){t.setUpSharedLinkFile(e),t.isLoading=!1},function(){t.isLoading=!1,t.logService.error("This sharedLink does not exist"),t.invalidSharedLink.next()}))}},ro.prototype.setUpBlobData=function(){this.fileTitle=this.getDisplayName("Unknown"),this.mimeType=this.blobFile.type,this.viewerType=this.getViewerTypeByMimeType(this.mimeType),this.allowDownload=!1,this.extensionChange.emit(this.mimeType),this.scrollTop()},ro.prototype.setUpUrlFile=function(){var e=this.getFilenameFromUrl(this.urlFile);this.fileTitle=this.getDisplayName(e),this.extension=this.getFileExtension(e),this.urlFileContent=this.urlFile,this.fileName=this.displayName,this.viewerType=this.urlFileViewer||this.getViewerTypeByExtension(this.extension),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByMimeType(this.mimeType)),this.extensionChange.emit(this.extension),this.scrollTop()},ro.prototype.setUpNodeFile=function(n){return _(this,void 0,void 0,function(){var t;return k(this,function(e){return n.content&&(this.mimeType=n.content.mimeType),this.fileTitle=this.getDisplayName(n.name),this.urlFileContent=this.apiService.contentApi.getContentUrl(n.id),this.urlFileContent=this.cacheBusterNumber?this.urlFileContent+"&"+this.cacheBusterNumber:this.urlFileContent,this.extension=this.getFileExtension(n.name),this.fileName=n.name,this.viewerType=this.getViewerTypeByExtension(this.extension),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByMimeType(this.mimeType)),"unknown"===this.viewerType&&(t=this.displayNodeRendition(n.id)),this.extensionChange.emit(this.extension),this.sidebarRightTemplateContext.node=n,this.sidebarLeftTemplateContext.node=n,this.scrollTop(),[2,t]})})},ro.prototype.setUpSharedLinkFile=function(e){this.mimeType=e.entry.content.mimeType,this.fileTitle=this.getDisplayName(e.entry.name),this.extension=this.getFileExtension(e.entry.name),this.fileName=e.entry.name,this.urlFileContent=this.apiService.contentApi.getSharedLinkContentUrl(this.sharedLinkId,!1),this.viewerType=this.getViewerTypeByMimeType(this.mimeType),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByExtension(this.extension)),"unknown"===this.viewerType&&this.displaySharedLinkRendition(this.sharedLinkId),this.extensionChange.emit(this.extension)},ro.prototype.toggleSidebar=function(){var t=this;this.showRightSidebar=!this.showRightSidebar,this.showRightSidebar&&this.nodeId&&this.apiService.getInstance().nodes.getNode(this.nodeId,{include:["allowableOperations"]}).then(function(e){t.sidebarRightTemplateContext.node=e.entry})},ro.prototype.toggleLeftSidebar=function(){var t=this;this.showLeftSidebar=!this.showLeftSidebar,this.showRightSidebar&&this.nodeId&&this.apiService.getInstance().nodes.getNode(this.nodeId,{include:["allowableOperations"]}).then(function(e){t.sidebarLeftTemplateContext.node=e.entry})},ro.prototype.getDisplayName=function(e){return this.displayName||e},ro.prototype.scrollTop=function(){window.scrollTo(0,1)},ro.prototype.getViewerTypeByMimeType=function(e){var t,n;if(e){e=e.toLowerCase();var i=Object.keys(this.mimeTypes);try{for(var o=M(i),r=o.next();!r.done;r=o.next()){var a=r.value;if(0<=this.mimeTypes[a].indexOf(e))return a}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}}return"unknown"},ro.prototype.getViewerTypeByExtension=function(e){return e=e&&e.toLowerCase(),this.isCustomViewerExtension(e)?"custom":0<=this.extensions.image.indexOf(e)?"image":0<=this.extensions.media.indexOf(e)?"media":0<=this.extensions.text.indexOf(e)?"text":0<=this.extensions.pdf.indexOf(e)?"pdf":"unknown"},ro.prototype.onBackButtonClick=function(){this.close()},ro.prototype.onNavigateBeforeClick=function(){this.navigateBefore.next()},ro.prototype.onNavigateNextClick=function(){this.navigateNext.next()},ro.prototype.close=function(){this.otherMenu&&(this.otherMenu.hidden=!1),this.showViewer=!1,this.showViewerChange.emit(this.showViewer)},ro.prototype.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(0<t?t:e.length,0<n?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)},ro.prototype.getFileExtension=function(e){if(e){var t=e.match(/\.([^\./\?\#]+)($|\?|\#)/);return t?t[1]:null}return null},ro.prototype.isCustomViewerExtension=function(e){var t=this.externalExtensions||[];return!!(e&&0<t.length)&&(e=e.toLowerCase(),0<=t.flat().indexOf(e))},ro.prototype.handleKeyboardEvent=function(e){var t=e.keyCode;27===t&&this.overlayMode&&this.close(),37===t&&this.canNavigateBefore&&(e.preventDefault(),this.onNavigateBeforeClick()),39===t&&this.canNavigateNext&&(e.preventDefault(),this.onNavigateNextClick()),70===t&&e.ctrlKey&&(e.preventDefault(),this.enterFullScreen())},ro.prototype.printContent=function(){if(this.allowPrint){var e=new bn;this.print.next(e),e.defaultPrevented||this.viewUtils.printFileGeneric(this.nodeId,this.mimeType)}},ro.prototype.enterFullScreen=function(){if(this.allowFullScreen){var e=this.el.nativeElement.querySelector(".adf-viewer__fullscreen-container");e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())}},ro.prototype.displayNodeRendition=function(o){return _(this,void 0,void 0,function(){var t,n,i;return k(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.resolveRendition(o,"pdf")];case 1:return(t=e.sent())&&("pdf"===(n=t.entry.id)?this.viewerType="pdf":"imgpreview"===n&&(this.viewerType="image"),this.urlFileContent=this.apiService.contentApi.getRenditionUrl(o,n)),[3,3];case 2:return i=e.sent(),this.logService.error(i),[3,3];case 3:return[2]}})})},ro.prototype.displaySharedLinkRendition=function(i){return _(this,void 0,void 0,function(){var t,n;return k(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,this.apiService.renditionsApi.getSharedLinkRendition(i,"pdf")];case 1:return"CREATED"===e.sent().entry.status.toString()&&(this.viewerType="pdf",this.urlFileContent=this.apiService.contentApi.getSharedLinkRenditionUrl(i,"pdf")),[3,7];case 2:t=e.sent(),this.logService.error(t),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.apiService.renditionsApi.getSharedLinkRendition(i,"imgpreview")];case 4:return"CREATED"===e.sent().entry.status.toString()&&(this.viewerType="image",this.urlFileContent=this.apiService.contentApi.getSharedLinkRenditionUrl(i,"imgpreview")),[3,6];case 5:return n=e.sent(),this.logService.error(n),[3,6];case 6:return[3,7];case 7:return[2]}})})},ro.prototype.resolveRendition=function(r,a){return _(this,void 0,void 0,function(){var t,n,i,o=this;return k(this,function(e){switch(e.label){case 0:return a=a.toLowerCase(),[4,this.apiService.renditionsApi.getRenditions(r)];case 1:if(t=e.sent(),(n=t.list.entries.find(function(e){return e.entry.id.toLowerCase()===a}))||(a="imgpreview",n=t.list.entries.find(function(e){return e.entry.id.toLowerCase()===a})),!n)return[3,6];if("NOT_CREATED"!==n.entry.status.toString())return[3,6];e.label=2;case 2:return e.trys.push([2,5,,6]),[4,this.apiService.renditionsApi.createRendition(r,{id:a}).then(function(){o.viewerType="in_creation"})];case 3:return e.sent(),[4,this.waitRendition(r,a)];case 4:return n=e.sent(),[3,6];case 5:return i=e.sent(),this.logService.error(i),[3,6];case 6:return[2,n]}})})},ro.prototype.waitRendition=function(r,a){return _(this,void 0,void 0,function(){var i,o=this;return k(this,function(e){return i=0,[2,new Promise(function(t,e){var n=setInterval(function(){i++,o.maxRetries>=i?o.apiService.renditionsApi.getRendition(r,a).then(function(e){if("CREATED"===e.entry.status.toString())return"pdf"===a?o.viewerType="pdf":"imgpreview"===a&&(o.viewerType="image"),o.urlFileContent=o.apiService.contentApi.getRenditionUrl(r,a),clearInterval(n),t(e)},function(){return o.viewerType="error_in_creation",e()}):(o.isLoading=!1,o.viewerType="error_in_creation",clearInterval(n))},o.TRY_TIMEOUT)})]})})},ro.prototype.checkExtensions=function(e){var t=this;return"string"==typeof e?this.extension.toLowerCase()===e.toLowerCase():0<e.length?e.find(function(e){return t.extension.toLowerCase()===e.toLowerCase()}):void 0},ro.prototype.generateCacheBusterNumber=function(){this.cacheBusterNumber=Date.now()},ro.decorators=[{type:D.Component,args:[{selector:"adf-viewer",template:'<div *ngIf="showViewer"\n     class="adf-viewer-container"\n     [class.adf-viewer-overlay-container]="overlayMode"\n     [class.adf-viewer-inline-container]="!overlayMode">\n\n    <div class="adf-viewer-content" fxLayout="column">\n        <ng-content select="adf-viewer-toolbar"></ng-content>\n        <ng-container *ngIf="showToolbar && !toolbar">\n            <adf-toolbar color="default" id="adf-viewer-toolbar" class="adf-viewer-toolbar">\n\n                <adf-toolbar-title>\n\n                    <ng-container *ngIf="allowLeftSidebar">\n                        <button\n                            mat-icon-button\n                            title="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                            data-automation-id="adf-toolbar-left-sidebar"\n                            [color]="showLeftSidebar ? \'accent\' : \'default\'"\n                            (click)="toggleLeftSidebar()">\n                            <mat-icon>info_outline</mat-icon>\n                        </button>\n                    </ng-container>\n\n                    <button *ngIf="allowGoBack"\n                            class="adf-viewer-close-button"\n                            data-automation-id="adf-toolbar-back"\n                            mat-icon-button\n                            title="{{ \'ADF_VIEWER.ACTIONS.CLOSE\' | translate }}"\n                            (click)="onBackButtonClick()">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </adf-toolbar-title>\n\n                <div fxFlex="1 1 auto" class="adf-viewer__file-title">\n                    <button\n                        *ngIf="allowNavigate && canNavigateBefore"\n                        data-automation-id="adf-toolbar-pref-file"\n                        mat-icon-button\n                        title="{{ \'ADF_VIEWER.ACTIONS.PREV_FILE\' | translate }}"\n                        (click)="onNavigateBeforeClick()">\n                        <mat-icon>navigate_before</mat-icon>\n                    </button>\n                    <img class="adf-viewer__mimeicon" [alt]="mimeType | adfMimeTypeIcon" [src]="mimeType | adfMimeTypeIcon" data-automation-id="adf-file-thumbnail">\n                    <span class="adf-viewer__display-name" id="adf-viewer-display-name">{{ fileTitle }}</span>\n                    <button\n                        *ngIf="allowNavigate && canNavigateNext"\n                        data-automation-id="adf-toolbar-next-file"\n                        mat-icon-button\n                        title="{{ \'ADF_VIEWER.ACTIONS.NEXT_FILE\' | translate }}"\n                        (click)="onNavigateNextClick()">\n                        <mat-icon>navigate_next</mat-icon>\n                    </button>\n                </div>\n\n                <ng-content select="adf-viewer-toolbar-actions"></ng-content>\n\n                <ng-container *ngIf="mnuOpenWith" data-automation-id=\'adf-toolbar-custom-btn\'>\n                    <button\n                        id="adf-viewer-openwith"\n                        mat-button\n                        [matMenuTriggerFor]="mnuOpenWith"\n                        data-automation-id="adf-toolbar-open-with">\n                        <span>{{ \'ADF_VIEWER.ACTIONS.OPEN_WITH\' | translate }}</span>\n                        <mat-icon>arrow_drop_down</mat-icon>\n                    </button>\n                    <mat-menu #mnuOpenWith="matMenu" [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-open-with"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <adf-toolbar-divider></adf-toolbar-divider>\n\n                <button\n                    id="adf-viewer-download"\n                    *ngIf="allowDownload"\n                    mat-icon-button\n                    title="{{ \'ADF_VIEWER.ACTIONS.DOWNLOAD\' | translate }}"\n                    data-automation-id="adf-toolbar-download"\n                    [adfNodeDownload]="nodeEntry">\n                    <mat-icon>file_download</mat-icon>\n                </button>\n\n                <button\n                    id="adf-viewer-print"\n                    *ngIf="allowPrint"\n                    mat-icon-button\n                    title="{{ \'ADF_VIEWER.ACTIONS.PRINT\' | translate }}"\n                    data-automation-id="adf-toolbar-print"\n                    (click)="printContent()">\n                    <mat-icon>print</mat-icon>\n                </button>\n\n                <button\n                    id="adf-viewer-fullscreen"\n                    *ngIf="viewerType !== \'media\' && allowFullScreen"\n                    mat-icon-button\n                    title="{{ \'ADF_VIEWER.ACTIONS.FULLSCREEN\' | translate }}"\n                    data-automation-id="adf-toolbar-fullscreen"\n                    (click)="enterFullScreen()">\n                    <mat-icon>fullscreen</mat-icon>\n                </button>\n\n                <ng-container *ngIf="allowRightSidebar">\n                    <adf-toolbar-divider></adf-toolbar-divider>\n\n                    <button\n                        mat-icon-button\n                        title="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                        data-automation-id="adf-toolbar-sidebar"\n                        [color]="showRightSidebar ? \'accent\' : \'default\'"\n                        (click)="toggleSidebar()">\n                        <mat-icon>info_outline</mat-icon>\n                    </button>\n\n                </ng-container>\n\n                <ng-container *ngIf="mnuMoreActions">\n                    <button\n                        id="adf-viewer-moreactions"\n                        mat-icon-button\n                        [matMenuTriggerFor]="mnuMoreActions"\n                        title="{{ \'ADF_VIEWER.ACTIONS.MORE_ACTIONS\' | translate }}"\n                        data-automation-id="adf-toolbar-more-actions">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #mnuMoreActions="matMenu" [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-more-actions"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n            </adf-toolbar>\n        </ng-container>\n\n        <div fxLayout="row" fxFlex="1 1 auto">\n            <ng-container *ngIf="allowRightSidebar && showRightSidebar">\n                <div class="adf-viewer__sidebar" [ngClass]="\'adf-viewer__sidebar__right\'" fxFlexOrder="4"  id="adf-right-sidebar" >\n                    <ng-container *ngIf="sidebarRightTemplate">\n                        <ng-container *ngTemplateOutlet="sidebarRightTemplate;context:sidebarRightTemplateContext"></ng-container>\n                    </ng-container>\n                    <ng-content *ngIf="!sidebarRightTemplate" select="adf-viewer-sidebar"></ng-content>\n                </div>\n            </ng-container>\n\n            <ng-container *ngIf="allowLeftSidebar && showLeftSidebar">\n                <div class="adf-viewer__sidebar" [ngClass]="\'adf-viewer__sidebar__left\'" fxFlexOrder="1"  id="adf-left-sidebar" >\n                    <ng-container *ngIf="sidebarLeftTemplate">\n                        <ng-container *ngTemplateOutlet="sidebarLeftTemplate;context:sidebarLeftTemplateContext"></ng-container>\n                    </ng-container>\n                    <ng-content *ngIf="!sidebarLeftTemplate" select="adf-viewer-sidebar"></ng-content>\n                </div>\n            </ng-container>\n\n            <div  *ngIf="isLoading"  class="adf-viewer-main" fxFlexOrder="1" fxFlex="1 1 auto">\n                <div class="adf-viewer-layout-content adf-viewer__fullscreen-container">\n                    <div class="adf-viewer-content-container">\n                        <ng-container *ngIf="isLoading">\n                            <div class="adf-viewer__loading-screen" fxFlex="1 1 auto">\n                                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                    </div>\n                </div>\n            </div>\n\n            <div  *ngIf="!isLoading"  class="adf-viewer-main" fxFlexOrder="1" fxFlex="1 1 auto">\n                <div class="adf-viewer-layout-content adf-viewer__fullscreen-container">\n                    <div class="adf-viewer-content-container" [ngSwitch]="viewerType">\n\n                        <ng-container *ngSwitchCase="\'pdf\'">\n                            <adf-pdf-viewer (close)="onBackButtonClick()" [thumbnailsTemplate]="thumbnailsTemplate" [allowThumbnails]="allowThumbnails" [blobFile]="blobFile" [urlFile]="urlFileContent" [nameFile]="displayName"></adf-pdf-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'image\'">\n                            <adf-img-viewer [urlFile]="urlFileContent" [nameFile]="displayName" [blobFile]="blobFile"></adf-img-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'media\'">\n                            <adf-media-player id="adf-mdedia-player" [urlFile]="urlFileContent" [mimeType]="mimeType" [blobFile]="blobFile" [nameFile]="displayName"></adf-media-player>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'text\'">\n                            <adf-txt-viewer [urlFile]="urlFileContent" [blobFile]="blobFile"></adf-txt-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'in_creation\'">\n                            <div class="adf-viewer__loading-screen" fxFlex="1 1 auto">\n                                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase="\'custom\'">\n                            <ng-container *ngFor="let ext of viewerExtensions">\n                                <adf-preview-extension\n                                    *ngIf="checkExtensions(ext.fileExtension)"\n                                    [id]="ext.component"\n                                    [node]="nodeEntry.entry"\n                                    [url]="urlFileContent"\n                                    [extension]="extension"\n                                    [attr.data-automation-id]="ext.component">\n                                </adf-preview-extension>\n                            </ng-container>\n\n                            <span class="adf-viewer-custom-content" *ngFor="let extensionTemplate of extensionTemplates">\n                                <ng-template\n                                    *ngIf="extensionTemplate.isVisible"\n                                    [ngTemplateOutlet]="extensionTemplate.template"\n                                    [ngTemplateOutletContext]="{ urlFileContent: urlFileContent, extension:extension }">\n                                </ng-template>\n                            </span>\n                        </ng-container>\n\n                        <ng-container *ngSwitchDefault>\n                            <adf-viewer-unknown-format></adf-viewer-unknown-format>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n',host:{"class":"adf-viewer"},encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],ro.ctorParameters=function(){return[{type:$},{type:Xi},{type:te},{type:O.AppExtensionService},{type:D.ElementRef}]},ro.propDecorators={toolbar:[{type:D.ContentChild,args:[no]}],sidebar:[{type:D.ContentChild,args:[eo]}],mnuOpenWith:[{type:D.ContentChild,args:[Qi]}],mnuMoreActions:[{type:D.ContentChild,args:[Ki]}],urlFile:[{type:D.Input}],urlFileViewer:[{type:D.Input}],blobFile:[{type:D.Input}],nodeId:[{type:D.Input}],sharedLinkId:[{type:D.Input}],overlayMode:[{type:D.Input}],showViewer:[{type:D.Input}],showToolbar:[{type:D.Input}],displayName:[{type:D.Input}],allowGoBack:[{type:D.Input}],allowDownload:[{type:D.Input}],allowPrint:[{type:D.Input}],allowFullScreen:[{type:D.Input}],allowNavigate:[{type:D.Input}],canNavigateBefore:[{type:D.Input}],canNavigateNext:[{type:D.Input}],allowLeftSidebar:[{type:D.Input}],allowRightSidebar:[{type:D.Input}],allowThumbnails:[{type:D.Input}],showRightSidebar:[{type:D.Input}],showLeftSidebar:[{type:D.Input}],sidebarRightTemplate:[{type:D.Input}],sidebarLeftTemplate:[{type:D.Input}],thumbnailsTemplate:[{type:D.Input}],mimeType:[{type:D.Input}],fileName:[{type:D.Input}],maxRetries:[{type:D.Input}],goBack:[{type:D.Output}],print:[{type:D.Output}],showViewerChange:[{type:D.Output}],extensionChange:[{type:D.Output}],navigateBefore:[{type:D.Output}],navigateNext:[{type:D.Output}],invalidSharedLink:[{type:D.Output}],handleKeyboardEvent:[{type:D.HostListener,args:["document:keyup",["$event"]]}]},ro);function ro(e,t,n,i,o){this.apiService=e,this.viewUtils=t,this.logService=n,this.extensionService=i,this.el=o,this.urlFile="",this.urlFileViewer=null,this.nodeId=null,this.sharedLinkId=null,this.overlayMode=!1,this.showViewer=!0,this.showToolbar=!0,this.allowGoBack=!0,this.allowDownload=!0,this.allowPrint=!1,this.allowFullScreen=!0,this.allowNavigate=!1,this.canNavigateBefore=!0,this.canNavigateNext=!0,this.allowLeftSidebar=!1,this.allowRightSidebar=!1,this.allowThumbnails=!0,this.showRightSidebar=!1,this.showLeftSidebar=!1,this.sidebarRightTemplate=null,this.sidebarLeftTemplate=null,this.thumbnailsTemplate=null,this.maxRetries=30,this.goBack=new D.EventEmitter,this.print=new D.EventEmitter,this.showViewerChange=new D.EventEmitter,this.extensionChange=new D.EventEmitter,this.navigateBefore=new D.EventEmitter,this.navigateNext=new D.EventEmitter,this.invalidSharedLink=new D.EventEmitter,this.TRY_TIMEOUT=1e4,this.viewerType="unknown",this.isLoading=!1,this.extensionTemplates=[],this.externalExtensions=[],this.sidebarRightTemplateContext={node:null},this.sidebarLeftTemplateContext={node:null},this.viewerExtensions=[],this.subscriptions=[],this.extensions={image:["png","jpg","jpeg","gif","bpm","svg"],media:["wav","mp4","mp3","webm","ogg"],text:["txt","xml","html","json","ts","css","md"],pdf:["pdf"]},this.mimeTypes={text:["text/plain","text/csv","text/xml","text/html","application/x-javascript"],pdf:["application/pdf"],image:["image/png","image/jpeg","image/gif","image/bmp","image/svg+xml"],media:["video/mp4","video/webm","video/ogg","audio/mpeg","audio/ogg","audio/wav"]}}var ao=(Object.defineProperty(so.prototype,"transform",{get:function(){return this.sanitizer.bypassSecurityTrustStyle("scale("+this.scaleX+", "+this.scaleY+") rotate("+this.rotate+"deg) translate("+this.offsetX+"px, "+this.offsetY+"px)")},enumerable:!0,configurable:!0}),Object.defineProperty(so.prototype,"currentScaleText",{get:function(){return Math.round(100*this.scaleX)+"%"},enumerable:!0,configurable:!0}),so.prototype.initializeScaling=function(){var e=this.appConfigService.get("adf-viewer.image-viewer-scaling",undefined)/100;e&&(this.scaleX=e,this.scaleY=e)},so.prototype.ngOnInit=function(){this.element=this.el.nativeElement.querySelector("#viewer-image"),this.element&&(this.element.addEventListener("mousedown",this.onMouseDown.bind(this)),this.element.addEventListener("mouseup",this.onMouseUp.bind(this)),this.element.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.element.addEventListener("mouseout",this.onMouseOut.bind(this)),this.element.addEventListener("mousemove",this.onMouseMove.bind(this)))},so.prototype.ngOnDestroy=function(){this.element&&(this.element.removeEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("mouseup",this.onMouseUp),this.element.removeEventListener("mouseleave",this.onMouseLeave),this.element.removeEventListener("mouseout",this.onMouseOut),this.element.removeEventListener("mousemove",this.onMouseMove))},so.prototype.onMouseDown=function(e){e.preventDefault(),this.isDragged=!0,this.drag={x:e.pageX,y:e.pageY}},so.prototype.onMouseMove=function(e){if(this.isDragged){e.preventDefault(),this.delta.x=e.pageX-this.drag.x,this.delta.y=e.pageY-this.drag.y,this.drag.x=e.pageX,this.drag.y=e.pageY;var t=0!==this.scaleX?this.scaleX:1,n=0!==this.scaleY?this.scaleY:1;this.offsetX+=this.delta.x/t,this.offsetY+=this.delta.y/n}},so.prototype.onMouseUp=function(e){this.isDragged&&(e.preventDefault(),this.isDragged=!1)},so.prototype.onMouseLeave=function(e){this.isDragged&&(e.preventDefault(),this.isDragged=!1)},so.prototype.onMouseOut=function(e){this.isDragged&&(e.preventDefault(),this.isDragged=!1)},so.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},so.prototype.zoomIn=function(){var e=+(this.scaleX+.2).toFixed(1);this.scaleX=this.scaleY=e},so.prototype.zoomOut=function(){var e=+(this.scaleX-.2).toFixed(1);e<.2&&(e=.2),this.scaleX=this.scaleY=e},so.prototype.rotateLeft=function(){var e=this.rotate-90;this.rotate=Math.abs(e)<360?e:0},so.prototype.rotateRight=function(){var e=this.rotate+90;this.rotate=Math.abs(e)<360?e:0},so.prototype.reset=function(){this.rotate=0,this.scaleX=1,this.scaleY=1,this.offsetX=0,this.offsetY=0},so.decorators=[{type:D.Component,args:[{selector:"adf-img-viewer",template:'<div id="adf-image-container"  class="adf-image-container" tabindex="0" role="img" [attr.aria-label]="nameFile" [style.transform]="transform" data-automation-id="adf-image-container">\n    <img id="viewer-image" [src]="urlFile" [alt]="nameFile" [ngStyle]="{ \'cursor\' : isDragged ? \'move\': \'default\' } " />\n</div>\n\n<div class="adf-image-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar>\n        <button\n            id="viewer-zoom-in-button"\n            mat-icon-button\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id="viewer-zoom-out-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <div class="adf-viewer__toolbar-page-scale" data-automation-id="adf-page-scale">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id="viewer-rotate-left-button"\n            title="{{ \'ADF_VIEWER.ARIA.ROTATE_LEFT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ROTATE_LEFT\' | translate }}"\n            mat-icon-button\n            (click)="rotateLeft()">\n            <mat-icon>rotate_left</mat-icon>\n        </button>\n\n        <button\n            id="viewer-rotate-right-button"\n            title="{{ \'ADF_VIEWER.ARIA.ROTATE_RIGHT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ROTATE_RIGHT\' | translate }}"\n            mat-icon-button\n            (click)="rotateRight()">\n            <mat-icon>rotate_right</mat-icon>\n        </button>\n\n        <button\n            id="viewer-reset-button"\n            title="{{ \'ADF_VIEWER.ARIA.RESET\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.RESET\' | translate }}"\n            mat-icon-button\n            (click)="reset()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n    </adf-toolbar>\n</div>\n',host:{"class":"adf-image-viewer"},encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],so.ctorParameters=function(){return[{type:R.DomSanitizer},{type:z},{type:Xt},{type:D.ElementRef}]},so.propDecorators={showToolbar:[{type:D.Input}],urlFile:[{type:D.Input}],blobFile:[{type:D.Input}],nameFile:[{type:D.Input}]},so);function so(e,t,n,i){this.sanitizer=e,this.appConfigService=t,this.contentService=n,this.el=i,this.showToolbar=!0,this.rotate=0,this.scaleX=1,this.scaleY=1,this.offsetX=0,this.offsetY=0,this.isDragged=!1,this.drag={x:0,y:0},this.delta={x:0,y:0},this.initializeScaling()}var lo=(uo.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},uo.decorators=[{type:D.Component,args:[{selector:"adf-media-player",template:'<video controls>\n    <source [src]="urlFile" [type]="mimeType" />\n</video>\n',host:{"class":"adf-media-player"},encapsulation:D.ViewEncapsulation.None,styles:[".adf-media-player{display:flex}.adf-media-player video{display:flex;flex:1;max-height:90vh;max-width:100%}"]}]}],uo.ctorParameters=function(){return[{type:Xt}]},uo.propDecorators={urlFile:[{type:D.Input}],blobFile:[{type:D.Input}],mimeType:[{type:D.Input}],nameFile:[{type:D.Input}]},uo);function uo(e){this.contentService=e}var po=(co.prototype.setViewer=function(e){this.pdfViewer=e},co.prototype.setThumbnailViewer=function(e){this.pdfThumbnailViewer=e},co.prototype.isHighestPriority=function(e){return this.highestPriorityPage===e.renderingId},co.prototype.renderHighestPriority=function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),this.CLEANUP_TIMEOUT))},co.prototype.getHighestPriority=function(e,t,n){var i=e.views,o=i.length;if(0===o)return!1;for(var r=0;r<o;++r){var a=i[r].view;if(!this.isViewFinished(a))return a}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return null},co.prototype.isViewFinished=function(e){return e.renderingState===this.renderingStates.FINISHED},co.prototype.renderView=function(e){switch(e.renderingState){case this.renderingStates.FINISHED:return!1;case this.renderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case this.renderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case this.renderingStates.INITIAL:this.highestPriorityPage=e.renderingId;var t=function(){this.renderHighestPriority()}.bind(this);e.draw().then(t,t)}return!0},co.decorators=[{type:D.Injectable}],co);function co(){this.renderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},this.CLEANUP_TIMEOUT=3e4,this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var mo=(fo.prototype.ngOnInit=function(){this.passwordFormControl=new S.FormControl("",[S.Validators.required])},fo.prototype.isError=function(){return this.data.reason===pdfjsLib.PasswordResponses.INCORRECT_PASSWORD},fo.prototype.isValid=function(){return!this.passwordFormControl.hasError("required")},fo.prototype.submit=function(){this.dialogRef.close(this.passwordFormControl.value)},fo.decorators=[{type:D.Component,args:[{selector:"adf-pdf-viewer-password-dialog",template:'<div mat-dialog-title>\n    <mat-icon>lock</mat-icon>\n</div>\n\n<mat-dialog-content>\n    <form (submit)="submit()">\n        <mat-form-field class="adf-full-width">\n            <input matInput\n                   data-automation-id=\'adf-password-dialog-input\'\n                   type="password"\n                   placeholder="{{ \'ADF_VIEWER.PDF_DIALOG.PLACEHOLDER\' | translate }}"\n                   [formControl]="passwordFormControl" />\n        </mat-form-field>\n\n        <mat-error *ngIf="isError()" data-automation-id=\'adf-password-dialog-error\'>{{ \'ADF_VIEWER.PDF_DIALOG.ERROR\' | translate }}</mat-error>\n    </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class="adf-dialog-buttons">\n    <span class="adf-fill-remaining-space"></span>\n\n    <button mat-button mat-dialog-close data-automation-id=\'adf-password-dialog-close\'>{{ \'ADF_VIEWER.PDF_DIALOG.CLOSE\' | translate }}</button>\n\n    <button mat-button\n            data-automation-id=\'adf-password-dialog-submit\'\n            class="adf-dialog-action-button"\n            [disabled]="!isValid()"\n            (click)="submit()">\n        {{ \'ADF_VIEWER.PDF_DIALOG.SUBMIT\' | translate }}\n    </button>\n</mat-dialog-actions>\n',styles:[".adf-fill-remaining-space{flex:1 1 auto}.adf-full-width{width:100%}"]}]}],fo.ctorParameters=function(){return[{type:v.MatDialogRef},{type:undefined,decorators:[{type:D.Inject,args:[v.MAT_DIALOG_DATA]}]}]},fo);function fo(e,t){this.dialogRef=e,this.data=t}var ho=(Object.defineProperty(go.prototype,"currentScaleText",{get:function(){return Math.round(100*this.currentScale)+"%"},enumerable:!0,configurable:!0}),go.prototype.getUserScaling=function(){var e=this.appConfigService.get("adf-viewer.pdf-viewer-scaling",undefined)/100;return e?this.checkLimits(e):1},go.prototype.checkLimits=function(e){return e>this.MAX_SCALE?this.MAX_SCALE:e<this.MIN_SCALE?this.MIN_SCALE:e},go.prototype.ngOnChanges=function(e){var t=this,n=e.blobFile;if(n&&n.currentValue){var i=new FileReader;i.onload=function(){var e={data:i.result,withCredentials:t.appConfigService.get("auth.withCredentials",undefined)};t.executePdf(e)},i.readAsArrayBuffer(n.currentValue)}var o=e.urlFile;if(o&&o.currentValue){var r={url:o.currentValue,withCredentials:this.appConfigService.get("auth.withCredentials",undefined)};this.executePdf(r)}if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},go.prototype.executePdf=function(e){var n=this;pdfjsLib.GlobalWorkerOptions.workerSrc="pdf.worker.min.js",this.loadingTask=pdfjsLib.getDocument(e),this.loadingTask.onPassword=function(e,t){n.onPdfPassword(e,t)},this.loadingTask.onProgress=function(e){var t=e.loaded/e.total;n.loadingPercent=Math.round(100*t)},this.loadingTask.then(function(e){n.currentPdfDocument=e,n.totalPages=e.numPages,n.page=1,n.displayPage=1,n.initPDFViewer(n.currentPdfDocument),n.currentPdfDocument.getPage(1).then(function(){n.scalePage("auto")},function(){n.error.emit()})},function(){n.error.emit()})},go.prototype.initPDFViewer=function(e){var t=document.getElementById(this.randomPdfId+"-viewer-viewerPdf"),n=document.getElementById(this.randomPdfId+"-viewer-pdf-viewer");t&&n&&(this.documentContainer=n,this.documentContainer.addEventListener("pagechange",this.onPageChange,!0),this.documentContainer.addEventListener("pagesloaded",this.onPagesLoaded,!0),this.documentContainer.addEventListener("textlayerrendered",this.onPageRendered,!0),this.pdfViewer=new pdfjsViewer.PDFViewer({container:this.documentContainer,viewer:t,renderingQueue:this.renderingQueueServices}),this.renderingQueueServices.setViewer(this.pdfViewer),this.pdfViewer.setDocument(e),this.pdfThumbnailsContext.viewer=this.pdfViewer)},go.prototype.ngOnDestroy=function(){if(this.documentContainer&&(this.documentContainer.removeEventListener("pagechange",this.onPageChange,!0),this.documentContainer.removeEventListener("pagesloaded",this.onPagesLoaded,!0),this.documentContainer.removeEventListener("textlayerrendered",this.onPageRendered,!0)),this.loadingTask){try{this.loadingTask.destroy()}catch(e){}this.loadingTask=null}},go.prototype.toggleThumbnails=function(){this.showThumbnails=!this.showThumbnails},go.prototype.scalePage=function(e){this.currentScaleMode=e;var t=document.getElementById(this.randomPdfId+"-viewer-main-container"),n=document.getElementById(this.randomPdfId+"-viewer-pdf-viewer");if(this.pdfViewer&&n){var i=void 0,o=void 0;o=t&&t.clientWidth<=n.clientWidth?(i=t.clientWidth,t.clientHeight):(i=n.clientWidth,n.clientHeight);var r=this.pdfViewer._pages[this.pdfViewer._currentPageNumber-1],a=(i-20)/r.width*r.scale,s=(o-20)/r.width*r.scale,l=this.getUserScaling();if(l)this.currentScale=0,this.setScaleUpdatePages(l);else{switch(this.currentScaleMode){case"page-actual":l=1;break;case"page-width":l=a;break;case"page-height":l=s;break;case"page-fit":l=Math.min(a,s);break;case"auto":var u=void 0;u=this.isLandscape?Math.min(s,a):a,u=Math.round(u),l=Math.min(this.MAX_AUTO_SCALE,u);break;default:return void this.logService.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this.setScaleUpdatePages(l)}}},go.prototype.setScaleUpdatePages=function(t){this.pdfViewer&&(this.isSameScale(this.currentScale,t)||(this.currentScale=t,this.pdfViewer._pages.forEach(function(e){e.update(t)})),this.pdfViewer.update())},go.prototype.isSameScale=function(e,t){return t===e},go.prototype.isLandscape=function(e,t){return t<e},go.prototype.onResize=function(){this.scalePage(this.currentScaleMode)},go.prototype.pageFit=function(){"page-fit"!==this.currentScaleMode?this.scalePage("page-fit"):this.scalePage("auto")},go.prototype.zoomIn=function(e){for(var t=this.currentScale;t=(t*this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(this.MAX_SCALE,t),0<--e&&t<this.MAX_SCALE;);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},go.prototype.zoomOut=function(e){for(var t=this.currentScale;t=(t/this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(this.MIN_SCALE,t),0<--e&&t>this.MIN_SCALE;);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},go.prototype.previousPage=function(){this.pdfViewer&&1<this.page&&(this.page--,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},go.prototype.nextPage=function(){this.pdfViewer&&this.page<this.totalPages&&(this.page++,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},go.prototype.inputPage=function(e){var t=parseInt(e,10);!isNaN(t)&&0<t&&t<=this.totalPages?(this.page=t,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page):this.displayPage=this.page},go.prototype.onPageChange=function(e){this.page=e.pageNumber,this.displayPage=e.pageNumber},go.prototype.onPdfPassword=function(t,e){var n=this;this.dialog.open(mo,{width:"400px",data:{reason:e}}).afterClosed().subscribe(function(e){e?t(e):n.close.emit()})},go.prototype.onPageRendered=function(){this.rendered.emit()},go.prototype.onPagesLoaded=function(e){this.isPanelDisabled=!1},go.prototype.handleKeyboardEvent=function(e){var t=e.keyCode;39===t?this.nextPage():37===t&&this.previousPage()},go.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},go.decorators=[{type:D.Component,args:[{selector:"adf-pdf-viewer",template:'<div class="adf-pdf-viewer__container">\n    <ng-container *ngIf="showThumbnails">\n        <div class="adf-pdf-viewer__thumbnails">\n            <div class="adf-thumbnails-template__container">\n                <div class="adf-thumbnails-template__buttons">\n                    <button mat-icon-button data-automation-id=\'adf-thumbnails-close\' (click)="toggleThumbnails()">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </div>\n\n                <ng-container *ngIf="thumbnailsTemplate">\n                    <ng-container *ngTemplateOutlet="thumbnailsTemplate;context:pdfThumbnailsContext"></ng-container>\n                </ng-container>\n\n                <ng-container *ngIf="!thumbnailsTemplate">\n                    <adf-pdf-thumbnails [pdfViewer]="pdfViewer"></adf-pdf-thumbnails>\n                </ng-container>\n            </div>\n        </div>\n    </ng-container>\n\n    <div class="adf-pdf-viewer__content">\n        <div [id]="randomPdfId+\'-viewer-pdf-viewer\'" class="adf-viewer-pdf-viewer" (window:resize)="onResize()">\n            <div [id]="randomPdfId+\'-viewer-viewerPdf\'" class="adf-pdfViewer" role="document" tabindex="0" aria-expanded="true">\n                <div id="loader-container" class="adf-loader-container">\n                    <div class="adf-loader-item">\n                        <mat-progress-bar mode="indeterminate"></mat-progress-bar>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="adf-pdf-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar>\n\n        <ng-container *ngIf="allowThumbnails">\n            <button mat-icon-button\n                    data-automation-id="adf-thumbnails-button"\n                    [disabled]="isPanelDisabled"\n                    (click)="toggleThumbnails()">\n                <mat-icon>dashboard</mat-icon>\n            </button>\n            <adf-toolbar-divider></adf-toolbar-divider>\n        </ng-container>\n\n        <button\n            id="viewer-previous-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="previousPage()">\n            <mat-icon>keyboard_arrow_up</mat-icon>\n        </button>\n\n        <button\n            id="viewer-next-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="nextPage()">\n            <mat-icon>keyboard_arrow_down</mat-icon>\n        </button>\n\n        <div class="adf-pdf-viewer__toolbar-page-selector">\n            <span>{{ \'ADF_VIEWER.PAGE_LABEL.SHOWING\' | translate }}</span>\n            <input #page\n                   type="text"\n                   data-automation-id="adf-page-selector"\n                   pattern="-?[0-9]*(\\.[0-9]+)?"\n                   value="{{ displayPage }}"\n                   (keyup.enter)="inputPage(page.value)">\n            <span>{{ \'ADF_VIEWER.PAGE_LABEL.OF\' | translate }} {{ totalPages }}</span>\n        </div>\n\n        <div class="adf-viewer__toolbar-page-scale" data-automation-id="adf-page-scale">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id="viewer-zoom-in-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            mat-icon-button\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id="viewer-zoom-out-button"\n            title="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <button\n            id="viewer-scale-page-button"\n            title="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="pageFit()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n\n    </adf-toolbar>\n</div>\n',providers:[po],host:{"class":"adf-pdf-viewer"},encapsulation:D.ViewEncapsulation.None,styles:["",".adf-pdf-viewer .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;border:1px solid gray}.adf-pdf-viewer .textLayer>div{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}.adf-pdf-viewer .textLayer .adf-highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}.adf-pdf-viewer .textLayer .adf-highlight.adf-begin{border-radius:4px 0 0 4px}.adf-pdf-viewer .textLayer .adf-highlight.adf-end{border-radius:0 4px 4px 0}.adf-pdf-viewer .textLayer .adf-highlight.adf-middle{border-radius:0}.adf-pdf-viewer .textLayer .adf-highlight.adf-selected{background-color:#006400}.adf-pdf-viewer .textLayer::selection{background:#00f}.adf-pdf-viewer .textLayer::-moz-selection{background:#00f}.adf-pdf-viewer .textLayer .adf-endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;user-select:none;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none}.adf-pdf-viewer .textLayer .adf-endOfContent.adf-active{top:0}.adf-pdf-viewer .adf-annotationLayer section{position:absolute}.adf-pdf-viewer .adf-annotationLayer .adf-linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.adf-pdf-viewer .adf-annotationLayer .adf-linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}.adf-pdf-viewer .adf-annotationLayer .adf-textAnnotation img{position:absolute;cursor:pointer}.adf-pdf-viewer .adf-annotationLayer .adf-popupWrapper{position:absolute;width:20em}.adf-pdf-viewer .adf-annotationLayer .adf-popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #333;border-radius:2px;padding:.6em;margin-left:5px;cursor:pointer;word-wrap:break-word}.adf-pdf-viewer .adf-annotationLayer .adf-popup h1{font-size:1em;border-bottom:1px solid #000;padding-bottom:.2em}.adf-pdf-viewer .adf-annotationLayer .adf-popup p{padding-top:.2em}.adf-pdf-viewer .adf-annotationLayer .adf-fileAttachmentAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-highlightAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-squigglyAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-strikeoutAnnotation,.adf-pdf-viewer .adf-annotationLayer .adf-underlineAnnotation{cursor:pointer}.adf-pdf-viewer .adf-pdfViewer .canvasWrapper{overflow:hidden}.adf-pdf-viewer .adf-pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;background-color:#fff}.adf-pdf-viewer .adf-pdfViewer .page canvas{margin:0;display:block}.adf-pdf-viewer .adf-pdfViewer .page .adf-loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0}.adf-pdf-viewer .adf-pdfViewer .page *{padding:0;margin:0}.adf-pdf-viewer .adf-pdfViewer.adf-removePageBorders .adf-page{margin:0 auto 10px;border:none}.adf-pdf-viewer .adf-pdfViewer .adf-loadingIcon{width:100px;height:100px;left:50%!important;top:50%!important;margin-top:-50px;margin-left:-50px;font-size:5px;text-indent:-9999em;border-top:1.1em solid rgba(3,0,2,.2);border-right:1.1em solid rgba(3,0,2,.2);border-bottom:1.1em solid rgba(3,0,2,.2);border-left:1.1em solid #030002;transform:translateZ(0);-webkit-animation:1.1s linear infinite load8;animation:1.1s linear infinite load8;border-radius:50%}.adf-pdf-viewer .adf-pdfViewer .adf-loadingIcon::after{border-radius:50%}.adf-pdf-viewer .adf-hidden,.adf-pdf-viewer [hidden]{display:none!important}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.adf-viewer-pdf-viewer{overflow:auto;-webkit-overflow-scrolling:touch;position:absolute;top:0;right:0;bottom:0;left:0;outline:0}html[dir=ltr] .adf-viewer-pdf-viewer{box-shadow:inset 1px 0 0 rgba(255,255,255,.05)}html[dir=rtl] .adf-viewer-pdf-viewer{box-shadow:inset -1px 0 0 rgba(255,255,255,.05)}"]}]}],go.ctorParameters=function(){return[{type:v.MatDialog},{type:po},{type:te},{type:z}]},go.propDecorators={urlFile:[{type:D.Input}],blobFile:[{type:D.Input}],nameFile:[{type:D.Input}],showToolbar:[{type:D.Input}],allowThumbnails:[{type:D.Input}],thumbnailsTemplate:[{type:D.Input}],rendered:[{type:D.Output}],error:[{type:D.Output}],close:[{type:D.Output}],handleKeyboardEvent:[{type:D.HostListener,args:["document:keydown",["$event"]]}]},go);function go(e,t,n,i){this.dialog=e,this.renderingQueueServices=t,this.logService=n,this.appConfigService=i,this.showToolbar=!0,this.allowThumbnails=!1,this.thumbnailsTemplate=null,this.rendered=new D.EventEmitter,this.error=new D.EventEmitter,this.close=new D.EventEmitter,this.currentScaleMode="auto",this.currentScale=1,this.MAX_AUTO_SCALE=1.25,this.DEFAULT_SCALE_DELTA=1.1,this.MIN_SCALE=.25,this.MAX_SCALE=10,this.isPanelDisabled=!0,this.showThumbnails=!1,this.pdfThumbnailsContext={viewer:null},this.onPageChange=this.onPageChange.bind(this),this.onPagesLoaded=this.onPagesLoaded.bind(this),this.onPageRendered=this.onPageRendered.bind(this),this.randomPdfId=this.generateUuid(),this.currentScale=this.getUserScaling()}var yo=(vo.prototype.onResize=function(e){this.calculateItems()},vo.prototype.ngOnInit=function(){this.pdfViewer.eventBus.on("pagechange",this.onPageChange),this.element.nativeElement.addEventListener("scroll",this.calculateItems,!0),this.setHeight(this.pdfViewer.currentPageNumber),this.items=this.getPages(),this.calculateItems()},vo.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){return e.scrollInto(e.pdfViewer.currentPageNumber)},0)},vo.prototype.ngOnDestroy=function(){this.element.nativeElement.removeEventListener("scroll",this.calculateItems,!0),this.pdfViewer.eventBus.off("pagechange",this.onPageChange)},vo.prototype.trackByFn=function(e,t){return t.id},vo.prototype.isSelected=function(e){return this.pdfViewer.currentPageNumber===e},vo.prototype.goTo=function(e){this.pdfViewer.currentPageNumber=e},vo.prototype.scrollInto=function(t){if(this.items.length){var e=this.items.findIndex(function(e){return e.id===t});if(e<0||e>=this.items.length)return;this.element.nativeElement.scrollTop=e*this.itemHeight,this.calculateItems()}},vo.prototype.getPages=function(){var t=this;return this.pdfViewer._pages.map(function(e){return{id:e.id,getWidth:function(){return t.width},getHeight:function(){return t.currentHeight},getPage:function(){return t.pdfViewer.pdfDocument.getPage(e.id)}}})},vo.prototype.setHeight=function(e){var t=this;return this.pdfViewer.pdfDocument.getPage(e).then(function(e){return t.calculateHeight(e)})},vo.prototype.calculateHeight=function(e){var t=e.getViewport(1),n=t.width/t.height,i=Math.floor(this.width/n);this.currentHeight=i,this.itemHeight=i+this.margin},vo.prototype.calculateItems=function(){var e=this.getContainerSetup(),t=e.element,n=e.viewPort,i=e.itemsInView,o=t.scrollTop/n*this.items.length/i,r=Math.floor(o),a=Math.ceil(o)+i;this.translateY=this.itemHeight*Math.ceil(r),this.virtualHeight=this.itemHeight*this.items.length-this.translateY,this.renderItems=this.items.slice(r,a)},vo.prototype.getContainerSetup=function(){var e=this.element.nativeElement,t=e.getBoundingClientRect(),n=Math.ceil(t.height/this.itemHeight);return{element:e,viewPort:this.itemHeight*this.items.length/n,itemsInView:n}},vo.prototype.onPageChange=function(t){var e=this.renderItems.findIndex(function(e){return e.id===t.pageNumber});e<0&&this.scrollInto(t.pageNumber),e>=this.renderItems.length-1&&(this.element.nativeElement.scrollTop+=this.itemHeight)},vo.decorators=[{type:D.Component,args:[{selector:"adf-pdf-thumbnails",template:'<div class="adf-pdf-thumbnails__content"\n    data-automation-id=\'adf-thumbnails-content\'\n    [style.height.px]="virtualHeight"\n    [style.transform]="\'translate(-50%, \' + translateY + \'px)\'">\n    <adf-pdf-thumb *ngFor="let page of renderItems; trackBy: trackByFn"\n        class="adf-pdf-thumbnails__thumb"\n        [ngClass]="{\'adf-pdf-thumbnails__thumb--selected\' : isSelected(page.id)}"\n        [page]="page"\n        (click)="goTo(page.id)">\n    </adf-pdf-thumb>\n</div>\n',host:{"class":"adf-pdf-thumbnails"},encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],vo.ctorParameters=function(){return[{type:D.ElementRef}]},vo.propDecorators={pdfViewer:[{type:D.Input}],template:[{type:D.ContentChild,args:[D.TemplateRef]}],onResize:[{type:D.HostListener,args:["window:resize",["$event"]]}]},vo);function vo(e){this.element=e,this.virtualHeight=0,this.translateY=0,this.renderItems=[],this.width=91,this.currentHeight=0,this.items=[],this.margin=15,this.itemHeight=114+this.margin,this.calculateItems=this.calculateItems.bind(this),this.onPageChange=this.onPageChange.bind(this)}var bo=(Eo.prototype.ngOnInit=function(){var t=this;this.image$=this.page.getPage().then(function(e){return t.getThumb(e)})},Eo.prototype.getThumb=function(e){var t=this,n=e.getViewport(1),i=n.width/n.height,o=this.getCanvas(i),r=Math.min(o.height/n.height,o.width/n.width);return e.render({canvasContext:o.getContext("2d"),viewport:e.getViewport(r)}).then(function(){var e=o.toDataURL();return t.sanitizer.bypassSecurityTrustUrl(e)})},Eo.prototype.getCanvas=function(e){var t=document.createElement("canvas");return t.width=this.page.getWidth(),t.height=this.page.getHeight(),t},Eo.decorators=[{type:D.Component,args:[{selector:"adf-pdf-thumb",template:'<ng-container *ngIf="image$ | async as image">\n    <img [src]="image" [alt]="\'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id }"\n        title="{{ \'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE\' | translate: { pageNum: page.id } }}">\n</ng-container>\n',encapsulation:D.ViewEncapsulation.None}]}],Eo.ctorParameters=function(){return[{type:R.DomSanitizer}]},Eo.propDecorators={page:[{type:D.Input}]},Eo);function Eo(e){this.sanitizer=e,this.page=null}var Io=(wo.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)return this.readBlob(t.currentValue);var n=e.urlFile;if(n&&n.currentValue)return this.getUrlContent(n.currentValue);if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},wo.prototype.getUrlContent=function(e){var i=this,o=this.appConfigService.get("auth.withCredentials",!1);return new Promise(function(t,n){i.http.get(e,{responseType:"text",withCredentials:o}).subscribe(function(e){i.content=e,t()},function(e){n(e)})})},wo.prototype.readBlob=function(i){var o=this;return new Promise(function(e,t){var n=new FileReader;n.onload=function(){o.content=n.result,e()},n.onerror=function(e){t(e)},n.readAsText(i)})},wo.decorators=[{type:D.Component,args:[{selector:"adf-txt-viewer",template:'<pre class="adf-txt-viewer-content">\n    {{content}}\n</pre>\n',host:{"class":"adf-txt-viewer"},encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],wo.ctorParameters=function(){return[{type:I.HttpClient},{type:z}]},wo.propDecorators={urlFile:[{type:D.Input}],blobFile:[{type:D.Input}]},wo);function wo(e,t){this.http=e,this.appConfigService=t}var Co=(To.decorators=[{type:D.Component,args:[{selector:"adf-viewer-unknown-format",template:'<div class="adf-viewer__unknown-format-view">\n    <div>\n        <mat-icon class="icon">error</mat-icon>\n        <div class="label">{{ \'ADF_VIEWER.UNKNOWN_FORMAT\' | translate }}</div>\n    </div>\n</div>\n',styles:[".adf-viewer__unknown-format-view{height:90vh;text-align:center;display:flex;flex:1;flex-direction:column;justify-content:center}"]}]}],To);function To(){}var So=(Ao.decorators=[{type:D.Component,args:[{selector:"adf-viewer-toolbar-actions",encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-toolbar-actions"},template:"<ng-content></ng-content>"}]}],Ao);function Ao(){}var Oo=(Do.prototype.ngAfterContentInit=function(){var t=this;this.templateModel={template:this.template,isVisible:!1},this.viewerComponent.extensionTemplates.push(this.templateModel),this.viewerComponent.extensionChange.pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.templateModel.isVisible=t.isVisible(e)}),this.supportedExtensions instanceof Array&&this.supportedExtensions.forEach(function(e){t.viewerComponent.externalExtensions.push(e)})},Do.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},Do.prototype.isVisible=function(t){var e;return this.supportedExtensions&&this.supportedExtensions instanceof Array&&(e=this.supportedExtensions.find(function(e){return e.toLowerCase()===t})),!!e},Do.decorators=[{type:D.Directive,args:[{selector:"adf-viewer-extension"}]}],Do.ctorParameters=function(){return[{type:oo}]},Do.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}],urlFileContent:[{type:D.Input}],extension:[{type:D.Input}],supportedExtensions:[{type:D.Input}]},Do);function Do(e){this.viewerComponent=e,this.onDestroy$=new w.Subject}var xo=(Ro.decorators=[{type:D.Component,args:[{selector:"adf-toolbar-divider",template:"<div></div>",host:{"class":"adf-toolbar-divider"},encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,styles:["\n        .adf-toolbar-divider > div {\n            height: 24px;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.26);\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n    "]}]}],Ro);function Ro(){}var Po=(Lo.decorators=[{type:D.Component,args:[{selector:"adf-toolbar-title",template:"<ng-content></ng-content>",host:{"class":"adf-toolbar-title"}}]}],Lo);function Lo(){}var Fo=(_o.decorators=[{type:D.Component,args:[{selector:"adf-toolbar",template:'<mat-toolbar [color]="color">\n    <span *ngIf="title">{{ title }}</span>\n    <ng-content select="adf-toolbar-title"></ng-content>\n    <ng-content></ng-content>\n</mat-toolbar>\n',changeDetection:D.ChangeDetectionStrategy.OnPush,encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-toolbar"},styles:[""]}]}],_o.propDecorators={title:[{type:D.Input}],color:[{type:D.Input}]},_o);function _o(){this.title=""}var ko=(Mo.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe],declarations:[Fo,Po,xo],exports:[Fo,Po,xo]}]}],Mo);function Mo(){}var No=(Vo.decorators=[{type:D.NgModule,args:[{imports:[O.ExtensionsModule,T.CommonModule,Pe,A.TranslateModule.forChild(),S.FormsModule,S.ReactiveFormsModule,ko,Rt,m.FlexLayoutModule,cn],declarations:[mo,oo,ao,Io,lo,ho,bo,yo,Oo,Co,no,eo,Qi,Ki,So],entryComponents:[mo],exports:[oo,ao,Io,lo,ho,mo,bo,yo,Oo,Co,no,eo,Qi,Ki,So]}]}],Vo);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vo(){}var Uo=function gf(e){e&&(this.apps=e.apps,this.capabilities=e.capabilities,this.company=e.company,this.created=e.created,this.email=e.email,this.externalId=e.externalId,this.firstName=e.firstName,this.lastName=e.lastName,this.fullname=e.fullname,this.groups=e.groups,this.id=e.id,this.lastUpdate=e.lastUpdate,this.latestSyncTimeStamp=e.latestSyncTimeStamp,this.password=e.password,this.pictureId=e.pictureId,this.status=e.status,this.tenantId=e.tenantId,this.tenantName=e.tenantName,this.tenantPictureId=e.tenantPictureId,this.type=e.type)},jo=(Bo.prototype.getCurrentUserInfo=function(){var t=this;return w.from(this.apiService.getInstance().activiti.profileApi.getProfile()).pipe(b.map(function(e){return new Uo(e)}),b.catchError(function(e){return t.handleError(e)}))},Bo.prototype.getCurrentUserProfileImage=function(){return this.apiService.getInstance().activiti.profileApi.getProfilePictureUrl()},Bo.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},Bo.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Bo.ctorParameters=function(){return[{type:$},{type:te}]},Bo.ngInjectableDef=D.defineInjectable({factory:function(){return new Bo(D.inject($),D.inject(te))},token:Bo,providedIn:"root"}),Bo);function Bo(e,t){this.apiService=e,this.logService=t}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ho=function yf(e){this.id=e&&e.id||null,this.firstName=e&&e.firstName,this.lastName=e&&e.lastName,this.description=e&&e.description||null,this.avatarId=e&&e.avatarId||null,this.email=e&&e.email||null,this.skypeId=e&&e.skypeId,this.googleId=e&&e.googleId,this.instantMessageId=e&&e.instantMessageId,this.jobTitle=e&&e.jobTitle||null,this.location=e&&e.location||null,this.company=e&&e.company,this.mobile=e&&e.mobile,this.telephone=e&&e.telephone,this.statusUpdatedAt=e&&e.statusUpdatedAt,this.userStatus=e&&e.userStatus,this.enabled=e&&e.enabled,this.emailNotificationsEnabled=e&&e.emailNotificationsEnabled},zo=(Yo.prototype.getUserInfo=function(e){var t=this;return w.from(this.apiService.getInstance().core.peopleApi.getPerson(e)).pipe(b.map(function(e){return new Ho(e.entry)}),b.catchError(function(e){return t.handleError(e)}))},Yo.prototype.getCurrentUserInfo=function(){return this.getUserInfo("-me-")},Yo.prototype.getUserProfileImage=function(e){return e?this.contentService.getContentUrl(e):null},Yo.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},Yo.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Yo.ctorParameters=function(){return[{type:$},{type:Xt},{type:te}]},Yo.ngInjectableDef=D.defineInjectable({factory:function(){return new Yo(D.inject($),D.inject(Xt),D.inject(te))},token:Yo,providedIn:"root"}),Yo);function Yo(e,t,n){this.apiService=e,this.contentService=t,this.logService=n}function Go(e){e&&(this.type=e.type,this.value=e.value,this.temporary=e.temporary)}function qo(e){e&&(this.first=e.first,this.max=e.max)}function $o(e){e&&(this.realm=e.realm,this.userId=e.userId,this.groupId=e.groupId)}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xo=function vf(e){e&&(this.id=e.id||null,this.firstName=e.firstName||null,this.lastName=e.lastName||null,this.email=e.email||null,this.username=e.username||null,this.createdTimestamp=e.createdTimestamp||null,this.emailVerified=e.emailVerified||null,this.enabled=e.enabled||null)},Wo=(Ko.prototype.getCurrentUserInfo=function(){var e=this.jwtHelperService.getValueFromLocalAccessToken(ie.FAMILY_NAME),t=this.jwtHelperService.getValueFromLocalAccessToken(ie.GIVEN_NAME),n=this.jwtHelperService.getValueFromLocalAccessToken(ie.USER_EMAIL),i=this.jwtHelperService.getValueFromLocalAccessToken(ie.USER_PREFERRED_USERNAME);return new Xo({firstName:t,lastName:e,email:n,username:i})},Ko.prototype.findUsersByName=function(e){if(""===e)return w.of([]);var t=this.buildUserUrl(),n={search:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null))},Ko.prototype.findUserByUsername=function(e){if(""===e)return w.of([]);var t=this.buildUserUrl(),n={username:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null))},Ko.prototype.findUserByEmail=function(e){if(""===e)return w.of([]);var t=this.buildUserUrl(),n={email:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null))},Ko.prototype.findUserById=function(e){if(""===e)return w.of([]);var t=this.buildUserUrl()+"/"+e;return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},{},{},{},{},["application/json"],["application/json"],Object,null,null))},Ko.prototype.getClientRoles=function(e,t){var n=this.buildUserClientRoleMapping(e,t);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"GET",{},{},{},{},{},["application/json"],["application/json"],Object,null,null))},Ko.prototype.checkUserHasClientApp=function(e,t){return this.getClientRoles(e,t).pipe(b.map(function(e){return 0<e.length}))},Ko.prototype.checkUserHasAnyClientAppRole=function(e,t,i){return this.getClientRoles(e,t).pipe(b.map(function(e){var n=!1;return 0<e.length&&i.forEach(function(t){e.find(function(e){return e.name===t})&&(n=!0)}),n}))},Ko.prototype.getClientIdByApplicationName=function(e){var t=this.buildGetClientsUrl(),n={clientId:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},n,{},{},{},["application/json"],["application/json"],Object,null,null)).pipe(b.map(function(e){return e&&0<e.length?e[0].id:""}))},Ko.prototype.checkUserHasApplicationAccess=function(t,e){var n=this;return this.getClientIdByApplicationName(e).pipe(b.switchMap(function(e){return n.checkUserHasClientApp(t,e)}))},Ko.prototype.checkUserHasAnyApplicationRole=function(t,e,n){var i=this;return this.getClientIdByApplicationName(e).pipe(b.switchMap(function(e){return i.checkUserHasAnyClientAppRole(t,e,n)}))},Ko.prototype.getUsers=function(){var e=this.buildUserUrl();return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(e,"GET",{},{},{},{},{},[],["application/json"],["application/json"],null,null)).pipe(b.map(function(e){return e}))},Ko.prototype.getUserRoles=function(e){var t=this.buildRolesUrl(e);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(t,"GET",{},{},{},{},{},["application/json"],["application/json"],Object,null,null)).pipe(b.map(function(e){return e}))},Ko.prototype.getUsersByRolesWithCurrentUser=function(o){return _(this,void 0,void 0,function(){var t,n,i;return k(this,function(e){switch(e.label){case 0:return t=[],o&&0<o.length?[4,this.getUsers().toPromise()]:[3,5];case 1:n=e.sent(),i=0,e.label=2;case 2:return i<n.length?[4,this.userHasAnyRole(n[i].id,o)]:[3,5];case 3:e.sent()&&t.push(n[i]),e.label=4;case 4:return i++,[3,2];case 5:return[2,t]}})})},Ko.prototype.getUsersByRolesWithoutCurrentUser=function(r){return _(this,void 0,void 0,function(){var t,n,i,o;return k(this,function(e){switch(e.label){case 0:return t=[],r&&0<r.length?(n=this.getCurrentUserInfo(),[4,this.getUsers().toPromise()]):[3,5];case 1:i=(i=e.sent()).filter(function(e){return e.username!==n.username}),o=0,e.label=2;case 2:return o<i.length?[4,this.userHasAnyRole(i[o].id,r)]:[3,5];case 3:e.sent()&&t.push(i[o]),e.label=4;case 4:return o++,[3,2];case 5:return[2,t]}})})},Ko.prototype.userHasAnyRole=function(t,i){return _(this,void 0,void 0,function(){var n;return k(this,function(e){switch(e.label){case 0:return[4,this.getUserRoles(t).toPromise()];case 1:return n=e.sent(),[2,i.some(function(t){return 0<n.filter(function(e){return e.name.toLocaleLowerCase()===t.toLocaleLowerCase()}).length})]}})})},Ko.prototype.checkUserHasRole=function(e,t){return this.getUserRoles(e).pipe(b.map(function(e){var n=!1;return e&&0<e.length&&t.forEach(function(t){e.find(function(e){return t===e.name})&&(n=!0)}),n}))},Ko.prototype.queryUsers=function(n){var i=this,e=this.buildUserUrl(),o={},r={first:n.first,max:n.max},a={},s={},l={},u=[],p=["application/json"];return this.getTotalUsersCount().pipe(b.switchMap(function(t){return w.from(i.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(e,"GET",o,r,s,l,a,u,p,null,null,null)).pipe(b.map(function(e){return{entries:e,pagination:{skipCount:n.first,maxItems:n.max,count:t,hasMoreItems:!1,totalItems:t}}}),b.catchError(function(e){return i.handleError(e)}))}))},Ko.prototype.getTotalUsersCount=function(){var t=this,e=this.buildUserUrl()+"/count";return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(e,"GET",null,null,null,null,null,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.createUser=function(e){var t=this,n=this.buildUserUrl(),i=JSON.stringify(e);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"POST",{},{},{},{},i,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.updateUser=function(e,t){var n=this,i=this.buildUserUrl()+"/"+e,o=JSON.stringify(t);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(i,"PUT",{},{},{},{},o,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return n.handleError(e)}))},Ko.prototype.deleteUser=function(e){var t=this,n=this.buildUserUrl()+"/"+e;return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"DELETE",{},{},{},{},{},["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.changePassword=function(e,t){var n=this,i=this.buildUserUrl()+"/"+e+"/reset-password",o=JSON.stringify(t);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(i,"PUT",{},{},{},{},o,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return n.handleError(e)}))},Ko.prototype.getInvolvedGroups=function(e){var t=this,n=this.buildUserUrl()+"/"+e+"/groups/",i={id:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"GET",i,{},{},{},{},[],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.joinGroup=function(e){var t=this,n=this.buildUserUrl()+"/"+e.userId+"/groups/"+e.groupId,i=JSON.stringify(e);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"PUT",{},{},{},{},i,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.leaveGroup=function(e,t){var n=this,i=this.buildUserUrl()+"/"+e+"/groups/"+t;return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(i,"DELETE",{},{},{},{},{},["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return n.handleError(e)}))},Ko.prototype.getAvailableRoles=function(e){var t=this,n=this.buildUserUrl()+"/"+e+"/role-mappings/realm/available";return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"GET",{},{},{},{},{},[],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.getAssignedRoles=function(e){var t=this,n=this.buildUserUrl()+"/"+e+"/role-mappings/realm",i={id:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"GET",i,{},{},{},{},[],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.getEffectiveRoles=function(e){var t=this,n=this.buildUserUrl()+"/"+e+"/role-mappings/realm/composite",i={id:e};return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(n,"GET",i,{},{},{},{},[],["application/json"],null,null,null)).pipe(b.catchError(function(e){return t.handleError(e)}))},Ko.prototype.assignRoles=function(e,t){var n=this,i=this.buildUserUrl()+"/"+e+"/role-mappings/realm",o=JSON.stringify(t);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(i,"POST",{},{},{},{},o,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return n.handleError(e)}))},Ko.prototype.removeRoles=function(e,t){var n=this,i=this.buildUserUrl()+"/"+e+"/role-mappings/realm",o=JSON.stringify(t);return w.from(this.alfrescoApiService.getInstance().oauth2Auth.callCustomApi(i,"DELETE",{},{},{},{},o,["application/json"],["application/json"],null,null,null)).pipe(b.catchError(function(e){return n.handleError(e)}))},Ko.prototype.buildUserUrl=function(){return this.appConfigService.get("identityHost")+"/users"},Ko.prototype.buildUserClientRoleMapping=function(e,t){return this.appConfigService.get("identityHost")+"/users/"+e+"/role-mappings/clients/"+t},Ko.prototype.buildRolesUrl=function(e){return this.appConfigService.get("identityHost")+"/users/"+e+"/role-mappings/realm/composite"},Ko.prototype.buildGetClientsUrl=function(){return this.appConfigService.get("identityHost")+"/clients"},Ko.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},Ko.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Ko.ctorParameters=function(){return[{type:ie},{type:$},{type:z},{type:te}]},Ko.ngInjectableDef=D.defineInjectable({factory:function(){return new Ko(D.inject(ie),D.inject($),D.inject(z),D.inject(te))},token:Ko,providedIn:"root"}),Ko);function Ko(e,t,n,i){this.jwtHelperService=e,this.alfrescoApiService=t,this.appConfigService=n,this.logService=i}var Jo=(Qo.prototype.ngOnInit=function(){this.getUserInfo()},Qo.prototype.getUserInfo=function(){this.authService.isOauth()?this.loadIdentityUserInfo():this.authService.isEcmLoggedIn()&&this.authService.isBpmLoggedIn()?(this.loadEcmUserInfo(),this.loadBpmUserInfo()):this.authService.isEcmLoggedIn()?this.loadEcmUserInfo():this.authService.isBpmLoggedIn()&&this.loadBpmUserInfo()},Qo.prototype.onKeyPress=function(e){this.closeUserModal(e)},Qo.prototype.closeUserModal=function(e){27===e.keyCode&&this.trigger.closeMenu()},Qo.prototype.isLoggedIn=function(){return this.authService.isLoggedIn()},Qo.prototype.loadEcmUserInfo=function(){this.ecmUser$=this.ecmUserService.getCurrentUserInfo()},Qo.prototype.loadBpmUserInfo=function(){this.bpmUser$=this.bpmUserService.getCurrentUserInfo()},Qo.prototype.loadIdentityUserInfo=function(){this.identityUser$=w.of(this.identityUserService.getCurrentUserInfo())},Qo.prototype.stopClosing=function(e){e.stopPropagation()},Qo.prototype.getEcmAvatar=function(e){return this.ecmUserService.getUserProfileImage(e)},Qo.prototype.getBpmUserImage=function(){return this.bpmUserService.getCurrentUserProfileImage()},Qo.prototype.showOnRight=function(){return"right"===this.namePosition},Qo.decorators=[{type:D.Component,args:[{selector:"adf-userinfo",template:'<div id="userinfo_container" [class.adf-userinfo-name-right]="showOnRight()" (keyup)="onKeyPress($event)"\n    class="adf-userinfo-container" *ngIf="isLoggedIn()">\n\n    <ng-container *ngIf="showName">\n        <span *ngIf="identityUser$ | async as identityUser; else showBpmAndEcmUserFullNames" id="adf-userinfo-identity-name-display"\n            class="adf-userinfo-name">{{identityUser | fullName}}</span>\n        <ng-template #showBpmAndEcmUserFullNames>\n            <span *ngIf="ecmUser$ | async as ecmUser; else showBpmUserFullName" id="adf-userinfo-ecm-name-display"\n                class="adf-userinfo-name">{{ecmUser | fullName}}</span>\n            <ng-template #showBpmUserFullName>\n                <span *ngIf="bpmUser$ | async as bpmUser" id="adf-userinfo-bpm-name-display"\n                    class="adf-userinfo-name">{{bpmUser | fullName}}</span>\n            </ng-template>\n        </ng-template>\n    </ng-container>\n\n    <button mat-button [matMenuTriggerFor]="menu" class="adf-userinfo-menu_button" data-automation-id="adf-user-profile">\n        <div class="adf-userinfo-button-profile" id="user-profile">\n            <div *ngIf="identityUser$ | async as identityUser; else showBpmAndEcmUserImage" id="identity-user-image">\n                <div [outerHTML]="identityUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n            </div>\n            <ng-template #showBpmAndEcmUserImage>\n                <div *ngIf="ecmUser$ | async as ecmUser; else showBpmUserImage" id="ecm-user-image">\n                    <div *ngIf="ecmUser.avatarId; else initialTemplate" class="adf-userinfo-profile-container">\n                        <img id="logged-user-img" [src]="getEcmAvatar(ecmUser.avatarId)" alt="user-info-profile-button"\n                            class="adf-userinfo-profile-image"/>\n                    </div>\n                    <ng-template #initialTemplate>\n                        <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                    </ng-template>\n                </div>\n                <ng-template #showBpmUserImage>\n                    <div *ngIf="bpmUser$ | async as bpmUser" id="bpm-user-image">\n                            <div *ngIf="bpmUser.pictureId; else initialTemplate" class="adf-userinfo-profile-container">\n                                <img id="logged-user-img" [src]="getBpmUserImage()" alt="user-info-profile-button"\n                                    class="adf-userinfo-profile-image"/>\n                            </div>\n                            <ng-template #initialTemplate>\n                                <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                            </ng-template>\n                    </div>\n                </ng-template>\n            </ng-template>\n        </div>\n    </button>\n    <mat-menu #menu="matMenu" id="user-profile-lists" [xPosition]="menuPositionX" [yPosition]="menuPositionY" [overlapTrigger]="false" class="adf-userinfo-menu">\n        <mat-tab-group id="tab-group-env" (click)="stopClosing($event)"\n            class="adf-userinfo-tab" [class.adf-hide-tab]="!(bpmUser$ | async) || !(ecmUser$ | async)">\n            <mat-tab id="ecm-panel" label="{{ \'USER_PROFILE.TAB.CS\' | translate }}" *ngIf="ecmUser$ | async as ecmUser">\n                <mat-card class="adf-userinfo-card">\n                    <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + ecmBackgroundImage + \')\'">\n                        <div *ngIf="ecmUser.avatarId; else initialTemplate" class="adf-userinfo-profile-container adf-hide-small">\n                            <img class="adf-userinfo-profile-picture" id="ecm-user-detail-image"\n                                alt="ecm-profile-image" [src]="getEcmAvatar(ecmUser.avatarId)" />\n                        </div>\n                        <ng-template #initialTemplate>\n                            <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                        </ng-template>\n\n                       <div class="adf-userinfo-title" id="ecm-username">{{ecmUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                                <div class="adf-userinfo-detail">\n                                    <span id="ecm-full-name" class="adf-userinfo__detail-title">{{ecmUser | fullName}}</span>\n                                    <span class="adf-userinfo__detail-profile" id="ecm-email"> {{ecmUser.email}} </span>\n                                </div>\n                                <div class="adf-userinfo-detail">\n                                    <span class="adf-userinfo__secondary-info" id="ecm-job-title-label">\n                                        {{ \'USER_PROFILE.LABELS.ECM.JOB_TITLE\' | translate }}\n                                        <span id="ecm-job-title" class="adf-userinfo__detail-profile"> {{ ecmUser.jobTitle ? ecmUser.jobTitle : \'N/A\' }} </span>\n                                    </span>\n                                </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n            <mat-tab id="bpm-panel" label="{{ \'USER_PROFILE.TAB.PS\' | translate }}" *ngIf="bpmUser$ | async as bpmUser">\n            <mat-card class="adf-userinfo-card">\n                <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                    <img *ngIf="bpmUser.pictureId; else initialTemplate" class="adf-userinfo-profile-picture adf-hide-small" id="bpm-user-detail-image"\n                            alt="bpm-profile-image" [src]="getBpmUserImage()"/>\n                    <ng-template #initialTemplate>\n                        <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                    </ng-template>\n                   <div class="adf-userinfo-title" id="bpm-username">{{bpmUser | fullName}}</div>\n                </mat-card-header>\n                <mat-card-content>\n                    <div class="adf-userinfo-supporting-text">\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-full-name" class="adf-userinfo__detail-title">{{ bpmUser | fullName }}</span>\n                                <span class="adf-userinfo__detail-profile" id="bpm-email"> {{bpmUser.email}} </span>\n                            </div>\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-tenant" class="adf-userinfo__secondary-info">\n                                    {{ \'USER_PROFILE.LABELS.BPM.TENANT\' | translate }}\n                                    <span class="adf-userinfo__detail-profile">{{ bpmUser.tenantName ? bpmUser.tenantName : \'\' }}</span>\n                                </span>\n                            </div>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n            </mat-tab>\n            <mat-tab id="identity-panel" *ngIf="identityUser$ | async as identityUser">\n                <mat-card class="adf-userinfo-card">\n                    <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                        <div\n                            [outerHTML]="identityUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'">\n                        </div>\n                       <div class="adf-userinfo-title" id="identity-username">{{identityUser | fullName}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                                <div class="adf-userinfo-detail">\n                                    <span id="identity-full-name" class="adf-userinfo__detail-title">{{identityUser | fullName}}</span>\n                                    <span class="adf-userinfo__detail-profile" id="identity-email"> {{identityUser.email}} </span>\n                                </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-menu>\n</div>\n',encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Qo.ctorParameters=function(){return[{type:zo},{type:jo},{type:Wo},{type:ae}]},Qo.propDecorators={trigger:[{type:D.ViewChild,args:[v.MatMenuTrigger]}],ecmBackgroundImage:[{type:D.Input}],bpmBackgroundImage:[{type:D.Input}],menuPositionX:[{type:D.Input}],menuPositionY:[{type:D.Input}],showName:[{type:D.Input}],namePosition:[{type:D.Input}]},Qo);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Qo(e,t,n,i){this.ecmUserService=e,this.bpmUserService=t,this.identityUserService=n,this.authService=i,this.ecmBackgroundImage="./assets/images/ecm-background.png",this.bpmBackgroundImage="./assets/images/bpm-background.png",this.menuPositionX="after",this.menuPositionY="below",this.showName=!0,this.namePosition="right"}function
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Zo(e){e&&(this.id=e.id||null,this.name=e.name||null,this.description=e.description||null,this.clientRole=e.clientRole||null,this.composite=e.composite||null,this.containerId=e.containerId||null,this.scopeParamRequired=e.scopeParamRequired||null)}function
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */er(e){e&&(this.id=e.id||null,this.name=e.name||null,this.path=e.path||null,this.realmRoles=e.realmRoles||null,this.clientRoles=e.clientRoles||null,this.access=e.access||null,this.attributes=e.attributes||null)}var tr=(nr.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild(),Rt],declarations:[Jo],exports:[Jo]}]}],nr);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nr(){}var ir=(or.prototype.ngOnInit=function(){var t=this;1===this.providers.length&&(this.showSelectProviders=!1);var e=this.appConfig.get(B.PROVIDERS),n=this.appConfig.get(B.AUTHTYPE,"BASIC");this.form=this.formBuilder.group({providersControl:[e,S.Validators.required],authType:n}),this.addFormGroups(),"OAUTH"===n&&(this.addOAuthFormGroup(),this.addIdentityHostFormControl()),this.form.get("authType").valueChanges.subscribe(function(e){"BASIC"===e?(t.form.removeControl("oauthConfig"),t.form.removeControl("identityHost")):(t.addOAuthFormGroup(),t.addIdentityHostFormControl())}),this.providersControl.valueChanges.subscribe(function(){t.removeFormGroups(),t.addFormGroups()})},or.prototype.removeFormGroups=function(){this.form.removeControl("bpmHost"),this.form.removeControl("ecmHost")},or.prototype.addFormGroups=function(){this.addBPMFormControl(),this.addECMFormControl()},or.prototype.addOAuthFormGroup=function(){var e=this.createOAuthFormGroup();this.form.addControl("oauthConfig",e)},or.prototype.addBPMFormControl=function(){if((this.isBPM()||this.isALL()||this.isOAUTH())&&!this.bpmHost){var e=this.createBPMFormControl();this.form.addControl("bpmHost",e)}},or.prototype.addIdentityHostFormControl=function(){var e=this.createIdentityFormControl();this.form.addControl("identityHost",e)},or.prototype.addECMFormControl=function(){if((this.isECM()||this.isALL())&&!this.ecmHost){var e=this.createECMFormControl();this.form.addControl("ecmHost",e)}},or.prototype.createOAuthFormGroup=function(){var e=this.appConfig.get(B.OAUTHCONFIG,{});return this.formBuilder.group({host:[e.host,[S.Validators.required,S.Validators.pattern(this.HOST_REGEX)]],clientId:[e.clientId,S.Validators.required],redirectUri:[e.redirectUri,S.Validators.required],redirectUriLogout:[e.redirectUriLogout],scope:[e.scope,S.Validators.required],secret:e.secret,silentLogin:e.silentLogin,implicitFlow:e.implicitFlow})},or.prototype.createBPMFormControl=function(){return new S.FormControl(this.appConfig.get(B.BPMHOST),[S.Validators.required,S.Validators.pattern(this.HOST_REGEX)])},or.prototype.createIdentityFormControl=function(){return new S.FormControl(this.appConfig.get(B.IDENTITY_HOST),[S.Validators.required,S.Validators.pattern(this.HOST_REGEX)])},or.prototype.createECMFormControl=function(){return new S.FormControl(this.appConfig.get(B.ECMHOST),[S.Validators.required,S.Validators.pattern(this.HOST_REGEX)])},or.prototype.onCancel=function(){this.cancel.emit(!0)},or.prototype.onSubmit=function(e){this.storageService.setItem(B.PROVIDERS,e.providersControl),this.isBPM()?this.saveBPMValues(e):this.isECM()?this.saveECMValues(e):this.isALL()&&(this.saveECMValues(e),this.saveBPMValues(e)),this.isOAUTH()&&this.saveOAuthValues(e),this.storageService.setItem(B.AUTHTYPE,e.authType),this.alfrescoApiService.reset(),this.alfrescoApiService.getInstance().invalidateSession(),this.success.emit(!0)},or.prototype.keyDownFunction=function(e){e.keyCode===l.ENTER&&this.form.valid&&this.onSubmit(this.form.value)},or.prototype.saveOAuthValues=function(e){this.storageService.setItem(B.OAUTHCONFIG,JSON.stringify(e.oauthConfig)),this.storageService.setItem(B.IDENTITY_HOST,e.identityHost)},or.prototype.saveBPMValues=function(e){this.storageService.setItem(B.BPMHOST,e.bpmHost)},or.prototype.saveECMValues=function(e){this.storageService.setItem(B.ECMHOST,e.ecmHost)},or.prototype.isBPM=function(){return"BPM"===this.providersControl.value},or.prototype.isECM=function(){return"ECM"===this.providersControl.value},or.prototype.isALL=function(){return"ALL"===this.providersControl.value},or.prototype.isOAUTH=function(){return"OAUTH"===this.form.get("authType").value},Object.defineProperty(or.prototype,"providersControl",{get:function(){return this.form.get("providersControl")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"bpmHost",{get:function(){return this.form.get("bpmHost")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"ecmHost",{get:function(){return this.form.get("ecmHost")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"host",{get:function(){return this.oauthConfig.get("host")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"identityHost",{get:function(){return this.form.get("identityHost")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"clientId",{get:function(){return this.oauthConfig.get("clientId")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"scope",{get:function(){return this.oauthConfig.get("scope")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"secretId",{get:function(){return this.oauthConfig.get("secretId")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"implicitFlow",{get:function(){return this.oauthConfig.get("implicitFlow")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"silentLogin",{get:function(){return this.oauthConfig.get("silentLogin")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"redirectUri",{get:function(){return this.oauthConfig.get("redirectUri")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"redirectUriLogout",{get:function(){return this.oauthConfig.get("redirectUriLogout")},enumerable:!0,configurable:!0}),Object.defineProperty(or.prototype,"oauthConfig",{get:function(){return this.form.get("oauthConfig")},enumerable:!0,configurable:!0}),or.decorators=[{type:D.Component,args:[{selector:"adf-host-settings",template:'<div class="adf-setting-container">\n    <mat-toolbar color="primary" class="adf-setting-toolbar">\n        <h3>{{\'CORE.HOST_SETTINGS.TITLE\' | translate}}</h3>\n    </mat-toolbar>\n    <mat-card class="adf-setting-card">\n        <form id="host-form" [formGroup]="form" (submit)="onSubmit(form.value)" (keydown)="keyDownFunction($event)">\n\n            <mat-form-field floatLabel="{{\'CORE.HOST_SETTINGS.PROVIDER\' | translate }}" *ngIf="showSelectProviders">\n                <mat-select  id="adf-provider-selector" placeholder="Provider" [formControl]="providersControl">\n                    <mat-option *ngFor="let provider of providers" [value]="provider">\n                        {{ provider }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <div class="adf-authentication-type">\n                <div> {{\'CORE.HOST_SETTINGS.TYPE-AUTH\' | translate }} : </div>\n                <mat-radio-group formControlName="authType" >\n                <mat-radio-button value="BASIC">{{\'CORE.HOST_SETTINGS.BASIC\' | translate }}\n                </mat-radio-button>\n                <mat-radio-button value="OAUTH">{{\'CORE.HOST_SETTINGS.SSO\' | translate }}\n                </mat-radio-button>\n            </mat-radio-group>\n            </div>\n\n            <ng-container *ngIf="isALL() || isECM()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width" floatLabel="{{\'CORE.HOST_SETTINGS.CS-HOST\' | translate }}">\n                        <mat-label>{{\'CORE.HOST_SETTINGS.CS-HOST\' | translate }}</mat-label>\n                        <input matInput [formControl]="ecmHost" data-automation-id="ecmHost" type="text"\n                               id="ecmHost" placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="ecmHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="ecmHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <p>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isALL() || isBPM()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width" floatLabel="{{\'CORE.HOST_SETTINGS.BP-HOST\' | translate }}">\n                        <mat-label>{{\'CORE.HOST_SETTINGS.BP-HOST\' | translate }}</mat-label>\n                        <input matInput [formControl]="bpmHost" data-automation-id="bpmHost" type="text"\n                               id="bpmHost" placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="bpmHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="bpmHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isOAUTH()">\n                <mat-card-content>\n                    <mat-form-field class="adf-full-width" floatLabel="Identity Host">\n                        <mat-label>Identity Host</mat-label>\n                        <input matInput name="identityHost" id="identityHost" formControlName="identityHost"\n                                placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="identityHost.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="identityHost.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf="isOAUTH()">\n                <div formGroupName="oauthConfig">\n                    <mat-form-field class="adf-full-width" floatLabel="Auth Host">\n                        <mat-label>Auth Host</mat-label>\n                        <input matInput name="host" id="oauthHost" formControlName="host"\n                               placeholder="http(s)://host|ip:port(/path)">\n                        <mat-error *ngIf="host.hasError(\'pattern\')">\n                            {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf="host.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <mat-form-field class="adf-full-width" floatLabel="Client Id">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.CLIENT\'| translate }}</mat-label>\n                        <input matInput name="clientId" id="clientId" formControlName="clientId"\n                               placeholder="Client Id">\n                        <mat-error *ngIf="clientId.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width" floatLabel="Scope">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.SCOPE\'| translate }}</mat-label>\n                        <input matInput name="{{ \'CORE.HOST_SETTINGS.SCOPE\'| translate }}"\n                               formControlName="scope" placeholder="Scope Id">\n                        <mat-error *ngIf="scope.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <label for="silentLogin">{{ \'CORE.HOST_SETTINGS.SILENT\'| translate }}</label>\n                    <mat-slide-toggle class="adf-full-width" name="silentLogin" [color]="\'primary\'"\n                                      formControlName="silentLogin">\n                    </mat-slide-toggle>\n\n                    <label for="implicitFlow">{{ \'CORE.HOST_SETTINGS.IMPLICIT-FLOW\'| translate }}</label>\n                    <mat-slide-toggle class="adf-full-width" name="implicitFlow" [color]="\'primary\'"\n                                      formControlName="implicitFlow">\n                    </mat-slide-toggle>\n\n\n                    <mat-form-field class="adf-full-width" floatLabel="Redirect Uri">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.REDIRECT\'| translate }}</mat-label>\n                        <input matInput placeholder="{{ \'CORE.HOST_SETTINGS.REDIRECT\'| translate }}"\n                               name="redirectUri" formControlName="redirectUri">\n                        <mat-error *ngIf="redirectUri.hasError(\'required\')">\n                            {{ \'CORE.HOST_SETTINGS.REQUIRED\'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class="adf-full-width" floatLabel="Redirect Uri Logout">\n                        <mat-label>{{ \'CORE.HOST_SETTINGS.REDIRECT_LOGOUT\'| translate }}</mat-label>\n                        <input id="logout-url" matInput placeholder="{{ \'CORE.HOST_SETTINGS.REDIRECT_LOGOUT\'| translate }}"\n                               name="redirectUriLogout" formControlName="redirectUriLogout">\n                    </mat-form-field>\n                </div>\n            </ng-container>\n            <mat-card-actions class="adf-actions">\n                <button mat-button (click)="onCancel()" color="primary">\n                    {{\'CORE.HOST_SETTINGS.BACK\' | translate }}\n                </button>\n                <button type="submit" id="host-button" class="adf-login-button" mat-raised-button\n                        color="primary" data-automation-id="host-button"\n                        [disabled]="!form.valid">\n                    {{\'CORE.HOST_SETTINGS.APPLY\' | translate }}\n                </button>\n            </mat-card-actions>\n        </form>\n    </mat-card>\n</div>\n',host:{"class":"adf-host-settings"},encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],or.ctorParameters=function(){return[{type:S.FormBuilder},{type:G},{type:$},{type:z}]},or.propDecorators={providers:[{type:D.Input}],error:[{type:D.Output}],cancel:[{type:D.Output}],success:[{type:D.Output}]},or);function or(e,t,n,i){this.formBuilder=e,this.storageService=t,this.alfrescoApiService=n,this.appConfig=i,this.HOST_REGEX="^(http|https)://.*[^/]$",this.providers=["BPM","ECM","ALL"],this.showSelectProviders=!0,this.error=new D.EventEmitter,this.cancel=new D.EventEmitter,this.success=new D.EventEmitter}var rr=(ar.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild(),S.FormsModule,S.ReactiveFormsModule],declarations:[ir],exports:[ir]}]}],ar);function ar(){}var sr=(lr.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.PaginationSize).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return t.pagination.maxItems=e}),this.supportedPageSizes||(this.supportedPageSizes=this.userPreferencesService.supportedPageSizes),this.target&&this.target.pagination.pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){0!==e.count||t.isFirstPage||t.goPrevious(),t.pagination=e,t.cdr.detectChanges()}),this.pagination||(this.pagination=lr.DEFAULT_PAGINATION)},Object.defineProperty(lr.prototype,"lastPage",{get:function(){var e=this.pagination,t=e.maxItems,n=e.totalItems;return n&&t?Math.ceil(n/t):1},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"current",{get:function(){var e=this.pagination,t=e.maxItems,n=e.skipCount;return n&&t?Math.floor(n/t)+1:1},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"isLastPage",{get:function(){return this.current===this.lastPage},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"isFirstPage",{get:function(){return 1===this.current},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"next",{get:function(){return this.isLastPage?this.current:this.current+1},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"previous",{get:function(){return this.isFirstPage?1:this.current-1},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"hasItems",{get:function(){return this.pagination&&0<this.pagination.count},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"isEmpty",{get:function(){return!this.hasItems},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"range",{get:function(){var e=this.pagination,t=e.skipCount,n=e.maxItems,i=e.totalItems;return[i?t+1:0,this.isLastPage?i:t+n]},enumerable:!0,configurable:!0}),Object.defineProperty(lr.prototype,"pages",{get:function(){return Array(this.lastPage).fill("n").map(function(e,t){return t+1})},enumerable:!0,configurable:!0}),lr.prototype.goNext=function(){if(this.hasItems){var e=this.pagination.maxItems,t=(this.next-1)*e;this.pagination.skipCount=t,this.handlePaginationEvent(lr.ACTIONS.NEXT_PAGE,{skipCount:t,maxItems:e})}},lr.prototype.goPrevious=function(){if(this.hasItems){var e=this.pagination.maxItems,t=(this.previous-1)*e;this.pagination.skipCount=t,this.handlePaginationEvent(lr.ACTIONS.PREV_PAGE,{skipCount:t,maxItems:e})}},lr.prototype.onChangePageNumber=function(e){if(this.hasItems){var t=this.pagination.maxItems,n=(e-1)*t;this.pagination.skipCount=n,this.handlePaginationEvent(lr.ACTIONS.CHANGE_PAGE_NUMBER,{skipCount:n,maxItems:t})}},lr.prototype.onChangePageSize=function(e){this.pagination.skipCount=0,this.userPreferencesService.paginationSize=e,this.handlePaginationEvent(lr.ACTIONS.CHANGE_PAGE_SIZE,{skipCount:0,maxItems:e})},lr.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},lr.prototype.handlePaginationEvent=function(e,t){var n=lr.ACTIONS,i=n.NEXT_PAGE,o=n.PREV_PAGE,r=n.CHANGE_PAGE_NUMBER,a=n.CHANGE_PAGE_SIZE,s=this,l=s.change,u=s.changePageNumber,p=s.changePageSize,c=s.nextPage,d=s.prevPage,m=s.pagination,f=Object.assign({},m,t);e===i&&c.emit(f),e===o&&d.emit(f),e===r&&u.emit(f),e===a&&p.emit(f),l.emit(t),this.target&&this.target.updatePagination(t)},lr.DEFAULT_PAGINATION=new E.Pagination({skipCount:0,maxItems:25,totalItems:0}),lr.ACTIONS={NEXT_PAGE:"NEXT_PAGE",PREV_PAGE:"PREV_PAGE",CHANGE_PAGE_SIZE:"CHANGE_PAGE_SIZE",CHANGE_PAGE_NUMBER:"CHANGE_PAGE_NUMBER"},lr.decorators=[{type:D.Component,args:[{selector:"adf-pagination",host:{"class":"adf-pagination"},template:'<ng-container *ngIf="hasItems">\n    <div class="adf-pagination__block adf-pagination__range-block">\n        <span class="adf-pagination__range">\n            {{\n                \'CORE.PAGINATION.ITEMS_RANGE\' | translate: {\n                    range: range.join(\'-\'),\n                    total: pagination.totalItems\n                }\n            }}\n        </span>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__perpage-block">\n        <span>\n            {{ \'CORE.PAGINATION.ITEMS_PER_PAGE\' | translate }}\n        </span>\n\n        <span class="adf-pagination__max-items">\n            {{ pagination.maxItems }}\n        </span>\n\n        <button\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.ITEMS_PER_PAGE\' | translate"\n            [matMenuTriggerFor]="pageSizeMenu">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <mat-menu #pageSizeMenu="matMenu" class="adf-pagination__page-selector">\n            <button\n                mat-menu-item\n                *ngFor="let pageSize of supportedPageSizes"\n                (click)="onChangePageSize(pageSize)">\n                {{ pageSize }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__actualinfo-block">\n        <span class="adf-pagination__current-page">\n            {{ \'CORE.PAGINATION.CURRENT_PAGE\' | translate: { number: current } }}\n        </span>\n\n        <button\n            mat-icon-button\n            data-automation-id="page-selector"\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.CURRENT_PAGE\' | translate"\n            [matMenuTriggerFor]="pagesMenu"\n            *ngIf="pages.length > 1">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <span class="adf-pagination__total-pages">\n            {{ \'CORE.PAGINATION.TOTAL_PAGES\' | translate: { total: pages.length } }}\n        </span>\n\n        <mat-menu #pagesMenu="matMenu" class="adf-pagination__page-selector">\n            <button\n                mat-menu-item\n                *ngFor="let pageNumber of pages"\n                (click)="onChangePageNumber(pageNumber)">\n                {{ pageNumber }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class="adf-pagination__block adf-pagination__controls-block">\n        <button\n            class="adf-pagination__previous-button"\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.PREVIOUS_PAGE\' | translate"\n            [disabled]="isFirstPage"\n            (click)="goPrevious()">\n            <mat-icon>keyboard_arrow_left</mat-icon>\n        </button>\n\n        <button\n            class="adf-pagination__next-button"\n            mat-icon-button\n            [attr.aria-label]="\'CORE.PAGINATION.ARIA.NEXT_PAGE\' | translate"\n            [disabled]="isLastPage"\n            (click)="goNext()">\n            <mat-icon>keyboard_arrow_right</mat-icon>\n        </button>\n    </div>\n</ng-container>\n',changeDetection:D.ChangeDetectionStrategy.OnPush,encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],lr.ctorParameters=function(){return[{type:D.ChangeDetectorRef},{type:Je}]},lr.propDecorators={target:[{type:D.Input}],supportedPageSizes:[{type:D.Input}],pagination:[{type:D.Input}],change:[{type:D.Output}],changePageNumber:[{type:D.Output}],changePageSize:[{type:D.Output}],nextPage:[{type:D.Output}],prevPage:[{type:D.Output}],isEmpty:[{type:D.HostBinding,args:["class.adf-pagination__empty"]}]},lr);function lr(e,t){this.cdr=e,this.userPreferencesService=t,this.pagination=lr.DEFAULT_PAGINATION,this.change=new D.EventEmitter,this.changePageNumber=new D.EventEmitter,this.changePageSize=new D.EventEmitter,this.nextPage=new D.EventEmitter,this.prevPage=new D.EventEmitter,this.onDestroy$=new w.Subject}var ur=(Object.defineProperty(pr.prototype,"target",{get:function(){return this._target},set:function(e){var t=this;e&&(this._target=e).pagination.pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.isLoading=!1,t.pagination=e,t.pagination.hasMoreItems||(t.pagination.hasMoreItems=!1),t.cdr.detectChanges()})},enumerable:!0,configurable:!0}),pr.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.PaginationSize).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.pageSize=t.pageSize||e,t.requestPaginationModel.maxItems=t.pageSize})},pr.prototype.onLoadMore=function(){this.requestPaginationModel.skipCount=0,this.requestPaginationModel.merge=!1,this.requestPaginationModel.maxItems+=this.pageSize,this.loadMore.next(this.requestPaginationModel),this._target&&(this.isLoading=!0,this._target.updatePagination(this.requestPaginationModel))},pr.prototype.reset=function(){this.pagination.skipCount=0,this.pagination.maxItems=this.pageSize,this._target&&this._target.updatePagination(this.pagination)},pr.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},pr.DEFAULT_PAGINATION=new E.Pagination({skipCount:0,maxItems:25,totalItems:0}),pr.decorators=[{type:D.Component,args:[{selector:"adf-infinite-pagination",host:{"class":"infinite-adf-pagination"},template:'<div *ngIf="pagination?.hasMoreItems || isLoading" class="adf-infinite-pagination">\n\n    <button mat-button\n        *ngIf="!isLoading"\n        class="adf-infinite-pagination-load-more"\n        (click)="onLoadMore()"\n        data-automation-id="adf-infinite-pagination-button">\n            <ng-content></ng-content>\n    </button>\n\n    <mat-progress-bar *ngIf="isLoading"\n        mode="indeterminate"\n        class="adf-infinite-pagination-spinner"\n        data-automation-id="adf-infinite-pagination-spinner"></mat-progress-bar>\n</div>\n',changeDetection:D.ChangeDetectionStrategy.OnPush,encapsulation:D.ViewEncapsulation.None,styles:[".adf-infinite-pagination{display:flex;justify-content:space-around;min-height:56px}.adf-infinite-pagination-load-more{margin-bottom:10px;margin-top:10px}"]}]}],pr.ctorParameters=function(){return[{type:D.ChangeDetectorRef},{type:Je}]},pr.propDecorators={target:[{type:D.Input}],pageSize:[{type:D.Input}],isLoading:[{type:D.Input,args:["loading"]}],loadMore:[{type:D.Output}]},pr);function pr(e,t){this.cdr=e,this.userPreferencesService=t,this.onDestroy$=new w.Subject,this.isLoading=!1,this.loadMore=new D.EventEmitter,this.pagination=pr.DEFAULT_PAGINATION,this.requestPaginationModel={skipCount:0,merge:!0}}var cr=(dr.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild()],declarations:[ur,sr],exports:[ur,sr]}]}],dr);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function dr(){}var mr=function bf(e){this.err=e},fr=(Object.defineProperty(hr.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(hr.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),hr.prototype.preventDefault=function(){this._defaultPrevented=!0},hr);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hr(e){this._defaultPrevented=!1,this._values=e}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var gr=function Ef(e,t,n){this.token=e,this.username=t,this.password=n},yr={Landing:0,Checking:1,Welcome:2};yr[yr.Landing]="Landing",yr[yr.Checking]="Checking",yr[yr.Welcome]="Welcome";var vr=(br.prototype.ngOnInit=function(){var i=this;if(this.authService.isOauth()){var e=this.appConfig.get(B.OAUTHCONFIG,null);e&&e.implicitFlow&&(this.implicitFlow=!0)}this.authService.isEcmLoggedIn()||this.authService.isBpmLoggedIn()?this.location.forward():this.route.queryParams.subscribe(function(e){var t=e.redirectUrl,n=i.appConfig.get(B.PROVIDERS);i.authService.setRedirect({provider:n,url:t})}),this.hasCustomFieldsValidation()?this.form=this._fb.group(this.fieldsValidation):(this.initFormFieldsDefault(),this.initFormFieldsMessagesDefault()),this.form.valueChanges.pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return i.onValueChanged(e)})},br.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},br.prototype.submit=function(){this.onSubmit(this.form.value)},br.prototype.onSubmit=function(e){if(this.disableError(),this.authService.isOauth()&&!this.authService.isSSODiscoveryConfigured())this.errorMsg="LOGIN.MESSAGES.SSO-WRONG-CONFIGURATION",this.isError=!0;else{var t=new fr({controls:{username:this.form.controls.username}});if(this.executeSubmit.emit(t),t.defaultPrevented)return!1;this.performLogin(e)}},br.prototype.implicitLogin=function(){this.authService.isOauth()&&!this.authService.isSSODiscoveryConfigured()?(this.errorMsg="LOGIN.MESSAGES.SSO-WRONG-CONFIGURATION",this.isError=!0):this.authService.ssoImplicitLogin()},br.prototype.onValueChanged=function(e){for(var t in this.disableError(),this.formError)if(t&&(this.formError[t]="",this.form.controls[t].errors&&""!==e[t]||this.form.controls[t].dirty&&!this.form.controls[t].valid))for(var n in this.form.controls[t].errors)if(n){var i=this._message[t][n];if(i&&i.value){var o=this.translateService.instant(i.value,i.params);this.formError[t]+=o}}},br.prototype.performLogin=function(n){var i=this;this.actualLoginStep=yr.Checking,this.authService.login(n.username,n.password,this.rememberMe).subscribe(function(e){var t=i.authService.getRedirect();i.actualLoginStep=yr.Welcome,i.userPreferences.setStoragePrefix(n.username),n.password=null,i.success.emit(new gr(e,n.username,null)),t?(i.authService.setRedirect(null),i.router.navigateByUrl(t)):i.successRoute&&i.router.navigate([i.successRoute])},function(e){i.actualLoginStep=yr.Landing,i.displayErrorMessage(e),i.isError=!0,i.error.emit(new mr(e))},function(){return i.logService.info("Login done")})},br.prototype.displayErrorMessage=function(e){e.error&&e.error.crossDomain&&-1!==e.error.message.indexOf("Access-Control-Allow-Origin")?this.errorMsg=e.error.message:403===e.status&&-1!==e.message.indexOf("Invalid CSRF-token")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CSRF":403===e.status&&-1!==e.message.indexOf("The system is currently in read-only mode")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ECM-LICENSE":this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS"},br.prototype.addCustomFormError=function(e,t){this.formError[e]+=t},br.prototype.addCustomValidationError=function(e,t,n,i){this._message[e][t]={value:n,params:i}},br.prototype.toggleShowPassword=function(){this.isPasswordShow=!this.isPasswordShow},br.prototype.isErrorStyle=function(e){return!e.valid&&e.dirty&&!e.pristine},br.prototype.trimUsername=function(e){e.target.value=e.target.value.trim()},br.prototype.getBackgroundUrlImageUrl=function(){return this.sanitizer.bypassSecurityTrustStyle("url("+this.backgroundImageUrl+")")},br.prototype.initFormError=function(){this.formError={username:"",password:""}},br.prototype.initFormFieldsMessages=function(){this._message={username:{},password:{}}},br.prototype.initFormFieldsMessagesDefault=function(){this._message={username:{required:{value:"LOGIN.MESSAGES.USERNAME-REQUIRED"},minLength:{value:"LOGIN.MESSAGES.USERNAME-MIN",params:{get minLength(){return this.minLength}}}},password:{required:{value:"LOGIN.MESSAGES.PASSWORD-REQUIRED"}}}},br.prototype.initFormFieldsDefault=function(){this.form=this._fb.group({username:["",S.Validators.required],password:["",S.Validators.required]})},br.prototype.disableError=function(){this.isError=!1,this.initFormError()},br.prototype.hasCustomFieldsValidation=function(){return this.fieldsValidation!==undefined},br.decorators=[{type:D.Component,args:[{selector:"adf-login",template:'<div class="adf-login-content" [style.background-image]="getBackgroundUrlImageUrl()">\n    <div class="adf-ie11FixerParent">\n        <div class="adf-ie11FixerChild">\n\n            <mat-card class="adf-login-card-wide">\n                <form id="adf-login-form" [formGroup]="form" (submit)="onSubmit(form.value)" autocomplete="off">\n                    <mat-card-header>\n                        <mat-card-title>\n                            <div class="adf-alfresco-logo">\n                                \x3c!--HEADER TEMPLATE--\x3e\n                                <ng-template *ngIf="headerTemplate"\n                                             ngFor [ngForOf]="[data]"\n                                             [ngForTemplate]="headerTemplate">\n                                </ng-template>\n                                <img *ngIf="!headerTemplate" id="adf-login-img-logo" class="adf-img-logo" [src]="logoImageUrl"\n                                     alt="{{\'LOGIN.LOGO\' | translate }}">\n                            </div>\n                        </mat-card-title>\n                    </mat-card-header>\n\n                    <mat-card-content class="adf-login-controls">\n\n                        \x3c!--ERRORS AREA--\x3e\n                        <div class="adf-error-container">\n                            <div *ngIf="isError" id="login-error" data-automation-id="login-error"\n                                 class="adf-error  adf-error-message">\n                                <mat-icon class="adf-error-icon">warning</mat-icon>\n                                <span class="adf-login-error-message">{{errorMsg | translate }}</span>\n                            </div>\n                        </div>\n\n                        <div *ngIf="!implicitFlow">\n\n                            \x3c!--USERNAME FIELD--\x3e\n                            <div class="adf-login__field"\n                                 [ngClass]="{\'adf-is-invalid\': isErrorStyle(form.controls.username)}">\n                                <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                    <input matInput placeholder="{{\'LOGIN.LABEL.USERNAME\' | translate }}"\n                                           type="text"\n                                           class="adf-full-width"\n                                           [formControl]="form.controls[\'username\']"\n                                           autocapitalize="none"\n                                           id="username"\n                                           data-automation-id="username"\n                                           (blur)="trimUsername($event)">\n                                </mat-form-field>\n\n                                <span class="adf-login-validation" for="username" *ngIf="formError[\'username\']">\n                                <span id="username-error" class="adf-login-error" data-automation-id="username-error">{{formError[\'username\'] | translate }}</span>\n                            </span>\n                            </div>\n\n                            \x3c!--PASSWORD FIELD--\x3e\n                            <div class="adf-login__field">\n                                <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                    <input matInput placeholder="{{\'LOGIN.LABEL.PASSWORD\' | translate }}"\n                                           [type]="isPasswordShow ? \'text\' : \'password\'"\n                                           [formControl]="form.controls[\'password\']"\n                                           id="password"\n                                           data-automation-id="password">\n                                    <mat-icon *ngIf="isPasswordShow" matSuffix class="adf-login-password-icon"\n                                              data-automation-id="hide_password" (click)="toggleShowPassword()" (keyup.enter)="toggleShowPassword()">\n                                        visibility\n                                    </mat-icon>\n                                    <mat-icon *ngIf="!isPasswordShow" matSuffix class="adf-login-password-icon"\n                                              data-automation-id="show_password" (click)="toggleShowPassword()" (keyup.enter)="toggleShowPassword()">\n                                        visibility_off\n                                    </mat-icon>\n                                </mat-form-field>\n                                <span class="adf-login-validation" for="password" *ngIf="formError[\'password\']">\n                                <span id="password-required" class="adf-login-error"\n                                      data-automation-id="password-required">{{formError[\'password\'] | translate }}</span>\n                            </span>\n                            </div>\n\n                            \x3c!--CUSTOM CONTENT--\x3e\n                            <ng-content></ng-content>\n\n                            <br>\n                            <button type="submit" id="login-button"\n                                    class="adf-login-button"\n                                    mat-raised-button color="primary"\n                                    [class.adf-isChecking]="actualLoginStep === LoginSteps.Checking"\n                                    [class.adf-isWelcome]="actualLoginStep === LoginSteps.Welcome"\n                                    data-automation-id="login-button" [disabled]="!form.valid">\n\n                                <span *ngIf="actualLoginStep === LoginSteps.Landing" class="adf-login-button-label">{{ \'LOGIN.BUTTON.LOGIN\' | translate }}</span>\n\n                                <div *ngIf="actualLoginStep === LoginSteps.Checking"\n                                     class="adf-interactive-login-label">\n                                    <span\n                                        class="adf-login-button-label">{{ \'LOGIN.BUTTON.CHECKING\' | translate }}</span>\n                                    <div class="adf-login-spinner-container">\n                                        <mat-spinner id="checking-spinner" class="adf-login-checking-spinner"\n                                                     [diameter]="25"></mat-spinner>\n                                    </div>\n                                </div>\n\n\n                                <div *ngIf="actualLoginStep === LoginSteps.Welcome" class="adf-interactive-login-label">\n                                    <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.WELCOME\' | translate }}</span>\n                                    <mat-icon class="adf-welcome-icon">done</mat-icon>\n                                </div>\n\n                            </button>\n                            <div *ngIf="showRememberMe" class="adf-login__remember-me">\n                                <mat-checkbox id="adf-login-remember" color="primary" class="adf-login-remember-me"\n                                              [checked]="rememberMe"\n                                              (change)="rememberMe = !rememberMe">{{ \'LOGIN.LABEL.REMEMBER\' | translate }}\n                                </mat-checkbox>\n                            </div>\n                        </div>\n\n                        <div *ngIf="implicitFlow">\n                            <button type="button" (click)="implicitLogin()" id="login-button-sso"\n                                    class="adf-login-button"\n                                    mat-raised-button color="primary"\n                                    data-automation-id="login-button-sso">\n                                <span  class="adf-login-button-label">{{ \'LOGIN.BUTTON.SSO\' | translate }}</span>\n                            </button>\n                        </div>\n\n                    </mat-card-content>\n\n                    <mat-card-actions *ngIf="footerTemplate || showLoginActions">\n\n                        <div class="adf-login-action-container">\n                            \x3c!--FOOTER TEMPLATE--\x3e\n                            <ng-template *ngIf="footerTemplate"\n                                         ngFor [ngForOf]="[data]"\n                                         [ngForTemplate]="footerTemplate">\n                            </ng-template>\n                            <div class="adf-login-action" *ngIf="!footerTemplate && showLoginActions">\n                                <div id="adf-login-action-left" class="adf-login-action-left">\n                                    <a href="{{needHelpLink}}">{{\'LOGIN.ACTION.HELP\' | translate }}</a>\n                                </div>\n                                <div id="adf-login-action-right" class="adf-login-action-right">\n                                    <a href="{{registerLink}}">{{\'LOGIN.ACTION.REGISTER\' | translate }}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-card-actions>\n\n                </form>\n            </mat-card>\n\n            <div class="adf-copyright" data-automation-id="login-copyright">\n                {{ copyrightText }}\n            </div>\n\n        </div>\n    </div>\n</div>\n',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-login"},styles:[""]}]}],br.ctorParameters=function(){return[{type:S.FormBuilder},{type:ae},{type:et},{type:te},{type:f.Router},{type:z},{type:Je},{type:T.Location},{type:f.ActivatedRoute},{type:R.DomSanitizer}]},br.propDecorators={showRememberMe:[{type:D.Input}],showLoginActions:[{type:D.Input}],needHelpLink:[{type:D.Input}],registerLink:[{type:D.Input}],logoImageUrl:[{type:D.Input}],backgroundImageUrl:[{type:D.Input}],copyrightText:[{type:D.Input}],fieldsValidation:[{type:D.Input}],successRoute:[{type:D.Input}],success:[{type:D.Output}],error:[{type:D.Output}],executeSubmit:[{type:D.Output}]},br);function br(e,t,n,i,o,r,a,s,l,u){this._fb=e,this.authService=t,this.translateService=n,this.logService=i,this.router=o,this.appConfig=r,this.userPreferences=a,this.location=s,this.route=l,this.sanitizer=u,this.isPasswordShow=!1,this.showRememberMe=!0,this.showLoginActions=!0,this.needHelpLink="",this.registerLink="",this.logoImageUrl="./assets/images/alfresco-logo.svg",this.backgroundImageUrl="./assets/images/background.svg",this.copyrightText="© 2016 Alfresco Software, Inc. All Rights Reserved.",this.successRoute=null,this.success=new D.EventEmitter,this.error=new D.EventEmitter,this.executeSubmit=new D.EventEmitter,this.implicitFlow=!1,this.isError=!1,this.actualLoginStep=yr.Landing,this.LoginSteps=yr,this.rememberMe=!0,this.minLength=2,this.onDestroy$=new w.Subject,this.initFormError(),this.initFormFieldsMessages()}var Er=(Ir.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.headerTemplate=this.template},Ir.decorators=[{type:D.Directive,args:[{selector:"adf-login-header, login-header"}]}],Ir.ctorParameters=function(){return[{type:vr}]},Ir.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},Ir);function Ir(e){this.alfrescoLoginComponent=e}var wr=(Cr.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.footerTemplate=this.template},Cr.decorators=[{type:D.Directive,args:[{selector:"adf-login-footer, login-footer"}]}],Cr.ctorParameters=function(){return[{type:vr}]},Cr.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},Cr);function Cr(e){this.alfrescoLoginComponent=e}var Tr=(Sr.prototype.close=function(){this.data.logged.complete()},Sr.prototype.submitForm=function(){this.loginPanel.submitForm()},Sr.prototype.onLoginSuccess=function(e){this.data.logged.next(e),this.close()},Sr.prototype.isFormValid=function(){return!!this.loginPanel&&this.loginPanel.isValid()},Sr.decorators=[{type:D.Component,args:[{selector:"adf-login-dialog",template:'<header\n    mat-dialog-title\n    data-automation-id="login-dialog-title">{{data?.title}}\n</header>\n\n<mat-dialog-content class="adf-login-dialog-content">\n    <adf-login-dialog-panel #adfLoginPanel\n                            (success)="onLoginSuccess($event)">\n    </adf-login-dialog-panel>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n    <button\n        mat-button\n        (click)="close()"\n        data-automation-id="login-dialog-actions-cancel">{{ \'LOGIN.DIALOG.CANCEL\' | translate }}\n    </button>\n\n    <button mat-button\n        class="choose-action"\n        data-automation-id="login-dialog-actions-perform"\n        [disabled]="!isFormValid()"\n        (click)="submitForm()">{{ buttonActionName | translate}}\n    </button>\n</mat-dialog-actions>\n',encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Sr.ctorParameters=function(){return[{type:undefined,decorators:[{type:D.Inject,args:[v.MAT_DIALOG_DATA]}]}]},Sr.propDecorators={loginPanel:[{type:D.ViewChild,args:["adfLoginPanel"]}]},Sr);function Sr(e){this.data=e,this.buttonActionName="",this.buttonActionName=e.actionName?"LOGIN.DIALOG."+e.actionName.toUpperCase():"LOGIN.DIALOG.CHOOSE"}var Ar=(Or.prototype.submitForm=function(){this.login.submit()},Or.prototype.onLoginSuccess=function(e){this.success.emit(e)},Or.prototype.isValid=function(){return!(!this.login||!this.login.form)&&this.login.form.valid},Or.decorators=[{type:D.Component,args:[{selector:"adf-login-dialog-panel",template:'<div>\n    <adf-login #adfLogin\n               class="adf-panel-login-dialog-component"\n               [showRememberMe]="false"\n               [showLoginActions]="false"\n               [backgroundImageUrl]="\'\'"\n               (success)="onLoginSuccess($event)">\n        <adf-login-header><ng-template></ng-template></adf-login-header>\n        <adf-login-footer><ng-template></ng-template></adf-login-footer>\n    </adf-login>\n</div>\n',encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Or.propDecorators={success:[{type:D.Output}],login:[{type:D.ViewChild,args:["adfLogin"]}]},Or);function Or(){this.success=new D.EventEmitter}var Dr=(xr.decorators=[{type:D.NgModule,args:[{imports:[f.RouterModule,Pe,S.FormsModule,S.ReactiveFormsModule,T.CommonModule,A.TranslateModule.forChild()],declarations:[vr,wr,Er,Tr,Ar],entryComponents:[Tr,Ar],exports:[vr,wr,Er,Tr,Ar]}]}],xr);function xr(){}var Rr=(Pr.prototype.ngOnInit=function(){var e=this.appConfig.get(B.APP_CONFIG_LANGUAGES_KEY);e&&(this.languages=e)},Pr.prototype.changeLanguage=function(e){this.userPreference.locale=e.key,this.userPreference.set("textOrientation",e.direction||"ltr")},Pr.decorators=[{type:D.Component,args:[{selector:"adf-language-menu",template:'<button mat-menu-item *ngFor="let language of languages" (click)="changeLanguage(language)">{{language.label}}\n</button>\n'}]}],Pr.ctorParameters=function(){return[{type:z},{type:Je}]},Pr);function Pr(e,t){this.appConfig=e,this.userPreference=t,this.languages=[{key:"en",label:"English"}]}var Lr=(Fr.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe],declarations:[Rr],exports:[Rr]}]}],Fr);function Fr(){}var _r=(kr.decorators=[{type:D.Component,args:[{selector:"adf-info-drawer-layout",template:'<div class="adf-info-drawer-layout-header">\n    <div class="adf-info-drawer-layout-header-title">\n        <ng-content select="[info-drawer-title]"></ng-content>\n    </div>\n    <div class="adf-info-drawer-layout-header-buttons">\n        <ng-content select="[info-drawer-buttons]"></ng-content>\n    </div>\n</div>\n<div class="adf-info-drawer-layout-content">\n    <ng-content select="[info-drawer-content]"></ng-content>\n</div>',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-info-drawer-layout"},styles:[""]}]}],kr);function kr(){}var Mr=(Nr.decorators=[{type:D.Directive,args:[{selector:"[adf-info-drawer-title], [info-drawer-title]"}]}],Nr);function Nr(){}var Vr=(Ur.decorators=[{type:D.Directive,args:[{selector:"[adf-info-drawer-buttons], [info-drawer-buttons]"}]}],Ur);function Ur(){}var jr=(Br.decorators=[{type:D.Directive,args:[{selector:"[adf-info-drawer-content], [info-drawer-content]"}]}],Br);function Br(){}var Hr=(zr.decorators=[{type:D.Component,args:[{selector:"adf-info-drawer-tab",template:"<ng-template><ng-content></ng-content></ng-template>"}]}],zr.propDecorators={label:[{type:D.Input}],icon:[{type:D.Input}],content:[{type:D.ViewChild,args:[D.TemplateRef]}]},zr);function zr(){this.label="",this.icon=null}var Yr=(Gr.prototype.showTabLayout=function(){return 0<this.contentBlocks.length},Gr.prototype.onTabChange=function(e){this.currentTab.emit(e.index)},Gr.decorators=[{type:D.Component,args:[{selector:"adf-info-drawer",template:'<adf-info-drawer-layout>\n    <div *ngIf="title" info-drawer-title>{{ title | translate }}</div>\n    <ng-content *ngIf="!title" info-drawer-title select="[info-drawer-title]"></ng-content>\n\n    <ng-content info-drawer-buttons select="[info-drawer-buttons]"></ng-content>\n\n    <ng-container info-drawer-content *ngIf="showTabLayout(); then tabLayout else singleLayout"></ng-container>\n\n    <ng-template #tabLayout>\n        <mat-tab-group [(selectedIndex)]="selectedIndex" class="adf-info-drawer-tabs" (selectedTabChange)="onTabChange($event)">\n            <mat-tab *ngFor="let contentBlock of contentBlocks"\n                [label]="contentBlock.label | translate"\n                class="adf-info-drawer-tab">\n\n                <ng-template mat-tab-label>\n                    <mat-icon *ngIf="contentBlock.icon">{{ contentBlock.icon }}</mat-icon>\n                    <span *ngIf="contentBlock.label">{{ contentBlock.label | translate }}</span>\n                </ng-template>\n\n                <ng-container *ngTemplateOutlet="contentBlock.content"></ng-container>\n            </mat-tab>\n        </mat-tab-group>\n    </ng-template>\n\n    <ng-template #singleLayout>\n        <ng-content select="[info-drawer-content]"></ng-content>\n    </ng-template>\n</adf-info-drawer-layout>\n',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-info-drawer"},styles:[".adf-info-drawer{display:block}.adf-info-drawer .mat-tab-label{min-width:0}.adf-info-drawer .adf-info-drawer-layout-content{padding:0}.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs){padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>*,.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs)>*{margin-bottom:20px;display:block}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>:last-child{margin-bottom:0}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label{flex-grow:1}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label .mat-icon+span{padding-left:5px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-ink-bar{height:4px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body{padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content{overflow:initial}"]}]}],Gr.propDecorators={title:[{type:D.Input}],selectedIndex:[{type:D.Input}],currentTab:[{type:D.Output}],contentBlocks:[{type:D.ContentChildren,args:[Hr]}]},Gr);function Gr(){this.title=null,this.selectedIndex=0,this.currentTab=new D.EventEmitter}function qr(){return[_r,Hr,Yr,Mr,Vr,jr]}var $r=(Xr.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild()],declarations:qr(),exports:qr()}]}],Xr);function Xr(){}var Wr=(Kr.prototype.createDatatableSchema=function(){this.loadLayoutPresets(),this.columns&&0!==this.columns.length||(this.columns=this.mergeJsonAndHtmlSchema())},Kr.prototype.loadLayoutPresets=function(){var e=this.appConfigService.get(this.presetKey,null);this.layoutPresets=e?Object.assign({},this.presetsModel,e):this.presetsModel},Kr.prototype.mergeJsonAndHtmlSchema=function(){var e=this.getSchemaFromConfig(this.presetColumn).concat(this.getSchemaFromHtml(this.columnList));return 0===e.length&&(e=this.getDefaultLayoutPreset()),e},Kr.prototype.getSchemaFromHtml=function(e){var t=[];return e&&e.columns&&0<e.columns.length&&(t=e.columns.map(function(e){return e})),t},Kr.prototype.getSchemaFromConfig=function(e){return e?this.layoutPresets[e].map(function(e){return new Te(e)}):[]},Kr.prototype.getDefaultLayoutPreset=function(){return this.layoutPresets["default"].map(function(e){return new Te(e)})},Kr.propDecorators={columnList:[{type:D.ContentChild,args:[yn]}],presetColumn:[{type:D.Input}]},Kr);function Kr(e,t,n){this.appConfigService=e,this.presetKey=t,this.presetsModel=n,this.layoutPresets={}}var Jr=(Qr.decorators=[{type:D.Component,args:[{selector:"adf-card-view",template:'<div class="adf-property-list">\n    <div *ngFor="let property of properties">\n        <div [attr.data-automation-id]="\'header-\'+property.key" class="adf-property">\n            <adf-card-view-item-dispatcher\n                [property]="property"\n                [editable]="editable"\n                [displayEmpty]="displayEmpty"\n                [displayNoneOption]="displayNoneOption"\n                [displayClearAction]="displayClearAction">\n            </adf-card-view-item-dispatcher>\n        </div>\n    </div>\n</div>\n',styles:[""]}]}],Qr.propDecorators={properties:[{type:D.Input}],editable:[{type:D.Input}],displayEmpty:[{type:D.Input}],displayNoneOption:[{type:D.Input}],displayClearAction:[{type:D.Input}]},Qr);function Qr(){this.displayEmpty=!0,this.displayNoneOption=!0,this.displayClearAction=!0}function Zr(e,t){return e.split(".").reverse().reduce(function(e,t){var n;return(n={})[t]=e,n},t)}var ea=(ta.prototype.update=function(e,t){this.itemUpdated$.next({target:e,changed:Zr(e.key,t)})},ta.prototype.clicked=function(e){this.itemClicked$.next({target:e})},ta.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],ta.ngInjectableDef=D.defineInjectable({factory:function(){return new ta},token:ta,providedIn:"root"}),ta);function ta(){this.itemUpdated$=new w.Subject,this.itemClicked$=new w.Subject}var na=(ia.prototype.isEditable=function(){return this.editable&&this.property.editable},ia.prototype.changed=function(e){this.cardViewUpdateService.update(this.property,e.checked),this.property.value=e.checked},ia.decorators=[{type:D.Component,args:[{selector:"adf-card-view-boolitem",template:'<ng-container *ngIf="!property.isEmpty() || isEditable()">\n    <div [attr.data-automation-id]="\'card-boolean-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n    <div class="adf-property-value">\n        <mat-checkbox\n            [attr.data-automation-id]="\'card-boolean-\' + property.key"\n            [attr.title]="\'CORE.METADATA.ACTIONS.TOGGLE\' | translate"\n            [checked]="property.displayValue"\n            [disabled]="!isEditable()"\n            (change)="changed($event)">\n        </mat-checkbox>\n    </div>\n</ng-container>\n',styles:[""]}]}],ia.ctorParameters=function(){return[{type:ea}]},ia.propDecorators={property:[{type:D.Input}],editable:[{type:D.Input}]},ia);function ia(e){this.cardViewUpdateService=e}var oa=be,ra=u.MAT_MOMENT_DATETIME_FORMATS,aa=(sa.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.dateAdapter.setLocale(e),t.property.locale=e}),this.dateAdapter.overrideDisplayFormat="MMM DD",this.property.value&&(this.valueDate=y(this.property.value,this.dateFormat))},sa.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},sa.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},sa.prototype.showClearAction=function(){return this.displayClearAction&&(!this.property.isEmpty()||!!this.property["default"])},sa.prototype.isEditable=function(){return this.editable&&this.property.editable},sa.prototype.showDatePicker=function(){this.datepicker.open()},sa.prototype.onDateChanged=function(e){if(e){var t=y(e.value,this.dateFormat,!0);t.isValid()&&(this.valueDate=t,this.cardViewUpdateService.update(this.property,t.toDate()),this.property.value=t.toDate())}},sa.prototype.onDateClear=function(){this.valueDate=null,this.cardViewUpdateService.update(this.property,null),this.property.value=null,this.property["default"]=null},sa.decorators=[{type:D.Component,args:[{providers:[{provide:v.DateAdapter,useClass:Ee},{provide:v.MAT_DATE_FORMATS,useValue:oa},{provide:p.DatetimeAdapter,useClass:u.MomentDatetimeAdapter},{provide:p.MAT_DATETIME_FORMATS,useValue:ra}],selector:"adf-card-view-dateitem",template:'<div [attr.data-automation-id]="\'card-dateitem-label-\' + property.key" class="adf-property-label" *ngIf="showProperty() || isEditable()">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <span *ngIf="!isEditable()" [attr.data-automation-id]="\'card-\' + property.type + \'-value-\' + property.key">\n        <span [attr.data-automation-id]="\'card-dateitem-\' + property.key">\n            <span *ngIf="showProperty()">{{ property.displayValue }}</span>\n        </span>\n    </span>\n    <div *ngIf="isEditable()" class="adf-dateitem-editable">\n        <div class="adf-dateitem-editable-controls">\n            <span\n                class="adf-datepicker-toggle"\n                [attr.data-automation-id]="\'datepicker-label-toggle-\' + property.key"\n                (click)="showDatePicker()">\n                <span [attr.data-automation-id]="\'card-\' + property.type + \'-value-\' + property.key" *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n            </span>\n\n            <mat-icon *ngIf="showClearAction()"\n                class="adf-date-reset-icon"\n                (click)="onDateClear()"\n                [attr.title]="\'CORE.METADATA.ACTIONS.CLEAR\' | translate"\n                [attr.data-automation-id]="\'datepicker-date-clear-\' + property.key">\n                clear\n            </mat-icon>\n\n            <mat-datetimepicker-toggle\n                [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                [attr.data-automation-id]="\'datepickertoggle-\' + property.key"\n                [for]="datetimePicker">\n            </mat-datetimepicker-toggle>\n        </div>\n\n        <input class="adf-invisible-date-input"\n            [matDatetimepicker]="datetimePicker"\n            [value]="valueDate"\n            (dateChange)="onDateChanged($event)">\n\n        <mat-datetimepicker #datetimePicker\n            [type]="property.type"\n            timeInterval="5"\n            [attr.data-automation-id]="\'datepicker-\' + property.key"\n            [startAt]="valueDate">\n        </mat-datetimepicker>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n',styles:[""]}]}],sa.ctorParameters=function(){return[{type:ea},{type:v.DateAdapter},{type:Je},{type:z}]},sa.propDecorators={property:[{type:D.Input}],editable:[{type:D.Input}],displayEmpty:[{type:D.Input}],displayClearAction:[{type:D.Input}],datepicker:[{type:D.ViewChild,args:["datetimePicker"]}]},sa);function sa(e,t,n,i){this.cardViewUpdateService=e,this.dateAdapter=t,this.userPreferencesService=n,this.appConfig=i,this.editable=!1,this.displayEmpty=!0,this.displayClearAction=!0,this.onDestroy$=new w.Subject,this.dateFormat=this.appConfig.get("dateValues.defaultDateFormat")}var la=(ua.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},ua.prototype.isClickable=function(){return this.property.clickable},ua.prototype.clicked=function(){this.cardViewUpdateService.clicked(this.property)},ua.decorators=[{type:D.Component,args:[{selector:"adf-card-view-mapitem",template:'<div [attr.data-automation-id]="\'card-mapitem-label-\' + property.key" class="adf-property-label" *ngIf="showProperty()">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <div>\n        <span *ngIf="!isClickable(); else elseBlock" [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n            <span *ngIf="showProperty();">{{ property.displayValue }}</span>\n        </span>\n        <ng-template #elseBlock>\n            <span class="adf-mapitem-clickable-value" (click)="clicked()" [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n                <span *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n            </span>\n        </ng-template>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n',styles:[".adf-mapitem-clickable-value{cursor:pointer!important}"]}]}],ua.ctorParameters=function(){return[{type:ea}]},ua.propDecorators={property:[{type:D.Input}],displayEmpty:[{type:D.Input}]},ua);function ua(e){this.cardViewUpdateService=e,this.displayEmpty=!0}var pa=(ca.prototype.ngOnChanges=function(){this.editedValue=this.property.multiline?this.property.displayValue:this.property.value},ca.prototype.showProperty=function(){return this.displayEmpty||!this.property.isEmpty()},ca.prototype.isEditable=function(){return this.editable&&this.property.editable},ca.prototype.isClickable=function(){return!!this.property.clickable},ca.prototype.hasIcon=function(){return!!this.property.icon},ca.prototype.hasErrors=function(){return this.errorMessages&&0<this.errorMessages.length},ca.prototype.setEditMode=function(e){var t=this;this.inEdit=e,setTimeout(function(){t.editorInput&&t.editorInput.nativeElement.click()},0)},ca.prototype.reset=function(){this.editedValue=this.property.multiline?this.property.displayValue:this.property.value,this.setEditMode(!1),this.resetErrorMessages()},ca.prototype.resetErrorMessages=function(){this.errorMessages=[]},ca.prototype.update=function(){if(this.property.isValid(this.editedValue)){var e=this.prepareValueForUpload(this.property,this.editedValue);this.cardViewUpdateService.update(this.property,e),this.property.value=e,this.setEditMode(!1),this.resetErrorMessages()}else this.errorMessages=this.property.getValidationErrors(this.editedValue)},ca.prototype.prepareValueForUpload=function(e,t){return e.multivalued?t.split(this.valueSeparator.trim()).map(function(e){return e.trim()}):t},ca.prototype.onTextAreaInputChange=function(){this.errorMessages=this.property.getValidationErrors(this.editedValue)},ca.prototype.clicked=function(){"function"==typeof this.property.clickCallBack?this.property.clickCallBack():this.cardViewUpdateService.clicked(this.property)},ca.DEFAULT_SEPARATOR=", ",ca.decorators=[{type:D.Component,args:[{selector:"adf-card-view-textitem",template:'<div [attr.data-automation-id]="\'card-textitem-label-\' + property.key" class="adf-property-label" *ngIf="showProperty() || isEditable()">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <span *ngIf="!isEditable()">\n        <span *ngIf="!isClickable(); else elseBlock" [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n            <span *ngIf="showProperty()" class="adf-textitem-ellipsis">{{ property.displayValue }}</span>\n        </span>\n        <ng-template #elseBlock>\n            <div class="adf-textitem-clickable" (click)="clicked()" fxLayout="row" fxLayoutAlign="space-between center">\n                <span class="adf-textitem-clickable-value" [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                    <span *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n                </span>\n            </div>\n        </ng-template>\n    </span>\n    <span *ngIf="isEditable()">\n        <div *ngIf="!inEdit" (click)="setEditMode(true)" class="adf-textitem-readonly" [attr.data-automation-id]="\'card-textitem-edit-toggle-\' + property.key" fxLayout="row" fxLayoutAlign="space-between center">\n            <span [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                <span *ngIf="showProperty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n            </span>\n            <mat-icon fxFlex="0 0 auto"\n                [attr.data-automation-id]="\'card-textitem-edit-icon-\' + property.key"\n                [attr.title]="\'CORE.METADATA.ACTIONS.EDIT\' | translate"\n                class="adf-textitem-icon">create</mat-icon>\n        </div>\n        <div *ngIf="inEdit" class="adf-textitem-editable">\n            <div class="adf-textitem-editable-controls">\n                <mat-form-field floatPlaceholder="never" class="adf-input-container">\n                    <input *ngIf="!property.multiline" #editorInput\n                        matInput\n                        class="adf-input"\n                        [placeholder]="property.default | translate"\n                        [(ngModel)]="editedValue"\n                        [attr.data-automation-id]="\'card-textitem-editinput-\' + property.key">\n                    <textarea *ngIf="property.multiline" #editorInput\n                        matInput\n                        matTextareaAutosize\n                        matAutosizeMaxRows="1"\n                        matAutosizeMaxRows="5"\n                        class="adf-textarea"\n                        [placeholder]="property.default | translate"\n                        [(ngModel)]="editedValue"\n                        (input)="onTextAreaInputChange()"\n                        [attr.data-automation-id]="\'card-textitem-edittextarea-\' + property.key"></textarea>\n                </mat-form-field>\n                <mat-icon\n                    [ngClass]="{\'disable\': hasErrors()}"\n                    (click)="update()"\n                    [attr.data-automation-id]="\'card-textitem-update-\' + property.key"\n                    class="adf-textitem-icon adf-update-icon"\n                    [class.adf-button-disabled]="hasErrors()"\n                    [attr.title]="\'CORE.METADATA.ACTIONS.SAVE\' | translate">done</mat-icon>\n                <mat-icon\n                    class="adf-textitem-icon adf-reset-icon"\n                    (click)="reset()"\n                    [attr.title]="\'CORE.METADATA.ACTIONS.CANCEL\' | translate"\n                    [attr.data-automation-id]="\'card-textitem-reset-\' + property.key">clear</mat-icon>\n\n            </div>\n            <mat-error  [attr.data-automation-id]="\'card-textitem-error-\' + property.key" class="adf-textitem-editable-error" *ngIf="hasErrors()">\n                <ul>\n                    <li *ngFor="let errorMessage of errorMessages">{{ errorMessage | translate }}</li>\n                </ul>\n            </mat-error>\n        </div>\n    </span>\n    <ng-template #elseEmptyValueBlock>\n        <span class="adf-textitem-default-value">{{ property.default | translate }}</span>\n    </ng-template>\n</div>\n',styles:[""]}]}],ca.ctorParameters=function(){return[{type:ea},{type:z}]},ca.propDecorators={property:[{type:D.Input}],editable:[{type:D.Input}],displayEmpty:[{type:D.Input}],editorInput:[{type:D.ViewChild,args:["editorInput"]}]},ca);function ca(e,t){this.cardViewUpdateService=e,this.appConfig=t,this.editable=!1,this.displayEmpty=!0,this.inEdit=!1,this.valueSeparator=this.appConfig.get("content-metadata.multi-value-pipe-separator")||ca.DEFAULT_SEPARATOR}var da=(ma.prototype.ngOnChanges=function(){this.value=this.property.value},ma.prototype.isEditable=function(){return this.editable&&this.property.editable},ma.prototype.getOptions=function(){return this.options$||this.property.options$},ma.prototype.onChange=function(e){var t=e.value!==undefined?e.value:null;this.cardViewUpdateService.update(this.property,t),this.property.value=t},ma.prototype.showNoneOption=function(){return this.displayNoneOption},ma.decorators=[{type:D.Component,args:[{selector:"adf-card-view-selectitem",template:'<div [attr.data-automation-id]="\'card-select-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n    <div *ngIf="!isEditable()" data-automation-class="read-only-value">{{ property.displayValue | async }}</div>\n    <div *ngIf="isEditable()">\n        <mat-form-field>\n            <mat-select [(value)]="value" (selectionChange)="onChange($event)" data-automation-class="select-box">\n              <mat-option *ngIf="showNoneOption()">{{ \'CORE.CARDVIEW.NONE\' | translate }}</mat-option>\n              <mat-option *ngFor="let option of getOptions() | async" [value]="option.key">\n                {{ option.label | translate }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n    </div>\n</div>\n',styles:[".mat-form-field-type-mat-select{width:100%}"]}]}],ma.ctorParameters=function(){return[{type:ea}]},ma.propDecorators={property:[{type:D.Input}],editable:[{type:D.Input}],options$:[{type:D.Input}],displayNoneOption:[{type:D.Input}]},ma);function ma(e){this.cardViewUpdateService=e,this.editable=!1,this.displayNoneOption=!0}var fa=(ha.prototype.ngOnChanges=function(){this.values=this.property.value||[],this.matTableValues=new v.MatTableDataSource(this.values)},ha.prototype.isEditable=function(){return this.editable&&this.property.editable},ha.prototype.add=function(){this.values.push({name:"",value:""})},ha.prototype.remove=function(e){this.values.splice(e,1),this.save(!0)},ha.prototype.onBlur=function(e){e.length&&this.save()},ha.prototype.save=function(e){var t=this.values.filter(function(e){return e.name.length&&e.value.length});(e||t.length)&&(this.cardViewUpdateService.update(this.property,t),this.property.value=t)},ha.decorators=[{type:D.Component,args:[{selector:"adf-card-view-boolitem",template:'<div [attr.data-automation-id]="\'card-key-value-pairs-label-\' + property.key" class="adf-property-label">{{ property.label | translate }}</div>\n<div class="adf-property-value">\n\n    <div *ngIf="isEditable()">\n        {{ \'CORE.CARDVIEW.KEYVALUEPAIRS.ADD\' | translate }}\n        <button (click)="add()" mat-icon-button class="adf-card-view__key-value-pairs__add-btn" [attr.data-automation-id]="\'card-key-value-pairs-button-\' + property.key">\n            <mat-icon>add</mat-icon>\n        </button>\n    </div>\n\n    <div *ngIf="!isEditable()" class="adf-card-view__key-value-pairs__read-only">\n        <mat-table #table [dataSource]="matTableValues" class="mat-elevation-z8">\n            <ng-container matColumnDef="name">\n                <mat-header-cell *matHeaderCellDef>{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let item">{{item.name}}</mat-cell>\n            </ng-container>\n            <ng-container matColumnDef="value">\n                <mat-header-cell *matHeaderCellDef>{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef="let item">{{item.value}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef="[\'name\', \'value\']"></mat-header-row>\n            <mat-row *matRowDef="let row; columns: [\'name\', \'value\'];"></mat-row>\n        </mat-table>\n    </div>\n\n\n    <div class="adf-card-view__key-value-pairs" *ngIf="isEditable() && values && values.length">\n        <div class="adf-card-view__key-value-pairs__row">\n            <div class="adf-card-view__key-value-pairs__col">{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}</div>\n            <div class="adf-card-view__key-value-pairs__col">{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}</div>\n        </div>\n\n        <div class="adf-card-view__key-value-pairs__row" *ngFor="let item of values; let i = index">\n            <div class="adf-card-view__key-value-pairs__col">\n                <mat-form-field class="adf-example-full-width">\n                    <input matInput\n                           placeholder="{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.NAME\' | translate }}"\n                           (blur)="onBlur(item.value)"\n                           [attr.data-automation-id]="\'card-\'+ property.key +\'-name-input-\' + i"\n                           [(ngModel)]="values[i].name">\n                </mat-form-field>\n            </div>\n            <div class="adf-card-view__key-value-pairs__col">\n                <mat-form-field class="adf-example-full-width">\n                    <input matInput\n                           placeholder="{{ \'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE\' | translate }}"\n                           (blur)="onBlur(item.value)"\n                           [attr.data-automation-id]="\'card-\'+ property.key +\'-value-input-\' + i"\n                           [(ngModel)]="values[i].value">\n                </mat-form-field>\n            </div>\n            <button mat-icon-button (click)="remove(i)" class="adf-card-view__key-value-pairs__remove-btn">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n    </div>\n</div>\n',styles:[".adf-card-view__key-value-pairs__col{display:inline-block;width:39%}.adf-card-view__key-value-pairs__col .mat-form-field{width:100%}.adf-card-view__key-value-pairs__read-only .mat-table{box-shadow:none}.adf-card-view__key-value-pairs__read-only .mat-header-row,.adf-card-view__key-value-pairs__read-only .mat-row{padding:0}"]}]}],ha.ctorParameters=function(){return[{type:ea}]},ha.propDecorators={property:[{type:D.Input}],editable:[{type:D.Input}]},ha);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ha(e){this.cardViewUpdateService=e,this.editable=!1}function ga(e){return function(){return e}}var ya=(va.fromType=function(e){return ga(e)},va);function va(){}var ba=(Ea.prototype.getComponentTypeResolver=function(e,t){return void 0===t&&(t=this.defaultValue),e&&this.types[e]||ya.fromType(t)},Ea.prototype.setComponentTypeResolver=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("type is null or not defined");if(!t)throw new Error("resolver is null or not defined");if(this.types[e]&&!n)throw new Error("already mapped, use override option if you intend replacing existing mapping.");this.types[e]=t},Ea.prototype.resolveComponentType=function(e,t){return void 0===t&&(t=this.defaultValue),e?this.getComponentTypeResolver(e.type,t)(e):t},Ea);function Ea(){this.defaultValue=undefined,this.types={}}var Ia,wa=(L(Ca,Ia=ba),Ca.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Ca.ngInjectableDef=D.defineInjectable({factory:function(){return new Ca},token:Ca,providedIn:"root"}),Ca);function Ca(){var e=null!==Ia&&Ia.apply(this,arguments)||this;return e.defaultValue=pa,e.types={text:ya.fromType(pa),select:ya.fromType(da),"int":ya.fromType(pa),"float":ya.fromType(pa),date:ya.fromType(aa),datetime:ya.fromType(aa),bool:ya.fromType(na),map:ya.fromType(la),keyvaluepairs:ya.fromType(fa)},e}var Ta=(Sa.decorators=[{type:D.Directive,args:[{selector:"[adf-card-view-content-proxy]"}]}],Sa.ctorParameters=function(){return[{type:D.ViewContainerRef}]},Sa);function Sa(e){this.viewContainerRef=e}var Aa=(Oa.prototype.ngOnChanges=function(t){var o=this;this.loaded||(this.loadComponent(),this.loaded=!0),Object.keys(t).map(function(e){return[e,t[e]]}).forEach(function(e){var t=N(e,2),n=t[0],i=t[1];o.componentReference.instance[n]=i.currentValue}),this.proxy("ngOnChanges",t)},Oa.prototype.loadComponent=function(){var e=this.cardItemTypeService.resolveComponentType(this.property),t=this.resolver.resolveComponentFactory(e);this.componentReference=this.content.viewContainerRef.createComponent(t),this.componentReference.instance.editable=this.editable,this.componentReference.instance.property=this.property,this.componentReference.instance.displayEmpty=this.displayEmpty,this.componentReference.instance.displayNoneOption=this.displayNoneOption,this.componentReference.instance.displayClearAction=this.displayClearAction},Oa.prototype.proxy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.componentReference.instance[e]&&this.componentReference.instance[e].apply(this.componentReference.instance,t)},Oa.decorators=[{type:D.Component,args:[{selector:"adf-card-view-item-dispatcher",template:"<ng-template adf-card-view-content-proxy></ng-template>"}]}],Oa.ctorParameters=function(){return[{type:wa},{type:D.ComponentFactoryResolver}]},Oa.propDecorators={property:[{type:D.Input}],editable:[{type:D.Input}],displayEmpty:[{type:D.Input}],displayNoneOption:[{type:D.Input}],displayClearAction:[{type:D.Input}],content:[{type:D.ViewChild,args:[Ta]}]},Oa);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oa(e,t){var n=this;this.cardItemTypeService=e,this.resolver=t,this.displayEmpty=!0,this.displayNoneOption=!0,this.displayClearAction=!0,this.loaded=!1,this.componentReference=null;["ngOnInit","ngDoCheck","ngAfterContentInit","ngAfterContentChecked","ngAfterViewInit","ngAfterViewChecked","ngOnDestroy"].forEach(function(e){n[e]=n.proxy.bind(n,e)})}var Da=(xa.prototype.isValid=function(e){return!isNaN(e)&&(0|(t=parseFloat(e)))===t;var t},xa);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xa(){this.message="CORE.CARDVIEW.VALIDATORS.INT_VALIDATION_ERROR"}var Ra=(Pa.prototype.isValid=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Pa);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Pa(){this.message="CORE.CARDVIEW.VALIDATORS.FLOAT_VALIDATION_ERROR"}var La=(Fa.prototype.isEmpty=function(){return this.value===undefined||null===this.value||""===this.value},Fa.prototype.isValid=function(t){return!this.validators.length||this.validators.map(function(e){return e.isValid(t)}).reduce(function(e,t){return e&&t},!0)},Fa.prototype.getValidationErrors=function(t){return this.validators.length?this.validators.filter(function(e){return!e.isValid(t)}).map(function(e){return e.message}):[]},Fa);function Fa(e){this.label=e.label||"",this.value=e.value&&e.value.displayName||e.value,this.key=e.key,this["default"]=e["default"],this.editable=!!e.editable,this.clickable=!!e.clickable,this.icon=e.icon||"",this.validators=e.validators||[],this.data=e.data||null}var _a,ka=(L(Ma,_a=La),Object.defineProperty(Ma.prototype,"displayValue",{get:function(){return this.isEmpty()?this["default"]:this.value},enumerable:!0,configurable:!0}),Ma);function Ma(e){var t=_a.call(this,e)||this;return t.type="bool",t.value=!1,e.value!==undefined&&(t.value=!!JSON.parse(e.value)),t}var Na,Va=(L(Ua,Na=La),Object.defineProperty(Ua.prototype,"displayValue",{get:function(){return this.value?(this.localizedDatePipe=new At,this.localizedDatePipe.transform(this.value,this.format,this.locale)):this["default"]},enumerable:!0,configurable:!0}),Ua);function Ua(e){var t=Na.call(this,e)||this;return t.type="date",e.format&&(t.format=e.format),e.locale&&(t.locale=e.locale),t}var ja,Ba=(L(Ha,ja=Va),Ha);function Ha(){var e=null!==ja&&ja.apply(this,arguments)||this;return e.type="datetime",e.format="MMM d, y, H:mm",e}var za,Ya=(L(Ga,za=La),Object.defineProperty(Ga.prototype,"displayValue",{get:function(){return this.isEmpty()?this["default"]:this.applyPipes(this.value)},enumerable:!0,configurable:!0}),Ga.prototype.applyPipes=function(e){return this.pipes.length&&(e=this.pipes.reduce(function(e,t){var n=t.pipe,i=t.params,o=void 0===i?[]:i;return n.transform.apply(n,V([e],o))},e)),e},Ga);function Ga(e){var t=za.call(this,e)||this;return t.type="text",t.multiline=!!e.multiline,t.multivalued=!!e.multivalued,t.pipes=e.pipes||[],t.clickCallBack=e.clickCallBack?e.clickCallBack:null,t}var qa,$a=(L(Xa,qa=Ya),Xa);function Xa(e){var t=qa.call(this,e)||this;return t.type="float",t.validators.push(new Ra),e.value&&(t.value=parseFloat(e.value)),t}var Wa,Ka=(L(Ja,Wa=Ya),Ja);function Ja(e){var t=Wa.call(this,e)||this;return t.type="int",t.validators.push(new Da),e.value&&(t.value=parseInt(e.value,10)),t}var Qa,Za=(L(es,Qa=La),Object.defineProperty(es.prototype,"displayValue",{get:function(){return this.value&&0<this.value.size?this.value.values().next().value:this["default"]},enumerable:!0,configurable:!0}),es);function es(){var e=null!==Qa&&Qa.apply(this,arguments)||this;return e.type="map",e}var ts,ns=(L(is,ts=La),Object.defineProperty(is.prototype,"displayValue",{get:function(){return this.value},enumerable:!0,configurable:!0}),is);function is(e){var t=ts.call(this,e)||this;return t.type="keyvaluepairs",t}var os,rs=(L(as,os=La),Object.defineProperty(as.prototype,"displayValue",{get:function(){var n=this;return this.options$.pipe(b.switchMap(function(e){var t=e.find(function(e){return e.key===n.value});return w.of(t?t.label:"")}))},enumerable:!0,configurable:!0}),as);function as(e){var t=os.call(this,e)||this;return t.type="select",t.options$=e.options$,t}var ss=(ls.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,S.FormsModule,m.FlexLayoutModule,A.TranslateModule.forChild(),v.MatDatepickerModule,v.MatNativeDateModule,v.MatCheckboxModule,v.MatInputModule,v.MatTableModule,v.MatIconModule,v.MatSelectModule,v.MatButtonModule,p.MatDatetimepickerModule,p.MatNativeDatetimeModule],declarations:[Jr,na,aa,la,pa,fa,da,Aa,Ta],entryComponents:[na,aa,la,pa,da,fa],exports:[Jr,na,aa,la,pa,da,fa]}]}],ls);function ls(){}var us,ps=(L(cs,us=z),cs.prototype.get=function(e,t){return e===B.OAUTHCONFIG?JSON.parse(this.storage.getItem(e))||us.prototype.get.call(this,e,t):e===B.APPLICATION?undefined:this.storage.getItem(e)||us.prototype.get.call(this,e,t)},cs.decorators=[{type:D.Injectable}],cs.ctorParameters=function(){return[{type:G},{type:I.HttpClient}]},cs);function cs(e,t){var n=us.call(this,t)||this;return n.storage=e,n}var ds=(ms.prototype.transform=function(e,t){return this.config.get(e,t)},ms.decorators=[{type:D.Pipe,args:[{name:"adfAppConfig"}]}],ms.ctorParameters=function(){return[{type:z}]},ms);function ms(e){this.config=e}var fs=(hs.decorators=[{type:D.NgModule,args:[{imports:[I.HttpClientModule],declarations:[ds],exports:[ds]}]}],hs);function hs(){}var gs,ys=(L(vs,gs=E.FormSaveRepresentation),vs.prototype.metadataToFields=function(e){var n=[];return e&&e.forEach(function(e){if(e){var t={type:"text",id:e.name,name:e.name,required:!1,readOnly:!1,sizeX:1,sizeY:1,row:-1,col:-1,colspan:1,params:{existingColspan:1,maxColspan:2},layout:{colspan:1,row:-1,column:-1}};n.push(t)}}),n},vs);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vs(e,t,n,i,o){var r=gs.call(this)||this;return r.reusable=!1,r.newVersion=!1,r.formImageBase64="",r.formRepresentation={id:e,name:t,description:"",version:1,lastUpdatedBy:1,lastUpdatedByFullName:n,lastUpdated:i,stencilSetId:0,referenceId:null,formDefinition:{fields:[{name:"Label",type:"container",fieldType:"ContainerRepresentation",numberOfColumns:2,required:!1,readOnly:!1,sizeX:2,sizeY:1,row:-1,col:-1,fields:{1:r.metadataToFields(o)}}],gridsterForm:!1,javascriptEvents:[],metadata:{},outcomes:[],className:"",style:"",tabs:[],variables:[]}},r}var bs=(Es.isReadOnlyType=function(e){return Es.READONLY_TYPES.includes(e)},Es.isContainerType=function(e){return e===Es.CONTAINER||e===Es.GROUP},Es.CONTAINER="container",Es.GROUP="group",Es.DYNAMIC_TABLE="dynamic-table",Es.TEXT="text",Es.MULTILINE_TEXT="multi-line-text",Es.DROPDOWN="dropdown",Es.HYPERLINK="hyperlink",Es.RADIO_BUTTONS="radio-buttons",Es.DISPLAY_VALUE="readonly",Es.READONLY_TEXT="readonly-text",Es.UPLOAD="upload",Es.TYPEAHEAD="typeahead",Es.FUNCTIONAL_GROUP="functional-group",Es.PEOPLE="people",Es.BOOLEAN="boolean",Es.NUMBER="integer",Es.DATE="date",Es.AMOUNT="amount",Es.DOCUMENT="document",Es.DATETIME="datetime",Es.ATTACH_FOLDER="select-folder",Es.READONLY_TYPES=[Es.HYPERLINK,Es.DISPLAY_VALUE,Es.READONLY_TEXT,Es.GROUP],Es);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Es(){}function Is(e,t){this.form=e,(this.json=t)&&(this.fieldType=t.fieldType,this.id=t.id,this.name=t.name,this.type=t.type,this.tab=t.tab)}var ws=(Object.defineProperty(Cs.prototype,"leftType",{get:function(){return this.leftFormFieldId?Ts.field:this.leftRestResponseId?Ts.variable:this.json.leftType?this.json.leftType:void 0},set:function(e){this.json.leftType=e},enumerable:!0,configurable:!0}),Object.defineProperty(Cs.prototype,"rightType",{get:function(){return this.json.rightType?this.json.rightType:this.json.rightValue?Ts.value:this.rightRestResponseId?Ts.variable:this.rightFormFieldId?Ts.field:void 0},set:function(e){this.json.rightType=e},enumerable:!0,configurable:!0}),Object.defineProperty(Cs.prototype,"leftValue",{get:function(){return this.json.leftValue?this.json.leftValue:this.leftFormFieldId?this.leftFormFieldId:this.leftRestResponseId},set:function(e){this.json.leftValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(Cs.prototype,"rightValue",{get:function(){return this.json.rightValue?this.json.rightValue:this.rightFormFieldId?this.rightFormFieldId:this.rightRestResponseId},set:function(e){this.json.rightValue=e},enumerable:!0,configurable:!0}),Cs);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cs(e){(this.json=e)?(this.operator=e.operator,this.nextCondition=new Cs(e.nextCondition),this.nextConditionOperator=e.nextConditionOperator,this.rightRestResponseId=e.rightRestResponseId,this.rightFormFieldId=e.rightFormFieldId,this.leftFormFieldId=e.leftFormFieldId,this.leftRestResponseId=e.leftRestResponseId):this.json={}}var Ts={field:"field",variable:"variable",value:"value"},Ss=(As.prototype.hasFields=function(){return this.fields&&0<this.fields.length},As);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function As(){this.size=12,this.fields=[],this.colspan=1,this.rowspan=1}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Os=(Ds.prototype.isActive=function(){return!!this.message},Ds.prototype.getAttributesAsJsonObj=function(){var e={};if(0<this.attributes.size){var n=Object.create(null);this.attributes.forEach(function(e,t){n[t]=e}),e=JSON.stringify(n)}return e},Ds);function Ds(e){this.message="",this.attributes=null,this.message=e&&e.message?e.message:"",this.attributes=new Map}var xs=(Rs.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&e.required},Rs.prototype.validate=function(t){if(this.isSupported(t)&&t.isVisible){if(t.type===bs.DROPDOWN&&t.hasEmptyValue&&t.emptyOption&&t.value===t.emptyOption.id)return!1;if(t.type===bs.RADIO_BUTTONS)return!!t.options.find(function(e){return e.id===t.value});if(t.type===bs.UPLOAD)return t.value&&0<t.value.length;if(t.type===bs.DYNAMIC_TABLE)return t.value&&t.value instanceof Array&&0<t.value.length;if(t.type===bs.BOOLEAN)return!!t.value;if(null===t.value||t.value===undefined||""===t.value)return!1}return!0},Rs);function Rs(){this.supportedTypes=[bs.TEXT,bs.MULTILINE_TEXT,bs.NUMBER,bs.BOOLEAN,bs.TYPEAHEAD,bs.DROPDOWN,bs.PEOPLE,bs.FUNCTIONAL_GROUP,bs.RADIO_BUTTONS,bs.UPLOAD,bs.AMOUNT,bs.DYNAMIC_TABLE,bs.DATE,bs.DATETIME,bs.ATTACH_FOLDER]}var Ps=(Ls.isNumber=function(e){return null!==e&&e!==undefined&&""!==e&&!isNaN(+e)},Ls.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)},Ls.prototype.validate=function(e){if(this.isSupported(e)&&e.isVisible){if(null===e.value||e.value===undefined||""===e.value)return!0;var t=""+e.value,n=new RegExp(/^-?\d+$/);return e.enableFractions&&(n=new RegExp(/^-?[0-9]+(\.[0-9]{1,2})?$/)),!!t.match(n)||!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_NUMBER")}return!0},Ls);function Ls(){this.supportedTypes=[bs.NUMBER,bs.AMOUNT]}var Fs=(_s.isValidDate=function(e,t){return void 0===t&&(t="D-M-YYYY"),!!e&&y(e,t,!0).isValid()},_s.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)},_s.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible&&!_s.isValidDate(e.value,e.dateDisplayFormat)&&(e.validationSummary.message=e.dateDisplayFormat,1))},_s);function _s(){this.supportedTypes=[bs.DATE]}var ks=(Ms.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;t=Fs.isValidDate(e.value,n)?this.checkDate(e,n):!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE")}return t},Ms.prototype.extractDateFormat=function(e){return 4===e.split("-")[0].length?this.DATE_FORMAT_CLOUD:this.DATE_FORMAT},Ms);function Ms(){this.DATE_FORMAT_CLOUD="YYYY-MM-DD",this.DATE_FORMAT="DD-MM-YYYY",this.supportedTypes=[bs.DATE]}var Ns,Vs=(L(Us,Ns=ks),Us.prototype.checkDate=function(e,t){var n,i=!0;n="string"==typeof e.value?y(e.value.split("T")[0],t):e.value;var o=this.extractDateFormat(e.minValue),r=y(e.minValue,o);return n.isBefore(r)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",r.format(e.dateDisplayFormat).toLocaleUpperCase()),i=!1),i},Us.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.minValue},Us);function Us(){return null!==Ns&&Ns.apply(this,arguments)||this}var js,Bs=(L(Hs,js=ks),Hs.prototype.checkDate=function(e,t){var n,i=!0;n="string"==typeof e.value?y(e.value.split("T")[0],t):e.value;var o=this.extractDateFormat(e.maxValue),r=y(e.maxValue,o);return n.isAfter(r)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",r.format(e.dateDisplayFormat).toLocaleUpperCase()),i=!1),i},Hs.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.maxValue},Hs);function Hs(){return null!==js&&js.apply(this,arguments)||this}var zs=(Ys.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.minValue},Ys.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;t=Fs.isValidDate(e.value,n)?this.checkDateTime(e,n):!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE")}return t},Ys.prototype.checkDateTime=function(e,t){var n,i=!0;n="string"==typeof e.value?y(e.value,t):e.value;var o=y(e.minValue,this.MIN_DATETIME_FORMAT);return n.isBefore(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",o.format(e.dateDisplayFormat).replace(":","-")),i=!1),i},Ys);function Ys(){this.supportedTypes=[bs.DATETIME],this.MIN_DATETIME_FORMAT="YYYY-MM-DD hh:mm AZ"}var Gs=(qs.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.maxValue},qs.prototype.validate=function(e){var t=!0;if(this.isSupported(e)&&e.value&&e.isVisible){var n=e.dateDisplayFormat;t=Fs.isValidDate(e.value,n)?this.checkDateTime(e,n):!(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE")}return t},qs.prototype.checkDateTime=function(e,t){var n,i=!0;n="string"==typeof e.value?y(e.value,t):e.value;var o=y(e.maxValue,this.MAX_DATETIME_FORMAT);return n.isAfter(o)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",o.format(e.dateDisplayFormat).replace(":","-")),i=!1),i},qs);function qs(){this.supportedTypes=[bs.DATETIME],this.MAX_DATETIME_FORMAT="YYYY-MM-DD hh:mm AZ"}var $s=(Xs.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&0<e.minLength},Xs.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||e.value.length>=e.minLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.AT_LEAST_LONG",e.validationSummary.attributes.set("minLength",e.minLength.toLocaleString()),!1)},Xs);function Xs(){this.supportedTypes=[bs.TEXT,bs.MULTILINE_TEXT]}var Ws=(Ks.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&0<e.maxLength},Ks.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||e.value.length<=e.maxLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NO_LONGER_THAN",e.validationSummary.attributes.set("maxLength",e.maxLength.toLocaleString()),!1)},Ks);function Ks(){this.supportedTypes=[bs.TEXT,bs.MULTILINE_TEXT]}var Js=(Qs.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&Ps.isNumber(e.minValue)},Qs.prototype.validate=function(e){if(this.isSupported(e)&&e.value&&e.isVisible){var t=+e.value;return+e.minValue<=t||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",e.minValue.toLocaleString()),!1)}return!0},Qs);function Qs(){this.supportedTypes=[bs.NUMBER,bs.AMOUNT]}var Zs=(el.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&Ps.isNumber(e.maxValue)},el.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible)||+e.value<=+e.maxValue||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",e.maxValue.toLocaleString()),!1)},el);function el(){this.supportedTypes=[bs.NUMBER,bs.AMOUNT]}var tl=(nl.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)&&!!e.regexPattern},nl.prototype.validate=function(e){return!(this.isSupported(e)&&e.value&&e.isVisible&&!(0<e.value.length&&e.value.match(new RegExp("^"+e.regexPattern+"$")))&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE"))},nl);function nl(){this.supportedTypes=[bs.TEXT,bs.MULTILINE_TEXT]}var il=(ol.prototype.isSupported=function(e){return e&&-1<this.supportedTypes.indexOf(e.type)},ol.prototype.hasValidNameOrValidId=function(e){return this.hasValidName(e)||this.hasValidId(e)},ol.prototype.hasValidName=function(t){return!!t.options.find(function(e){return e.name&&e.name.toLocaleLowerCase()===t.value.toLocaleLowerCase()})},ol.prototype.hasValidId=function(t){return!!t.options.find(function(e){return e.id===t.value})},ol.prototype.hasStringValue=function(e){return e.value&&"string"==typeof e.value},ol.prototype.hasOptions=function(e){return e.options&&0<e.options.length},ol.prototype.validate=function(e){return!(this.isSupported(e)&&e.isVisible&&this.hasStringValue(e)&&this.hasOptions(e)&&!this.hasValidNameOrValidId(e)&&(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE"))},ol);function ol(){this.supportedTypes=[bs.TYPEAHEAD]}var rl,al=[new xs,new Ps,new $s,new Ws,new Js,new Zs,new tl,new Fs,new Vs,new Bs,new il,new zs,new Gs],sl=(L(ll,rl=Is),Object.defineProperty(ll.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(ll.prototype,"readOnly",{get:function(){return!(!this.form||!this.form.readOnly)||this._readOnly},set:function(e){this._readOnly=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(ll.prototype,"required",{get:function(){return this._required},set:function(e){this._required=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(ll.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),ll.prototype.markAsInvalid=function(){this._isValid=!1},ll.prototype.validate=function(){var e,t;if(this.validationSummary=new Os,!this.readOnly){var n=this.form.fieldValidators||[];try{for(var i=M(n),o=i.next();!o.done;o=i.next())if(!o.value.validate(this))return this._isValid=!1,this._isValid}catch(r){e={error:r}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}}return this._isValid=!0,this._isValid},ll.prototype.getDefaultDateFormat=function(e){var t=e.type;return bs.isReadOnlyType(e.type)&&e.params&&e.params.field&&(t=e.params.field.type),t===bs.DATETIME?this.defaultDateTimeFormat:this.defaultDateFormat},ll.prototype.isTypeaheadFieldType=function(e){return"typeahead"===e},ll.prototype.getFieldNameWithLabel=function(e){return e+"_LABEL"},ll.prototype.getProcessVariableValue=function(e,t){var n=e.name;return this.isTypeaheadFieldType(e.type)&&(n=this.getFieldNameWithLabel(e.id)),this.findProcessVariableValue(n,t)},ll.prototype.getVariablesValue=function(t,e){var n=e.json.variables.find(function(e){return e.name===t});return n?"boolean"===n.type?JSON.parse(n.value):n.value:null},ll.prototype.findProcessVariableValue=function(t,e){if(e.processVariables){var n=e.processVariables.find(function(e){return e.name===t});if(n)return"boolean"===n.type?JSON.parse(n.value):n.value}return undefined},ll.prototype.containerFactory=function(e,t){var n=this;if(this.numberOfColumns=e.numberOfColumns||1,this.fields=e.fields,this.rowspan=1,this.colspan=1,e.fields)for(var i in e.fields)if(e.fields.hasOwnProperty(i)){var o=new Ss,r=(e.fields[i]||[]).map(function(e){return new ll(t,e)});o.fields=r,o.rowspan=e.fields[i].length,o.fields.forEach(function(e){n.colspan=e.colspan>n.colspan?e.colspan:n.colspan}),this.rowspan=this.rowspan<o.rowspan?o.rowspan:this.rowspan,this.columns.push(o)}},ll.prototype.parseValue=function(e){var t=e.hasOwnProperty("value")?e.value:null;if(e.type===bs.DROPDOWN&&e.hasEmptyValue&&e.options&&0<(e.options||[]).length){var n=e.options[0];""===t||t===n.id||t===n.name?t=n.id:t.id&&t.name&&(t=t.id)}if(e.type===bs.RADIO_BUTTONS){var i=this.options.filter(function(e){return e.id===t||e.name===t||t&&(e.id===t.id||e.name===t.name)});0<i.length&&(t=i[0].id)}if((this.isDateField(e)||this.isDateTimeField(e))&&t){var o=void 0;(o=Ps.isNumber(t)?y(t):this.isDateTimeField(e)?y(t,"YYYY-MM-DD hh:mm A"):y(t.split("T")[0],"YYYY-M-D"))&&o.isValid()&&(t=o.format(this.dateDisplayFormat))}return t},ll.prototype.updateForm=function(){var t=this;if(this.form){switch(this.type){case bs.DROPDOWN:if("empty"===this.value||""===this.value)this.form.values[this.id]={};else{var e=this.options.filter(function(e){return e.id===t.value});0<e.length&&(this.form.values[this.id]=e[0])}break;case bs.RADIO_BUTTONS:var n=this.options.filter(function(e){return e.id===t.value});0<n.length&&(this.form.values[this.id]=n[0]);break;case bs.UPLOAD:this.form.hasUpload=!0,this.value&&0<this.value.length?this.form.values[this.id]=Array.isArray(this.value)?this.value.map(function(e){return e.id}).join(","):[this.value]:this.form.values[this.id]=null;break;case bs.TYPEAHEAD:var i=this.options.filter(function(e){return e.id===t.value||e.name===t.value});0<i.length?this.form.values[this.id]=i[0]:0<this.options.length&&(this.form.values[this.id]=null);break;case bs.DATE:var o=y(this.value,this.dateDisplayFormat,!0);o&&o.isValid()?this.form.values[this.id]=o.format("YYYY-MM-DD")+"T00:00:00.000Z":(this.form.values[this.id]=null,this._value=this.value);break;case bs.DATETIME:var r=y(this.value,this.dateDisplayFormat,!0).utc();r&&r.isValid()?this.form.values[this.id]=r.format("YYYY-MM-DDTHH:mm:ssZ"):(this.form.values[this.id]=null,this._value=this.value);break;case bs.NUMBER:this.form.values[this.id]=parseInt(this.value,10);break;case bs.AMOUNT:this.form.values[this.id]=this.enableFractions?parseFloat(this.value):parseInt(this.value,10);break;case bs.BOOLEAN:this.form.values[this.id]=null!==this.value&&this.value!==undefined&&this.value;break;default:bs.isReadOnlyType(this.type)||this.isInvalidFieldType(this.type)||(this.form.values[this.id]=this.value)}this.form.onFormFieldChanged(this)}},ll.prototype.isInvalidFieldType=function(e){return"container"===e},ll.prototype.getOptionName=function(){var t=this,e=this.options.find(function(e){return e.id===t.value});return e?e.name:null},ll.prototype.hasOptions=function(){return this.options&&0<this.options.length},ll.prototype.isDateField=function(e){return e.params&&e.params.field&&e.params.field.type===bs.DATE||e.type===bs.DATE},ll.prototype.isDateTimeField=function(e){return e.params&&e.params.field&&e.params.field.type===bs.DATETIME||e.type===bs.DATETIME},ll);function ll(e,t){var n=rl.call(this,e,t)||this;if(n._readOnly=!1,n._isValid=!0,n._required=!1,n.defaultDateFormat="D-M-YYYY",n.defaultDateTimeFormat="D-M-YYYY hh:mm A",n.rowspan=1,n.colspan=1,n.placeholder=null,n.minLength=0,n.maxLength=0,n.options=[],n.params={},n.isVisible=!0,n.visibilityCondition=null,n.enableFractions=!1,n.currency=null,n.dateDisplayFormat=n.defaultDateFormat,n.numberOfColumns=1,n.fields=[],n.columns=[],t){if(n.fieldType=t.fieldType,n.id=t.id,n.name=t.name,n.type=t.type,n._required=t.required,n._readOnly=t.readOnly||"readonly"===t.type,n.overrideId=t.overrideId,n.tab=t.tab,n.restUrl=t.restUrl,n.restResponsePath=t.restResponsePath,n.restIdProperty=t.restIdProperty,n.restLabelProperty=t.restLabelProperty,n.colspan=t.colspan,n.minLength=t.minLength||0,n.maxLength=t.maxLength||0,n.minValue=t.minValue,n.maxValue=t.maxValue,n.regexPattern=t.regexPattern,n.options=t.options||[],n.hasEmptyValue=t.hasEmptyValue,n.className=t.className,n.optionType=t.optionType,n.params=t.params||{},n.hyperlinkUrl=t.hyperlinkUrl,n.displayText=t.displayText,n.visibilityCondition=t.visibilityCondition?new ws(t.visibilityCondition):undefined,n.enableFractions=t.enableFractions,n.currency=t.currency,n.dateDisplayFormat=t.dateDisplayFormat||n.getDefaultDateFormat(t),n._value=n.parseValue(t),n.validationSummary=new Os,t.placeholder&&""!==t.placeholder&&"null"!==t.placeholder&&(n.placeholder=t.placeholder),bs.isReadOnlyType(t.type)&&t.params&&t.params.field)if(e.processVariables){var i=n.getProcessVariableValue(t.params.field,e);i&&(n.value=i)}else if(t.params.responseVariable&&e.json.variables){var o=n.getVariablesValue(t.params.field.name,e);o&&(n.value=o)}bs.isContainerType(t.type)&&n.containerFactory(t,e)}return n.hasEmptyValue&&n.options&&0<n.options.length&&(n.emptyOption=n.options[0]),n.updateForm(),n}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ul=(Object.defineProperty(pl.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!0,configurable:!0}),pl.prototype.preventDefault=function(){this.isDefaultPrevented=!0},pl);function pl(e){this.isDefaultPrevented=!1,this.form=e}var cl,dl=(L(ml,cl=ul),ml);function ml(e,t){var n=cl.call(this,e)||this;return n.field=t,n}var fl,hl=(L(gl,fl=dl),gl);function gl(e,t){var n=fl.call(this,e,t)||this;return n.isValid=!0,n}var yl,vl=(L(bl,yl=ul),bl);function bl(e){var t=yl.call(this,e)||this;return t.isValid=!0,t.errorsField=[],t}var El,Il=(L(wl,El=Is),Object.defineProperty(wl.prototype,"isVisible",{get:function(){return this.field.isVisible},enumerable:!0,configurable:!0}),wl);function wl(e){var t=El.call(this,e.form,e.json)||this;return e&&(t.field=e),t}var Cl,Tl=(L(Sl,Cl=Is),Sl.SAVE_ACTION="SAVE",Sl.COMPLETE_ACTION="COMPLETE",Sl.START_PROCESS_ACTION="START PROCESS",Sl);function Sl(e,t){var n=Cl.call(this,e,t)||this;return n.isSystem=!1,n.isSelected=!1,t&&(n.isSystem=!!t.isSystem,n.isSelected=!(!e||t.name!==e.selectedOutcome)),n}var Al,Ol=(L(Dl,Al=Is),Dl.prototype.hasContent=function(){return this.fields&&0<this.fields.length},Dl);function Dl(e,t){var n=Al.call(this,e,t)||this;return n.isVisible=!0,n.fields=[],t&&(n.title=t.title,n.visibilityCondition=t.visibilityCondition),n}var xl=(Rl.prototype.hasTabs=function(){return this.tabs&&0<this.tabs.length},Rl.prototype.hasFields=function(){return this.fields&&0<this.fields.length},Rl.prototype.hasOutcomes=function(){return this.outcomes&&0<this.outcomes.length},Rl.prototype.getFieldById=function(t){return this.getFormFields().find(function(e){return e.id===t})},Rl.prototype.getFormFields=function(){for(var t=[],e=0;e<this.fields.length;e++){var n=this.fields[e];if(n instanceof Il){var i=n;t.push(i.field),i.field.columns.forEach(function(e){t.push.apply(t,V(e.fields))})}}return t},Rl.prototype.markAsInvalid=function(){this.isValid=!1},Rl.UNSET_TASK_NAME="Nameless task",Rl.SAVE_OUTCOME="$save",Rl.COMPLETE_OUTCOME="$complete",Rl.START_PROCESS_OUTCOME="$startProcess",Rl);function Rl(){this.values={},this.tabs=[],this.fields=[],this.outcomes=[],this.readOnly=!1,this.isValid=!0}var Pl,Ll=(L(Fl,Pl=xl),Fl.prototype.onFormFieldChanged=function(e){this.validateField(e),this.formService&&this.formService.formFieldValueChanged.next(new dl(this,e))},Fl.prototype.validateForm=function(){for(var e=new vl(this),t=[],n=this.getFormFields(),i=0;i<n.length;i++)n[i].validate()||t.push(n[i]);this.isValid=!(0<t.length),this.formService&&(e.isValid=this.isValid,e.errorsField=t,this.formService.validateForm.next(e))},Fl.prototype.validateField=function(e){if(e){var t=new hl(this,e);this.formService&&this.formService.validateFormField.next(t),t.isValid?t.defaultPrevented||(e.validate()||this.markAsInvalid(),this.validateForm()):this.markAsInvalid()}},Fl.prototype.parseRootFields=function(e){var t,n,i=[];e.fields?i=e.fields:e.formDefinition&&e.formDefinition.fields&&(i=e.formDefinition.fields);var o=[];try{for(var r=M(i),a=r.next();!a.done;a=r.next()){var s=a.value;s.type===bs.DISPLAY_VALUE?s.params&&s.params.field.type===bs.DYNAMIC_TABLE&&o.push(new Il(new sl(this,s))):o.push(new Il(new sl(this,s)))}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}return o},Fl.prototype.loadData=function(e){var t,n;try{for(var i=M(this.getFormFields()),o=i.next();!o.done;o=i.next()){var r=o.value;e[r.id]&&(r.json.value=e[r.id],r.value=r.parseValue(r.json))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(t)throw t.error}}},Fl);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Fl(e,t,n,i){void 0===n&&(n=!1);var o=Pl.call(this)||this;if(o.formService=i,o.taskName=Fl.UNSET_TASK_NAME,o.customFieldTemplates={},o.fieldValidators=V(al),o.readOnly=n,e){o.json=e,o.id=e.id,o.name=e.name,o.taskId=e.taskId,o.taskName=e.taskName||e.name||Fl.UNSET_TASK_NAME,o.processDefinitionId=e.processDefinitionId,o.customFieldTemplates=e.customFieldTemplates||{},o.selectedOutcome=e.selectedOutcome||{},o.className=e.className||"";var r={};o.processVariables=e.processVariables,o.tabs=(e.tabs||[]).map(function(e){var t=new Ol(o,e);return r[t.id]=t}),o.fields=o.parseRootFields(e),t&&o.loadData(t);for(var a=0;a<o.fields.length;a++){var s=o.fields[a];if(s.tab){var l=r[s.tab];l&&l.fields.push(s)}}if(e.fields){var u=new Tl(o,{id:Fl.SAVE_OUTCOME,name:"SAVE",isSystem:!0}),p=new Tl(o,{id:Fl.COMPLETE_OUTCOME,name:"COMPLETE",isSystem:!0}),c=new Tl(o,{id:Fl.START_PROCESS_OUTCOME,name:"START PROCESS",isSystem:!0}),d=(e.outcomes||[]).map(function(e){return new Tl(o,e)});o.outcomes=[u].concat(0<d.length?d:[p,c])}}return o.validateForm(),o}var _l=(Object.defineProperty(kl.prototype,"outcome",{get:function(){return this._outcome},enumerable:!0,configurable:!0}),Object.defineProperty(kl.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),kl.prototype.preventDefault=function(){this._defaultPrevented=!0},kl);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kl(e){this._defaultPrevented=!1,this._outcome=e}var Ml=(Nl.prototype.hasPreviewStatus=function(){return"supported"===this.previewStatus},Nl.prototype.isTypeImage=function(){return"image"===this.simpleType},Nl.prototype.isTypePdf=function(){return"pdf"===this.simpleType},Nl.prototype.isTypeDoc=function(){return"word"===this.simpleType||"content"===this.simpleType},Nl.prototype.isThumbnailReady=function(){return"created"===this.thumbnailStatus},Nl.prototype.isThumbnailSupported=function(){return this.isTypeImage()||(this.isTypePdf()||this.isTypeDoc())&&this.isThumbnailReady()},Nl);function Nl(e){this.contentAvailable=e&&e.contentAvailable,this.created=e&&e.created,this.createdBy=e&&e.createdBy||{},this.id=e&&e.id,this.link=e&&e.link,this.mimeType=e&&e.mimeType,this.name=e&&e.name,this.previewStatus=e&&e.previewStatus,this.relatedContent=e&&e.relatedContent,this.simpleType=e&&e.simpleType,this.thumbnailStatus=e&&e.thumbnailStatus}var Vl=(Ul.prototype.createEcmTypeForActivitiForm=function(n,i){var o=this;return new w.Observable(function(t){o.searchActivitiEcmModel().subscribe(function(e){e?o.saveFomType(n,i).subscribe(function(e){t.next(e),t.complete()}):o.createActivitiEcmModel(n,i).subscribe(function(e){t.next(e),t.complete()})},function(e){return o.handleError(e)})})},Ul.prototype.searchActivitiEcmModel=function(){return this.getEcmModels().pipe(b.map(function(e){return e.list.entries.find(function(e){return e.entry.name===Ul.MODEL_NAME})}))},Ul.prototype.createActivitiEcmModel=function(n,i){var o=this;return new w.Observable(function(t){o.createEcmModel(Ul.MODEL_NAME,Ul.MODEL_NAMESPACE).subscribe(function(e){o.logService.info("model created",e),o.activeEcmModel(Ul.MODEL_NAME).subscribe(function(e){o.logService.info("model active",e),o.createEcmTypeWithProperties(n,i).subscribe(function(e){t.next(e),t.complete()})},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})})},Ul.prototype.saveFomType=function(n,i){var o=this;return new w.Observable(function(t){o.searchEcmType(n,Ul.MODEL_NAME).subscribe(function(e){o.logService.info("custom types",e),e?(t.next(e),t.complete()):o.createEcmTypeWithProperties(n,i).subscribe(function(e){t.next(e),t.complete()})},function(e){return o.handleError(e)})})},Ul.prototype.createEcmTypeWithProperties=function(e,i){var o=this;return new w.Observable(function(n){o.createEcmType(e,Ul.MODEL_NAME,Ul.TYPE_MODEL).subscribe(function(t){o.logService.info("type Created",t),o.addPropertyToAType(Ul.MODEL_NAME,e,i).subscribe(function(e){o.logService.info("property Added",e),n.next(t),n.complete()},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})})},Ul.prototype.searchEcmType=function(t,e){return this.getEcmType(e).pipe(b.map(function(e){return e.list.entries.find(function(e){return e.entry.prefixedName===t||e.entry.title===t})}))},Ul.prototype.activeEcmModel=function(e){var t=this;return w.from(this.apiService.getInstance().core.customModelApi.activateCustomModel(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Ul.prototype.createEcmModel=function(e,t){var n=this;return w.from(this.apiService.getInstance().core.customModelApi.createCustomModel("DRAFT","",e,e,t)).pipe(b.map(this.toJson),b.catchError(function(e){return n.handleError(e)}))},Ul.prototype.getEcmModels=function(){var t=this;return w.from(this.apiService.getInstance().core.customModelApi.getAllCustomModel()).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Ul.prototype.getEcmType=function(e){var t=this;return w.from(this.apiService.getInstance().core.customModelApi.getAllCustomType(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Ul.prototype.createEcmType=function(e,t,n){var i=this,o=this.cleanNameType(e);return w.from(this.apiService.getInstance().core.customModelApi.createCustomType(t,o,n,e,"")).pipe(b.map(this.toJson),b.catchError(function(e){return i.handleError(e)}))},Ul.prototype.addPropertyToAType=function(e,t,n){var i=this,o=this.cleanNameType(t),r=[];if(n&&n.values)for(var a in n.values)a&&r.push({name:a,title:a,description:a,dataType:"d:text",multiValued:!1,mandatory:!1,mandatoryEnforced:!1});return w.from(this.apiService.getInstance().core.customModelApi.addPropertyToType(e,o,r)).pipe(b.map(this.toJson),b.catchError(function(e){return i.handleError(e)}))},Ul.prototype.cleanNameType=function(e){var t=e;return-1!==e.indexOf(":")&&(t=e.split(":")[1]),t.replace(/[^a-zA-Z ]/g,"")},Ul.prototype.toJson=function(e){return e&&e||{}},Ul.prototype.handleError=function(e){this.logService.error(e)},Ul.MODEL_NAMESPACE="activitiForms",Ul.MODEL_NAME="activitiFormsModel",Ul.TYPE_MODEL="cm:folder",Ul.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Ul.ctorParameters=function(){return[{type:$},{type:te}]},Ul.ngInjectableDef=D.defineInjectable({factory:function(){return new Ul(D.inject($),D.inject(te))},token:Ul,providedIn:"root"}),Ul);function Ul(e,t){this.apiService=e,this.logService=t}var jl=(Object.defineProperty(Bl.prototype,"taskApi",{get:function(){return this.apiService.getInstance().activiti.taskApi},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"modelsApi",{get:function(){return this.apiService.getInstance().activiti.modelsApi},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"editorApi",{get:function(){return this.apiService.getInstance().activiti.editorApi},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"processApi",{get:function(){return this.apiService.getInstance().activiti.processApi},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"processInstanceVariablesApi",{get:function(){return this.apiService.getInstance().activiti.processInstanceVariablesApi},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"usersWorkflowApi",{get:function(){return this.apiService.getInstance().activiti.usersWorkflowApi},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"groupsApi",{get:function(){return this.apiService.getInstance().activiti.groupsApi},enumerable:!0,configurable:!0}),Bl.prototype.parseForm=function(e,t,n){if(void 0===n&&(n=!1),e){var i=new Ll(e,t,n,this);return e.fields||(i.outcomes=[new Tl(i,{id:"$save",name:Tl.SAVE_ACTION,isSystem:!0})]),i}return null},Bl.prototype.createFormFromANode=function(e){var o=this;return new w.Observable(function(i){o.createForm(e).subscribe(function(n){o.ecmModelService.searchEcmType(e,Vl.MODEL_NAME).subscribe(function(e){var t=new ys(n.id,n.name,n.lastUpdatedByFullName,n.lastUpdated,e.entry.properties);w.from(o.editorApi.saveForm(n.id,t)).subscribe(function(e){i.next(e),i.complete()},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})},function(e){return o.handleError(e)})})},Bl.prototype.createForm=function(e){var t={name:e,description:"",modelType:2,stencilSet:0};return w.from(this.modelsApi.createModel(t))},Bl.prototype.saveForm=function(e,t){return w.from(this.editorApi.saveForm(e,t))},Bl.prototype.searchFrom=function(t){var n=this;return w.from(this.modelsApi.getModels({modelType:2})).pipe(b.map(function(e){return e.data.find(function(e){return e.name===t})}),b.catchError(function(e){return n.handleError(e)}))},Bl.prototype.getForms=function(){var t=this;return w.from(this.modelsApi.getModels({modelType:2})).pipe(b.map(this.toJsonArray),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getProcessDefinitions=function(){var t=this;return w.from(this.processApi.getProcessDefinitions({})).pipe(b.map(this.toJsonArray),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getProcessVariablesById=function(e){var t=this;return w.from(this.processInstanceVariablesApi.getProcessInstanceVariables(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getTasks=function(){var t=this;return w.from(this.taskApi.listTasks({})).pipe(b.map(this.toJsonArray),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getTask=function(e){var t=this;return w.from(this.taskApi.getTask(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.saveTaskForm=function(e,t){var n=this,i={values:t};return w.from(this.taskApi.saveTaskForm(e,i)).pipe(b.catchError(function(e){return n.handleError(e)}))},Bl.prototype.completeTaskForm=function(e,t,n){var i=this,o={values:t};return n&&(o.outcome=n),w.from(this.taskApi.completeTaskForm(e,o)).pipe(b.catchError(function(e){return i.handleError(e)}))},Bl.prototype.getTaskForm=function(e){var t=this;return w.from(this.taskApi.getTaskForm(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getFormDefinitionById=function(e){var t=this;return w.from(this.editorApi.getForm(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getFormDefinitionByName=function(e){var t=this,n={filter:"myReusableForms",filterText:e,modelType:2};return w.from(this.modelsApi.getModels(n)).pipe(b.map(this.getFormId),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getStartFormInstance=function(e){var t=this;return w.from(this.processApi.getProcessInstanceStartForm(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getProcessInstance=function(e){var t=this;return w.from(this.processApi.getProcessInstance(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getStartFormDefinition=function(e){var t=this;return w.from(this.processApi.getProcessDefinitionStartForm(e)).pipe(b.map(this.toJson),b.catchError(function(e){return t.handleError(e)}))},Bl.prototype.getRestFieldValues=function(e,t){var n=this;return w.from(this.taskApi.getRestFieldValues(e,t)).pipe(b.catchError(function(e){return n.handleError(e)}))},Bl.prototype.getRestFieldValuesByProcessId=function(e,t){var n=this;return w.from(this.processApi.getRestFieldValues(e,t)).pipe(b.catchError(function(e){return n.handleError(e)}))},Bl.prototype.getRestFieldValuesColumnByProcessId=function(e,t,n){var i=this;return w.from(this.processApi.getRestTableFieldValues(e,t,n)).pipe(b.catchError(function(e){return i.handleError(e)}))},Bl.prototype.getRestFieldValuesColumn=function(e,t,n){var i=this;return w.from(this.taskApi.getRestFieldValuesColumn(e,t,n)).pipe(b.catchError(function(e){return i.handleError(e)}))},Bl.prototype.getUserProfileImageApi=function(e){return this.apiService.getInstance().activiti.userApi.getUserProfilePictureUrl(e)},Bl.prototype.getWorkflowUsers=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),w.from(this.usersWorkflowApi.getUsers(i)).pipe(b.switchMap(function(e){return e.data||[]}),b.map(function(e){return e.userImage=n.getUserProfileImageApi(e.id),w.of(e)}),b.combineAll(),b.defaultIfEmpty([]),b.catchError(function(e){return n.handleError(e)}))},Bl.prototype.getWorkflowGroups=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),w.from(this.groupsApi.getGroups(i)).pipe(b.map(function(e){return e.data||[]}),b.catchError(function(e){return n.handleError(e)}))},Bl.prototype.getFormId=function(e){var t=null;return e&&e.data&&0<e.data.length&&(t=e.data[0].id),t},Bl.prototype.toJson=function(e){return e&&e||{}},Bl.prototype.toJsonArray=function(e){return e&&e.data||[]},Bl.prototype.handleError=function(e){var t=Bl.UNKNOWN_ERROR_MESSAGE;return e&&(t=e.message?e.message:e.status?e.status+" - "+e.statusText:Bl.GENERIC_ERROR_MESSAGE),this.logService.error(t),w.throwError(t)},Bl.UNKNOWN_ERROR_MESSAGE="Unknown error",Bl.GENERIC_ERROR_MESSAGE="Server error",Bl.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Bl.ctorParameters=function(){return[{type:Vl},{type:$},{type:te}]},Bl.ngInjectableDef=D.defineInjectable({factory:function(){return new Bl(D.inject(Vl),D.inject($),D.inject(te))},token:Bl,providedIn:"root"}),Bl);function Bl(e,t,n){this.ecmModelService=e,this.apiService=t,this.logService=n,this.formLoaded=new w.Subject,this.formDataRefreshed=new w.Subject,this.formFieldValueChanged=new w.Subject,this.formEvents=new w.Subject,this.taskCompleted=new w.Subject,this.taskCompletedError=new w.Subject,this.taskSaved=new w.Subject,this.taskSavedError=new w.Subject,this.formContentClicked=new w.Subject,this.validateForm=new w.Subject,this.validateFormField=new w.Subject,this.validateDynamicTableRow=new w.Subject,this.executeOutcome=new w.Subject}var Hl={"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},zl=(Yl.prototype.hasField=function(){return!!this.field},Yl.prototype.isRequired=function(){return!(!this.field||!this.field.required)||null},Yl.prototype.isValid=function(){return!!this.field.validationSummary},Yl.prototype.hasValue=function(){return this.field&&null!==this.field.value&&this.field.value!==undefined},Yl.prototype.isInvalidFieldRequired=function(){return!this.field.isValid&&!this.field.validationSummary&&this.isRequired()},Yl.prototype.ngAfterViewInit=function(){this.fieldChanged.emit(this.field)},Yl.prototype.checkVisibility=function(e){this.fieldChanged.emit(e)},Yl.prototype.onFieldChanged=function(e){this.fieldChanged.emit(e)},Yl.prototype.getHyperlinkUrl=function(e){var t=Yl.DEFAULT_HYPERLINK_URL;return e&&e.hyperlinkUrl&&(t=e.hyperlinkUrl,/^https?:\/\//i.test(t)||(t=""+Yl.DEFAULT_HYPERLINK_SCHEME+t)),t},Yl.prototype.getHyperlinkText=function(e){return e?e.displayText||e.hyperlinkUrl:null},Yl.prototype.event=function(e){this.formService.formEvents.next(e)},Yl.DEFAULT_HYPERLINK_URL="#",Yl.DEFAULT_HYPERLINK_SCHEME="http://",Yl.decorators=[{type:D.Component,args:[{selector:"base-widget",template:"",host:Hl,encapsulation:D.ViewEncapsulation.None}]}],Yl.ctorParameters=function(){return[{type:jl}]},Yl.propDecorators={readOnly:[{type:D.Input}],field:[{type:D.Input}],fieldChanged:[{type:D.Output}]},Yl);function Yl(e){this.formService=e,this.readOnly=!1,this.fieldChanged=new D.EventEmitter}var Gl,ql=(L($l,Gl=Il),$l.prototype.isGroup=function(){return this.type===bs.GROUP},$l.prototype.isCollapsible=function(){var e=!1;return this.isGroup()&&this.field.params.allowCollapse&&(e=this.field.params.allowCollapse),e},$l.prototype.isCollapsedByDefault=function(){var e=!1;return this.isCollapsible()&&this.field.params.collapseByDefault&&(e=this.field.params.collapseByDefault),e},$l);function $l(e){var t=Gl.call(this,e)||this;return t.columns=[],t.isExpanded=!0,t.rowspan=1,t.colspan=1,t.field&&(t.columns=t.field.columns||[],t.isExpanded=!t.isCollapsedByDefault(),t.colspan=e.colspan,t.rowspan=e.rowspan),t}var Xl,Wl=(L(Kl,Xl=zl),Kl.prototype.onExpanderClicked=function(){this.content&&this.content.isCollapsible()&&(this.content.isExpanded=!this.content.isExpanded)},Kl.prototype.ngOnInit=function(){this.field&&(this.content=new ql(this.field))},Object.defineProperty(Kl.prototype,"fields",{get:function(){for(var e=[],t=!0,n=0;t;){t=!1;for(var i=0;i<this.content.columns.length;i++){var o=this.content.columns[i].fields[n];o&&(t=!0),e.push(o)}n++}return e},enumerable:!0,configurable:!0}),Kl.prototype.getColumnWith=function(e){var t=e?e.colspan:1;return 100/this.content.json.numberOfColumns*t+"%"},Kl.decorators=[{type:D.Component,args:[{selector:"container-widget",template:'<div [hidden]="!content?.isGroup()" class="adf-container-widget__header">\n    <h4 class="adf-container-widget__header-text" id="container-header"\n        [class.adf-collapsible]="content?.isCollapsible()">\n        <button *ngIf="content?.isCollapsible()"\n                mat-icon-button\n                class="mdl-button--icon"\n                (click)="onExpanderClicked()">\n            <mat-icon>{{ content?.isExpanded ? \'expand_more\' : \'expand_less\' }}</mat-icon>\n        </button>\n        <span (click)="onExpanderClicked()" id="container-header-label">{{content.name | translate }}</span>\n    </h4>\n</div>\n\n<section class="adf-grid-list" *ngIf="content?.isExpanded">\n    <div class="adf-grid-list-item" *ngFor="let field of fields" [style.width]="getColumnWith(field)">\n        <adf-form-field *ngIf="field" [field]="field"></adf-form-field>\n    </div>\n</section>\n\n\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Kl.ctorParameters=function(){return[{type:jl}]},Kl);function Kl(e){var t=Xl.call(this,e)||this;return t.formService=e,t}var Jl=(Ql.prototype.hasTabs=function(){return this.tabs&&0<this.tabs.length},Ql.prototype.ngAfterContentChecked=function(){this.filterVisibleTabs()},Ql.prototype.filterVisibleTabs=function(){this.visibleTabs=this.tabs.filter(function(e){return e.isVisible})},Ql.prototype.tabChanged=function(e){this.formTabChanged.emit(e)},Ql.decorators=[{type:D.Component,args:[{selector:"tabs-widget",template:'<div *ngIf="hasTabs()" class="alfresco-tabs-widget">\n    <mat-tab-group>\n        <mat-tab *ngFor="let tab of visibleTabs" [label]="tab.title | translate">\n            <div *ngFor="let field of tab.fields">\n                <adf-form-field [field]="field.field"></adf-form-field>\n             </div>\n        </mat-tab>\n    </mat-tab-group>\n</div>\n',encapsulation:D.ViewEncapsulation.None}]}],Ql.propDecorators={tabs:[{type:D.Input}],formTabChanged:[{type:D.Output}]},Ql);function Ql(){this.tabs=[],this.formTabChanged=new D.EventEmitter,this.visibleTabs=[]}var Zl,eu=(L(tu,Zl=zl),tu.decorators=[{type:D.Component,args:[{selector:"unknown-widget",template:'\n            <mat-list class="adf-unknown-widget">\n                <mat-list-item>\n                     <mat-icon class="mat-24">error_outline</mat-icon>\n                     <span class="adf-unknown-text">Unknown type: {{field.type}}</span>\n                </mat-list-item>\n            </mat-list>\n\n    ',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-unknown-text{margin-left:10px;color:red}.adf-unknown-widget{margin:42px}"]}]}],tu.ctorParameters=function(){return[{type:jl}]},tu);function tu(e){var t=Zl.call(this,e)||this;return t.formService=e,t}var nu,iu=(L(ou,nu=zl),ou.prototype.ngOnInit=function(){this.field&&this.field.currency&&(this.currency=this.field.currency)},ou.DEFAULT_CURRENCY="$",ou.decorators=[{type:D.Component,args:[{selector:"amount-widget",template:'<div class="adf-amount-widget__container adf-amount-widget {{field.className}}" [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field class="adf-amount-widget__input">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <span matPrefix class="adf-amount-widget__prefix-spacing">{{ currency }}</span>\n        <input matInput\n                class="adf-input"\n                type="text"\n                [id]="field.id"\n                [required]="isRequired()"\n                [placeholder]="field.placeholder"\n                [value]="field.value"\n                [(ngModel)]="field.value"\n                (ngModelChange)="onFieldChanged(field)"\n                [disabled]="field.readOnly">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-amount-widget{width:100%}.adf-amount-widget .mat-input-element{margin-left:13px;margin-right:13px}.adf-amount-widget__container .mat-form-field-label-wrapper{top:17px;left:12px;right:12px}.adf-amount-widget__input .mat-focused{transition:none}.adf-amount-widget__prefix-spacing{position:absolute;top:12px}"]}]}],ou.ctorParameters=function(){return[{type:jl}]},ou);function ou(e){var t=nu.call(this,e)||this;return t.formService=e,t.currency=ou.DEFAULT_CURRENCY,t}var ru,au=(L(su,ru=zl),su.decorators=[{type:D.Component,args:[{selector:"checkbox-widget",template:'<div [ngClass]="field.className">\n    <mat-checkbox\n        [id]="field.id"\n        color="primary"\n        [required]="field.required"\n        [disabled]="field.readOnly || readOnly"\n        [(ngModel)]="field.value"\n        (ngModelChange)="onFieldChanged(field)">\n        {{field.name | translate }}\n        <span *ngIf="field.required">*</span>\n    </mat-checkbox>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None}]}],su.ctorParameters=function(){return[{type:jl}]},su);function su(e){var t=ru.call(this,e)||this;return t.formService=e,t}var lu,uu=be,pu=(L(cu,lu=zl),cu.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=y(this.field.minValue,this.DATE_FORMAT)),this.field.maxValue&&(this.maxDate=y(this.field.maxValue,this.DATE_FORMAT))),this.displayDate=y(this.field.value,this.field.dateDisplayFormat)},cu.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},cu.prototype.onDateChanged=function(e){e&&e.value?this.field.value=e.value.format(this.field.dateDisplayFormat):this.field.value=e||null,this.onFieldChanged(this.field)},cu.decorators=[{type:D.Component,args:[{selector:"date-widget",providers:[{provide:v.DateAdapter,useClass:Ee},{provide:v.MAT_DATE_FORMATS,useValue:uu}],template:'<div class="{{field.className}}" id="data-widget" [class.adf-invalid]="!field.isValid">\n    <mat-form-field class="adf-date-widget">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               [id]="field.id"\n               [matDatepicker]="datePicker"\n               [(ngModel)]="displayDate"\n               [required]="isRequired()"\n               [disabled]="field.readOnly"\n               [min]="minDate"\n               [max]="maxDate"\n               (focusout)="onDateChanged($event.srcElement.value)"\n               (dateChange)="onDateChanged($event)"\n               placeholder="{{field.placeholder}}">\n        <mat-datepicker-toggle  matSuffix [for]="datePicker" [disabled]="field.readOnly" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    <mat-datepicker #datePicker [touchUi]="true" [startAt]="displayDate" ></mat-datepicker>\n</div>\n\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-date-widget .mat-form-field-suffix{top:26px}"]}]}],cu.ctorParameters=function(){return[{type:jl},{type:v.DateAdapter},{type:Je}]},cu);function cu(e,t,n){var i=lu.call(this,e)||this;return i.formService=e,i.dateAdapter=t,i.userPreferencesService=n,i.DATE_FORMAT="DD-MM-YYYY",i.onDestroy$=new w.Subject,i}var du,mu=(L(fu,du=zl),fu.decorators=[{type:D.Component,args:[{selector:"display-text-widget",template:'<div class="adf-display-text-widget {{field.className}}">{{field.value | translate}}</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-display-text-widget{white-space:pre-wrap}"]}]}],fu.ctorParameters=function(){return[{type:jl}]},fu);function fu(e){var t=du.call(this,e)||this;return t.formService=e,t}var hu,gu=(L(yu,hu=zl),yu.prototype.ngOnInit=function(){if(this.field){var e=this.field.value;e?(this.fileId=e.id,this.hasFile=!0):(this.fileId=null,this.hasFile=!1)}},yu.decorators=[{type:D.Component,args:[{selector:"adf-form-document-widget",template:'<div class="adf-form-document-widget {{field.className}}">\n    <ng-container *ngIf="hasFile">\n        <adf-content [id]="fileId" [showDocumentContent]="true"></adf-content>\n    </ng-container>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None}]}],yu.ctorParameters=function(){return[{type:jl}]},yu);function yu(e){var t=hu.call(this,e)||this;return t.formService=e,t.fileId=null,t.hasFile=!1,t}var vu,bu=(L(Eu,vu=zl),Eu.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getValuesByTaskId():this.getValuesByProcessDefinitionId())},Eu.prototype.getValuesByTaskId=function(){var n=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(e){var t=[];n.field.emptyOption&&t.push(n.field.emptyOption),n.field.options=t.concat(e||[]),n.field.updateForm()},function(e){return n.handleError(e)})},Eu.prototype.getValuesByProcessDefinitionId=function(){var n=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(e){var t=[];n.field.emptyOption&&t.push(n.field.emptyOption),n.field.options=t.concat(e||[]),n.field.updateForm()},function(e){return n.handleError(e)})},Eu.prototype.getOptionValue=function(e,t){return"empty"===e.id||e.name!==t?e.id:e.name},Eu.prototype.handleError=function(e){this.logService.error(e)},Eu.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},Eu.decorators=[{type:D.Component,args:[{selector:"dropdown-widget",template:'<div class="adf-dropdown-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <mat-form-field>\n        <mat-select class="adf-select"\n                    [id]="field.id"\n                    [(ngModel)]="field.value"\n                    [disabled]="field.readOnly"\n                    (ngModelChange)="onFieldChanged(field)">\n            <mat-option *ngFor="let opt of field.options"\n                        [value]="getOptionValue(opt, field.value)"\n                        [id]="opt.id">{{opt.name}}\n            </mat-option>\n            <mat-option id="readonlyOption" *ngIf="isReadOnlyType()" [value]="field.value">{{field.value}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget class="adf-dropdown-required-message" *ngIf="isInvalidFieldRequired()"\n                  required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-dropdown-widget{width:100%}.adf-dropdown-widget .adf-select{padding-top:0!important;width:100%}.adf-dropdown-widget .mat-select-value-text{font-size:14px}.adf-dropdown-widget-select{width:100%}"]}]}],Eu.ctorParameters=function(){return[{type:jl},{type:te}]},Eu);function Eu(e,t){var n=vu.call(this,e)||this;return n.formService=e,n.logService=t,n}var Iu=(wu.prototype.refreshVisibility=function(e){var t=this;e&&e.tabs&&0<e.tabs.length&&e.tabs.map(function(e){return t.refreshEntityVisibility(e)}),e&&e.getFormFields().map(function(e){return t.refreshEntityVisibility(e)})},wu.prototype.refreshEntityVisibility=function(e){var t=this.evaluateVisibility(e.form,e.visibilityCondition);e.isVisible=t},wu.prototype.evaluateVisibility=function(e,t){var n=t&&(t.leftType||t.leftValue);return!n||"null"===n||this.isFieldVisible(e,t)},wu.prototype.isFieldVisible=function(e,t,n,i){void 0===n&&(n=[]),void 0===i&&(i=!1);var o=this.getLeftValue(e,t),r=this.getRightValue(e,t),a=this.evaluateCondition(o,r,t.operator);if(this.isValidOperator(t.nextConditionOperator)&&n.push({value:a,operator:t.nextConditionOperator}),this.isValidCondition(t.nextCondition))i=this.isFieldVisible(e,t.nextCondition,n);else if(n[0]!==undefined){i=n[0].value;for(var s=1;s<n.length;s++)n[s]!==undefined&&(i=this.evaluateLogicalOperation(n[s-1].operator,i,n[s].value))}else i=a;return!!i},wu.prototype.getLeftValue=function(e,t){var n="";if(t.leftType&&t.leftType===Ts.variable)n=this.getVariableValue(e,t.leftValue,this.processVarList);else if(t.leftType&&t.leftType===Ts.field&&((n=this.getFormValue(e,t.leftValue))===undefined||""===n)){var i=this.getVariableValue(e,t.leftValue,this.processVarList);n=this.isInvalidValue(i)?n:i}return n},wu.prototype.getRightValue=function(e,t){return t.rightType===Ts.variable?this.getVariableValue(e,t.rightValue,this.processVarList):t.rightType===Ts.field?this.getFormValue(e,t.rightValue):y(t.rightValue,"YYYY-MM-DD",!0).isValid()?t.rightValue+"T00:00:00.000Z":t.rightValue},wu.prototype.getFormValue=function(e,t){var n=this.getFieldValue(e.values,t);return this.isInvalidValue(n)&&(n=this.searchValueInForm(e,t)),n},wu.prototype.getFieldValue=function(e,t){var n,i;return t&&0<t.indexOf("_LABEL")?e[n=t.substring(0,t.length-6)]&&(i=e[n].name):i=e[t]&&e[t].id?e[t].id:e[t],i},wu.prototype.isInvalidValue=function(e){return e===undefined||null===e},wu.prototype.searchValueInForm=function(e,t){var n=this,i="";return e.getFormFields().forEach(function(e){n.isSearchedField(e,t)&&((i=n.getObjectValue(e,t))||(e.value&&e.value.id?i=e.value.id:n.isInvalidValue(e.value)||(i=e.value)))}),i},wu.prototype.getObjectValue=function(t,e){var n="";if(t.value&&t.value.name)n=t.value.name;else if(t.options){var i=t.options.find(function(e){return e.id===t.value});i&&(n=this.getValueFromOption(e,i))}return n},wu.prototype.getValueFromOption=function(e,t){return e&&0<e.indexOf("_LABEL")?t.name:t.id},wu.prototype.isSearchedField=function(e,t){return!(!e.id||!t)&&e.id.toUpperCase()===t.toUpperCase()},wu.prototype.getVariableValue=function(e,t,n){var i=this.getProcessVariableValue(t,n),o=this.getFormVariableDefaultValue(e,t);return i===undefined?o:i},wu.prototype.getFormVariableDefaultValue=function(e,t){var n=this.getFormVariables(e);if(n){var i=n.find(function(e){return e.name===t||e.id===t}),o=void 0;return i&&(o=i.value,"date"===i.type&&(o+="T00:00:00.000Z")),o}},wu.prototype.getFormVariables=function(e){return e.json.variables},wu.prototype.getProcessVariableValue=function(t,e){if(e){var n=e.find(function(e){return e.id===t});if(n)return n.value}},wu.prototype.evaluateLogicalOperation=function(e,t,n){switch(e){case"and":return t&&n;case"or":return t||n;case"and-not":return t&&!n;case"or-not":return t||!n;default:this.logService.error("NO valid operation! wrong op request : "+e)}},wu.prototype.evaluateCondition=function(e,t,n){switch(n){case"==":return e+""==t+"";case"<":return e<t;case"!=":return e+""!=t+"";case">":return t<e;case">=":return t<=e;case"<=":return e<=t;case"empty":return!e||""===e;case"!empty":return!!e&&""!==e;default:this.logService.error("NO valid operation!")}},wu.prototype.cleanProcessVariable=function(){this.processVarList=[]},wu.prototype.getTaskProcessVariable=function(e){var n=this;return w.from(this.apiService.getInstance().activiti.taskFormsApi.getTaskFormVariables(e)).pipe(b.map(function(e){var t=n.toJson(e);return n.processVarList=t}),b.catchError(function(e){return n.handleError(e)}))},wu.prototype.toJson=function(e){return e||{}},wu.prototype.isValidOperator=function(e){return e!==undefined},wu.prototype.isValidCondition=function(e){return!(!e||!e.operator)},wu.prototype.handleError=function(e){return this.logService.error("Error while performing a call"),w.throwError("Error while performing a call - Server error")},wu.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],wu.ctorParameters=function(){return[{type:$},{type:te}]},wu.ngInjectableDef=D.defineInjectable({factory:function(){return new wu(D.inject($),D.inject(te))},token:wu,providedIn:"root"}),wu);function wu(e,t){this.apiService=e,this.logService=t}var Cu,Tu=(L(Su,Cu=dl),Su);function Su(e,t,n,i){var o=Cu.call(this,e,t)||this;return o.row=n,o.summary=i,o.isValid=!0,o}var Au=(Ou.prototype.isSupported=function(e){return e&&e.editable&&-1<this.supportedTypes.indexOf(e.type)},Ou.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(!i&&!t.required)return!0;if(!y(i,"YYYY-MM-DDTHH:mm:ss.SSSSZ",!0).isValid())return n&&(n.isValid=!1,n.message="Invalid '"+t.name+"' format."),!1}return!0},Ou);function Ou(){this.supportedTypes=["Date"]}var Du,xu=(L(Ru,Du=Os),Ru);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ru(e){var t=Du.call(this,e)||this;return t.isValid=e.isValid,t}var Pu=(Lu.prototype.isSupported=function(e){return e&&e.required&&-1<this.supportedTypes.indexOf(e.type)},Lu.prototype.isNumber=function(e){return null!==e&&e!==undefined&&""!==e&&!isNaN(+e)},Lu.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];return!(null!==i&&i!==undefined&&""!==i&&!this.isNumber(i)&&(n&&(n.isValid=!1,n.message="Field '"+t.name+"' must be a number."),1))}return!0},Lu);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Lu(){this.supportedTypes=["Number","Amount"]}var Fu=(_u.prototype.isSupported=function(e){return e&&e.required&&-1<this.supportedTypes.indexOf(e.type)},_u.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(t.required&&(null===i||i===undefined||""===i))return n&&(n.isValid=!1,n.message="Field '"+t.name+"' is required."),!1}return!0},_u);function _u(){this.supportedTypes=["String","Number","Amount","Date","Dropdown"]}var ku,Mu=(L(Nu,ku=Is),Object.defineProperty(Nu.prototype,"selectedRow",{get:function(){return this._selectedRow},set:function(e){if(this._selectedRow&&this._selectedRow===e)return this._selectedRow.selected=!1,void(this._selectedRow=null);this.rows.forEach(function(e){return e.selected=!1}),(this._selectedRow=e)&&(this._selectedRow.selected=!0)},enumerable:!0,configurable:!0}),Nu.prototype.getColumns=function(e){if(e&&e.json){var t=e.json.columnDefinitions;if(!t&&e.json.params&&e.json.params.field&&(t=e.json.params.field.columnDefinitions),t)return t.map(function(e){return e})}return null},Nu.prototype.flushValue=function(){this.field&&(this.field.value=this.rows.map(function(e){return e.value}),this.field.updateForm())},Nu.prototype.moveRow=function(e,t){var n=this.rows.indexOf(e);if(-1<n){var i=n+t;i<0?i=0:i>=this.rows.length&&(i=this.rows.length);var o=this.rows.slice();o.splice(n,1),o.splice(i,0,e),this.rows=o,this.flushValue()}},Nu.prototype.deleteRow=function(e){if(e){this.selectedRow===e&&(this.selectedRow=null);var t=this.rows.indexOf(e);-1<t&&(this.rows.splice(t,1),this.flushValue())}},Nu.prototype.addRow=function(e){e&&this.rows.push(e)},Nu.prototype.validateRow=function(e){var t,n,i,o,r=new xu({isValid:!0,message:null}),a=new Tu(this.form,this.field,e,r);if(this.formService.validateDynamicTableRow.next(a),a.defaultPrevented||!r.isValid)return r;if(e)try{for(var s=M(this.columns),l=s.next();!l.done;l=s.next()){var u=l.value;try{for(var p=M(this._validators),c=p.next();!c.done;c=p.next())if(!c.value.validate(e,u,r))return r}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=p["return"])&&o.call(p)}finally{if(i)throw i.error}}}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s["return"])&&n.call(s)}finally{if(t)throw t.error}}return r},Nu.prototype.getCellValue=function(e,t){var n=e.value[t.id];return"Dropdown"===t.type&&n?n.name:"Boolean"===t.type?!!n:"Date"===t.type&&n?y(n.split("T")[0],"YYYY-MM-DD").format("DD-MM-YYYY"):n||""},Nu.prototype.getDisplayText=function(e){var t=e.name;if("Amount"===e.type){var n=e.amountCurrency||"$";t=e.name+" ("+n+")"}return t},Nu);function Nu(e,t){var n=ku.call(this,e.form,e.json)||this;if(n.formService=t,n.columns=[],n.visibleColumns=[],n.rows=[],n._validators=[],(n.field=e).json){var i=n.getColumns(e);i&&(n.columns=i,n.visibleColumns=n.columns.filter(function(e){return e.visible})),e.json.value&&(n.rows=e.json.value.map(function(e){return{selected:!1,value:e}}))}return n._validators=[new Fu,new Au,new Pu],n}var Vu,Uu=(L(ju,Vu=zl),ju.prototype.ngOnInit=function(){this.field&&(this.content=new Mu(this.field,this.formService),this.visibilityService.refreshVisibility(this.field.form))},ju.prototype.forceFocusOnAddButton=function(){if(this.content){this.cd.detectChanges();var e=this.elementRef.nativeElement.querySelector("#"+this.content.id+"-add-row");this.isDynamicTableReady(e)&&e.focus()}},ju.prototype.isDynamicTableReady=function(e){return this.field&&!this.editMode&&e},ju.prototype.isValid=function(){var e=!0;return this.content&&this.content.field&&(e=this.content.field.isValid),e},ju.prototype.onRowClicked=function(e){this.content&&(this.content.selectedRow=e)},ju.prototype.onKeyPressed=function(e,t){this.content&&this.isEnterOrSpacePressed(e.keyCode)&&(this.content.selectedRow=t)},ju.prototype.isEnterOrSpacePressed=function(e){return-1!==this.selectArrayCode.indexOf(e)},ju.prototype.hasSelection=function(){return!(!this.content||!this.content.selectedRow)},ju.prototype.moveSelectionUp=function(){return!(!this.content||this.readOnly||(this.content.moveRow(this.content.selectedRow,-1),0))},ju.prototype.moveSelectionDown=function(){return!(!this.content||this.readOnly||(this.content.moveRow(this.content.selectedRow,1),0))},ju.prototype.deleteSelection=function(){return!(!this.content||this.readOnly||(this.content.deleteRow(this.content.selectedRow),0))},ju.prototype.addNewRow=function(){return!(!this.content||this.readOnly)&&(this.editRow={isNew:!0,selected:!1,value:{}},this.editMode=!0)},ju.prototype.editSelection=function(){return!(!this.content||this.readOnly)&&(this.editRow=this.copyRow(this.content.selectedRow),this.editMode=!0)},ju.prototype.getCellValue=function(e,t){if(this.content){var n=this.content.getCellValue(e,t);return"Amount"===t.type?(t.amountCurrency||"$")+" "+(n||0):n}return null},ju.prototype.onSaveChanges=function(){if(this.content){if(this.editRow.isNew){var e=this.copyRow(this.editRow);this.content.selectedRow=null,this.content.addRow(e),this.editRow.isNew=!1}else this.content.selectedRow.value=this.copyObject(this.editRow.value);this.content.flushValue()}else this.logService.error(this.ERROR_MODEL_NOT_FOUND);this.editMode=!1,this.forceFocusOnAddButton()},ju.prototype.onCancelChanges=function(){this.editMode=!1,this.editRow=null,this.forceFocusOnAddButton()},ju.prototype.copyRow=function(e){return{value:this.copyObject(e.value)}},ju.prototype.copyObject=function(t){var n=this,i=t;return"object"==typeof t&&null!==t&&t!==undefined&&(i=Object.assign({},t),Object.keys(t).forEach(function(e){"object"==typeof t[e]&&(i[e]=n.copyObject(t[e]))})),i},ju.decorators=[{type:D.Component,args:[{selector:"dynamic-table-widget",template:'<div class="adf-dynamic-table-scrolling {{field.className}}"\n    [class.adf-invalid]="!isValid()">\n    <div class="adf-label">{{content.name | translate }}<span *ngIf="isRequired()">*</span></div>\n\n    <div *ngIf="!editMode">\n        <div class="adf-table-container">\n            <table class="adf-full-width adf-dynamic-table" id="dynamic-table-{{content.id}}">\n                <thead>\n                    <tr>\n                        <th *ngFor="let column of content.visibleColumns">\n                            {{column.name}}\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let row of content.rows; let idx = index" tabindex="0" id="{{content.id}}-row-{{idx}}"\n                        [class.adf-dynamic-table-widget__row-selected]="row.selected" (keyup)="onKeyPressed($event, row)">\n                        <td *ngFor="let column of content.visibleColumns"\n                            (click)="onRowClicked(row)">\n                            <span *ngIf="column.type !== \'Boolean\' else checkbox">\n                                {{ getCellValue(row, column) }}\n                            </span>\n                            <ng-template #checkbox>\n                                <mat-checkbox disabled [checked]="getCellValue(row, column)">\n                                </mat-checkbox>\n                            </ng-template>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div *ngIf="!readOnly">\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="moveSelectionUp()">\n                <mat-icon>arrow_upward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="moveSelectionDown()">\n                <mat-icon>arrow_downward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="field.readOnly"\n                    id="{{content.id}}-add-row"\n                    (click)="addNewRow()">\n                <mat-icon>add_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="deleteSelection()">\n                <mat-icon>remove_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]="!hasSelection()"\n                    (click)="editSelection()">\n                <mat-icon>edit</mat-icon>\n            </button>\n        </div>\n     </div>\n\n     <row-editor *ngIf="editMode"\n        [table]="content"\n        [row]="editRow"\n        (save)="onSaveChanges()"\n        (cancel)="onCancelChanges()">\n     </row-editor>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],ju.ctorParameters=function(){return[{type:jl},{type:D.ElementRef},{type:Iu},{type:te},{type:D.ChangeDetectorRef}]},ju);function ju(e,t,n,i,o){var r=Vu.call(this,e)||this;return r.formService=e,r.elementRef=t,r.visibilityService=n,r.logService=i,r.cd=o,r.ERROR_MODEL_NOT_FOUND="Table model not found",r.editMode=!1,r.editRow=null,r.selectArrayCode=[32,0,13],r}var Bu=(Hu.prototype.onValueChanged=function(e,t,n){var i=n.checked;e.value[t.id]=i},Hu.decorators=[{type:D.Component,args:[{selector:"adf-boolean-editor",template:' <label [attr.for]="column.id">\n    <mat-checkbox\n        color="primary"\n        [id]="column.id"\n        [checked]="table.getCellValue(row, column)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        (change)="onValueChanged(row, column, $event)">\n    <span class="adf-checkbox-label">{{column.name}}</span>\n    </mat-checkbox>\n</label>\n',styles:[".adf-checkbox-label{position:relative;cursor:pointer;font-size:16px;line-height:24px;margin:0}"]}]}],Hu.propDecorators={table:[{type:D.Input}],row:[{type:D.Input}],column:[{type:D.Input}]},Hu);function Hu(){}var zu=be,Yu=(Gu.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.DATE_FORMAT,this.value=y(this.table.getCellValue(this.row,this.column),this.DATE_FORMAT)},Gu.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},Gu.prototype.onDateChanged=function(e){if(e&&e.value){var t=y(e.value,this.DATE_FORMAT,!0);t.isValid()?(this.row.value[this.column.id]=t.format("YYYY-MM-DD")+"T00:00:00.000Z",this.table.flushValue()):this.row.value[this.column.id]=e.value}else this.row.value[this.column.id]=""},Gu.decorators=[{type:D.Component,args:[{selector:"adf-date-editor",template:'<div>\n    <mat-form-field class="adf-date-editor">\n        <label [attr.for]="column.id">{{column.name}} ({{DATE_FORMAT}})</label>\n        <input matInput\n            id="dateInput"\n            type="text"\n            [matDatepicker]="datePicker"\n            [value]="value"\n            [id]="column.id"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (focusout)="onDateChanged($event.srcElement)"\n            (dateChange)="onDateChanged($event)">\n        <mat-datepicker-toggle  *ngIf="column.editable" matSuffix [for]="datePicker" class="adf-date-editor-button" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <mat-datepicker #datePicker [touchUi]="true"></mat-datepicker>\n</div>\n',providers:[{provide:v.DateAdapter,useClass:Ee},{provide:v.MAT_DATE_FORMATS,useValue:zu}],styles:[".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]}]}],Gu.ctorParameters=function(){return[{type:v.DateAdapter},{type:Je}]},Gu.propDecorators={table:[{type:D.Input}],row:[{type:D.Input}],column:[{type:D.Input}]},Gu);function Gu(e,t){this.dateAdapter=e,this.userPreferencesService=t,this.DATE_FORMAT="DD-MM-YYYY",this.onDestroy$=new w.Subject}var qu=be,$u=u.MAT_MOMENT_DATETIME_FORMATS,Xu=(Wu.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.DATE_TIME_FORMAT,this.value=y(this.table.getCellValue(this.row,this.column),this.DATE_TIME_FORMAT)},Wu.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},Wu.prototype.onDateChanged=function(e){if(e&&e.value){var t=y(e.value,this.DATE_TIME_FORMAT);this.row.value[this.column.id]=e.value.format(this.DATE_TIME_FORMAT),this.value=t,this.table.flushValue()}else e?(t=y(e,this.DATE_TIME_FORMAT),this.value=t,this.row.value[this.column.id]=e,this.table.flushValue()):this.row.value[this.column.id]=""},Wu.decorators=[{type:D.Component,args:[{selector:"adf-datetime-editor",template:'<div>\n    <mat-form-field class="adf-date-editor">\n        <label [attr.for]="column.id">{{column.name}} {{DATE_TIME_FORMAT}}</label>\n        <input matInput\n            [matDatetimepicker]="datetimePicker"\n            [(ngModel)]="value"\n            [id]="column.id"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (focusout)="onDateChanged($event.srcElement.value)"\n            (dateChange)="onDateChanged($event)">\n            <mat-datetimepicker-toggle\n                matSuffix\n                [for]="datetimePicker"\n                class="adf-date-editor-button">\n            </mat-datetimepicker-toggle>\n    </mat-form-field>\n    <mat-datetimepicker\n        #datetimePicker\n        type="datetime"\n        openOnFocus="true"\n        timeInterval="5">\n    </mat-datetimepicker>\n</div>\n',providers:[{provide:v.DateAdapter,useClass:Ee},{provide:v.MAT_DATE_FORMATS,useValue:qu},{provide:p.DatetimeAdapter,useClass:u.MomentDatetimeAdapter},{provide:p.MAT_DATETIME_FORMATS,useValue:$u}],styles:[".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]}]}],Wu.ctorParameters=function(){return[{type:v.DateAdapter},{type:Je}]},Wu.propDecorators={table:[{type:D.Input}],row:[{type:D.Input}],column:[{type:D.Input}]},Wu);function Wu(e,t){this.dateAdapter=e,this.userPreferencesService=t,this.DATE_TIME_FORMAT="DD/MM/YYYY HH:mm",this.onDestroy$=new w.Subject}var Ku=(Ju.prototype.ngOnInit=function(){var e=this.table.field;e&&("rest"===this.column.optionType?this.table.form&&this.table.form.taskId?this.getValuesByTaskId(e):this.getValuesByProcessDefinitionId(e):(this.options=this.column.options||[],this.value=this.table.getCellValue(this.row,this.column)))},Ju.prototype.getValuesByTaskId=function(e){var t=this;this.formService.getRestFieldValuesColumn(e.form.taskId,e.id,this.column.id).subscribe(function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)},function(e){return t.handleError(e)})},Ju.prototype.getValuesByProcessDefinitionId=function(e){var t=this;this.formService.getRestFieldValuesColumnByProcessId(e.form.processDefinitionId,e.id,this.column.id).subscribe(function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)},function(e){return t.handleError(e)})},Ju.prototype.onValueChanged=function(e,t,n){var i=n.value;i=t.options.find(function(e){return e.name===i}),e.value[t.id]=i},Ju.prototype.handleError=function(e){this.logService.error(e)},Ju.decorators=[{type:D.Component,args:[{selector:"adf-dropdown-editor",template:'<div class="dropdown-editor">\n    <label [attr.for]="column.id">{{column.name}}</label>\n    <mat-form-field>\n        <mat-select\n            floatPlaceholder="never"\n            class="adf-dropdown-editor-select"\n            [id]="column.id"\n            [(ngModel)]="value"\n            [required]="column.required"\n            [disabled]="!column.editable"\n            (selectionChange)="onValueChanged(row, column, $event)">\n            <mat-option></mat-option>\n            <mat-option *ngFor="let opt of options" [value]="opt.name" [id]="opt.id">{{opt.name}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n</div>\n',styles:[".adf-dropdown-editor-select{width:100%}"]}]}],Ju.ctorParameters=function(){return[{type:jl},{type:te}]},Ju.propDecorators={table:[{type:D.Input}],row:[{type:D.Input}],column:[{type:D.Input}]},Ju);function Ju(e,t){this.formService=e,this.logService=t,this.value=null,this.options=[]}var Qu=(Zu.prototype.onCancelChanges=function(){this.cancel.emit({table:this.table,row:this.row,column:this.column})},Zu.prototype.onSaveChanges=function(){this.validate(),this.isValid()&&this.save.emit({table:this.table,row:this.row,column:this.column})},Zu.prototype.isValid=function(){return this.validationSummary&&this.validationSummary.isValid},Zu.prototype.validate=function(){this.validationSummary=this.table.validateRow(this.row)},Zu.decorators=[{type:D.Component,args:[{selector:"row-editor",template:'<div class="row-editor mdl-shadow--2dp"\n    [class.row-editor__invalid]="!validationSummary.isValid">\n    <div class="mdl-grid" *ngFor="let column of table.columns">\n        <div class="mdl-cell mdl-cell--6-col" [ngSwitch]="column.type">\n            <div *ngSwitchCase="\'Dropdown\'">\n                <adf-dropdown-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-dropdown-editor>\n                </div>\n                <div *ngSwitchCase="\'Date\'">\n                    <adf-date-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-date-editor>\n                </div>\n                <div *ngSwitchCase="\'Datetime\'">\n                    <adf-datetime-editor\n                        [table]="table"\n                        [row]="row"\n                        [column]="column">\n                    </adf-datetime-editor>\n                </div>\n                <div *ngSwitchCase="\'Boolean\'">\n                <adf-boolean-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-boolean-editor>\n                </div>\n                <div *ngSwitchDefault>\n                <adf-text-editor\n                    [table]="table"\n                    [row]="row"\n                    [column]="column">\n                </adf-text-editor>\n            </div>\n        </div>\n    </div>\n    <error-widget [error]="validationSummary"></error-widget>\n    <div>\n        <button mat-button (click)="onCancelChanges()">Cancel</button>\n        <button mat-button (click)="onSaveChanges()">Save</button>\n    </div>\n</div>\n',styles:[".row-editor{padding:8px}.row-editor__validation-summary{visibility:hidden}.row-editor__invalid .row-editor__validation-summary{color:#d50000;visibility:visible;padding:8px 16px}"]}]}],Zu.ctorParameters=function(){return[]},Zu.propDecorators={table:[{type:D.Input}],row:[{type:D.Input}],column:[{type:D.Input}],save:[{type:D.Output}],cancel:[{type:D.Output}]},Zu);function Zu(){this.save=new D.EventEmitter,this.cancel=new D.EventEmitter,this.validationSummary=new xu({isValid:!0,message:""})}var ep=(tp.prototype.ngOnInit=function(){this.displayName=this.table.getDisplayText(this.column)},tp.prototype.onValueChanged=function(e,t,n){var i=n.target.value;e.value[t.id]=i},tp.decorators=[{type:D.Component,args:[{selector:"adf-text-editor",template:'<div class="adf-text-editor">\n    <mat-form-field>\n    <label [attr.for]="column.id">{{displayName}}</label>\n    <input matInput\n        type="text"\n        [value]="table.getCellValue(row, column)"\n        (keyup)="onValueChanged(row, column, $event)"\n        [required]="column.required"\n        [disabled]="!column.editable"\n        [id]="column.id">\n    </mat-form-field>\n</div>\n',styles:[".adf-text-editor{width:100%}"]}]}],tp.propDecorators={table:[{type:D.Input}],row:[{type:D.Input}],column:[{type:D.Input}]},tp);function tp(){}var np,ip=(L(op,np=zl),op.prototype.ngOnChanges=function(e){e.required&&(this.required=e.required.currentValue,this._subscriptAnimationState="enter"),e.error&&e.error.currentValue&&e.error.currentValue.isActive()&&(this.error=e.error.currentValue,this.translateParameters=this.error.getAttributesAsJsonObj(),this._subscriptAnimationState="enter")},op.decorators=[{type:D.Component,args:[{selector:"error-widget",template:'<div class="adf-error-text-container">\n    <div *ngIf="error?.isActive()" [@transitionMessages]="_subscriptAnimationState">\n        <div class="adf-error-text">{{error.message | translate:translateParameters}}</div>\n        <mat-icon class="adf-error-icon">warning</mat-icon>\n    </div>\n    <div *ngIf="required" [@transitionMessages]="_subscriptAnimationState">\n            <div class="adf-error-text">{{required}}</div>\n    </div>\n</div>\n',animations:[d.trigger("transitionMessages",[d.state("enter",d.style({opacity:1,transform:"translateY(0%)"})),d.transition("void => enter",[d.style({opacity:0,transform:"translateY(-100%)"}),d.animate("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])],host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-error-text{width:85%}"]}]}],op.ctorParameters=function(){return[{type:jl}]},op.propDecorators={error:[{type:D.Input}],required:[{type:D.Input}]},op);function op(e){var t=np.call(this,e)||this;return t.formService=e,t.translateParameters=null,t._subscriptAnimationState="",t}var rp,ap=(L(sp,rp=zl),sp.prototype.ngOnInit=function(){var t=this;if(this.field){var e=this.field.value;e&&(this.value=e.name);var n=this.field.params;if(n&&n.restrictWithGroup){var i=n.restrictWithGroup;this.groupId=i.id}this.value&&this.formService.getWorkflowGroups(this.value,this.groupId).subscribe(function(e){return t.groups=e||[]})}},sp.prototype.onKeyUp=function(e){var t=this;this.value&&this.value.length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==l.ESCAPE&&e.keyCode!==l.ENTER&&(this.oldValue=this.value,this.formService.getWorkflowGroups(this.value,this.groupId).subscribe(function(e){t.groups=e||[]}))},sp.prototype.flushValue=function(){var t=this,e=this.groups.find(function(e){return e.name.toLocaleLowerCase()===t.value.toLocaleLowerCase()});e?(this.field.value=e,this.value=e.name):(this.field.value=null,this.value=null),this.field.updateForm()},sp.prototype.onItemClick=function(e,t){e&&(this.field.value=e,this.value=e.name),t&&t.preventDefault()},sp.prototype.onItemSelect=function(e){e&&(this.field.value=e,this.value=e.name)},sp.decorators=[{type:D.Component,args:[{selector:"functional-group-widget",template:'<div class="adf-group-widget {{field.className}}"\n     [class.is-dirty]="value"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" id="functional-group-div">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               [id]="field.id"\n               [(ngModel)]="value"\n               (keyup)="onKeyUp($event)"\n               [disabled]="field.readOnly"\n               placeholder="{{field.placeholder}}"\n               [matAutocomplete]="auto">\n        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n            <mat-option *ngFor="let item of groups"\n                       [id]="field.id +\'-\'+item.id"\n                       (click)="onItemClick(item, $event)"  [value]="item">\n                <span>{{item.name}}</span>\n            </mat-option>\n        </mat-autocomplete>\n\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-group-widget{width:100%}"]}]}],sp.ctorParameters=function(){return[{type:jl},{type:D.ElementRef}]},sp);function sp(e,t){var n=rp.call(this,e)||this;return n.formService=e,n.elementRef=t,n.groups=[],n.minTermLength=1,n}var lp,up=(L(pp,lp=zl),pp.prototype.ngOnInit=function(){this.field&&(this.linkUrl=this.getHyperlinkUrl(this.field),this.linkText=this.getHyperlinkText(this.field))},pp.decorators=[{type:D.Component,args:[{selector:"hyperlink-widget",template:'<div class="adf-hyperlink-widget {{field.className}}">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <div>\n        <a [href]="linkUrl" target="_blank" rel="nofollow">{{linkText}}</a>\n    </div>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],pp.ctorParameters=function(){return[{type:jl}]},pp);function pp(e){var t=lp.call(this,e)||this;return t.formService=e,t.linkUrl=zl.DEFAULT_HYPERLINK_URL,t.linkText=null,t}var cp,dp=(L(mp,cp=zl),mp.decorators=[{type:D.Component,args:[{selector:"multiline-text-widget",template:'<div class="adf-multiline-text-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field floatPlaceholder="never">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <textarea matInput class="adf-input"\n                  matTextareaAutosize\n                  type="text"\n                  rows="3"\n                  [id]="field.id"\n                  [required]="isRequired()"\n                  [(ngModel)]="field.value"\n                  (ngModelChange)="onFieldChanged(field)"\n                  [disabled]="field.readOnly || readOnly"\n                  placeholder="{{field.placeholder}}">\n        </textarea>\n    </mat-form-field>\n    <div *ngIf="field.maxLength > 0" class="adf-multiline-word-counter">\n        <span>{{field?.value?.length || 0}}/{{field.maxLength}}</span>\n    </div>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget class="adf-multiline-required-message" *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-multiline-text-widget{width:100%}.adf-multiline-word-counter{float:right;margin-top:-20px!important;min-height:24px;min-width:1px;font-size:12px;line-height:14px;overflow:hidden;transition:.3s cubic-bezier(.55,0,.55,.2);opacity:1;padding-top:5px;text-align:right;padding-right:2px;padding-left:0}.adf-multiline-required-message{display:flex}"]}]}],mp.ctorParameters=function(){return[{type:jl}]},mp);function mp(e){var t=cp.call(this,e)||this;return t.formService=e,t}var fp,hp=(L(gp,fp=zl),gp.prototype.ngOnInit=function(){this.field.readOnly?this.displayValue=this.decimalNumberPipe.transform(this.field.value):this.displayValue=this.field.value},gp.decorators=[{type:D.Component,args:[{selector:"number-widget",template:'<div class="adf-textfield adf-number-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               pattern="-?[0-9]*(\\.[0-9]+)?"\n               [id]="field.id"\n               [required]="isRequired()"\n               [value]="displayValue"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly"\n               placeholder="{{field.placeholder}}">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-number-widget{width:100%}"]}]}],gp.ctorParameters=function(){return[{type:jl},{type:Dt}]},gp);function gp(e,t){var n=fp.call(this,e)||this;return n.formService=e,n.decimalNumberPipe=t,n}var yp=(vp.prototype.getWorkflowUsers=function(e,t){var n=this,i={excludeTaskId:e,filter:t};return w.from(this.getWorkflowUserApi(i)).pipe(b.map(function(e){return e.data||[]}),b.catchError(function(e){return n.handleError(e)}))},vp.prototype.getUserImage=function(e){return this.getUserProfileImageApi(e.id)},vp.prototype.involveUserWithTask=function(e,t){var n=this,i={userId:t};return w.from(this.involveUserToTaskApi(e,i)).pipe(b.catchError(function(e){return n.handleError(e)}))},vp.prototype.removeInvolvedUser=function(e,t){var n=this,i={userId:t};return w.from(this.removeInvolvedUserFromTaskApi(e,i)).pipe(b.catchError(function(e){return n.handleError(e)}))},vp.prototype.getWorkflowUserApi=function(e){return this.alfrescoJsApi.getInstance().activiti.usersWorkflowApi.getUsers(e)},vp.prototype.involveUserToTaskApi=function(e,t){return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.involveUser(e,t)},vp.prototype.removeInvolvedUserFromTaskApi=function(e,t){return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.removeInvolvedUser(e,t)},vp.prototype.getUserProfileImageApi=function(e){return this.alfrescoJsApi.getInstance().activiti.userApi.getUserProfilePictureUrl(e)},vp.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},vp.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],vp.ctorParameters=function(){return[{type:$},{type:te}]},vp.ngInjectableDef=D.defineInjectable({factory:function(){return new vp(D.inject($),D.inject(te))},token:vp,providedIn:"root"}),vp);function vp(e,t){this.alfrescoJsApi=e,this.logService=t}var bp,Ep=(L(Ip,bp=zl),Ip.prototype.ngOnInit=function(){if(this.field){this.field.value&&this.searchTerm.setValue(this.field.value),this.field.readOnly&&this.searchTerm.disable();var e=this.field.params;if(e&&e.restrictWithGroup){var t=e.restrictWithGroup;this.groupId=t.id}}},Ip.prototype.checkUserAndValidateForm=function(e,t){this.isValidUser(e,t)||""===t?(this.field.validationSummary.message="",this.field.validate(),this.field.form.validateForm()):(this.field.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",this.field.markAsInvalid(),this.field.form.markAsInvalid())},Ip.prototype.isValidUser=function(e,n){var i=this;if(e)return e.find(function(e){var t=i.getDisplayName(e).toLocaleLowerCase()===n.toLocaleLowerCase();return t&&i.peopleSelected.emit(e&&e.id||undefined),t})},Ip.prototype.getDisplayName=function(e){return e?((e.firstName||"")+" "+(e.lastName||"")).trim():""},Ip.prototype.onItemSelect=function(e){e&&(this.field.value=e)},Ip.decorators=[{type:D.Component,args:[{selector:"people-widget",template:'<div class="adf-people-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly"\n     id="people-widget-content">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input #inputValue\n               matInput\n               class="adf-input"\n               data-automation-id="adf-people-search-input"\n               type="text"\n               [id]="field.id"\n               [formControl]="searchTerm"\n               placeholder="{{field.placeholder}}"\n               [matAutocomplete]="auto">\n        <mat-autocomplete class="adf-people-widget-list"\n                          #auto="matAutocomplete"\n                          (optionSelected)="onItemSelect($event.option.value)"\n                          [displayWith]="getDisplayName">\n            <mat-option *ngFor="let user of users$ | async; let i = index" [value]="user">\n                <div class="adf-people-widget-row" id="adf-people-widget-user-{{i}}">\n                    <div [outerHTML]="user | usernameInitials:\'adf-people-widget-pic\'"></div>\n                    <div *ngIf="user.pictureId" class="adf-people-widget-image-row">\n                        <img id="adf-people-widget-pic-{{i}}" class="adf-people-widget-image"\n                             [alt]="getDisplayName(user)" [src]="peopleProcessService.getUserImage(user)"/>\n                    </div>\n                    <span class="adf-people-label-name">{{getDisplayName(user)}}</span>\n                </div>\n            </mat-option>\n        </mat-autocomplete>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Ip.ctorParameters=function(){return[{type:jl},{type:yp}]},Ip.propDecorators={input:[{type:D.ViewChild,args:["inputValue"]}],peopleSelected:[{type:D.Output}]},Ip);function Ip(e,t){var n=bp.call(this,e)||this;return n.formService=e,n.peopleProcessService=t,n.searchTerm=new S.FormControl,n.errorMsg="",n.searchTerms$=n.searchTerm.valueChanges,n.users$=n.searchTerms$.pipe(b.tap(function(){n.errorMsg=""}),b.distinctUntilChanged(),b.switchMap(function(e){var t=e.email?n.getDisplayName(e):e;return n.formService.getWorkflowUsers(t,n.groupId).pipe(b.catchError(function(e){return n.errorMsg=e.message,w.of()}))}),b.map(function(e){var t=n.searchTerm.value.email?n.getDisplayName(n.searchTerm.value):n.searchTerm.value;return n.checkUserAndValidateForm(e,t),e})),n.peopleSelected=new D.EventEmitter,n}var wp,Cp=(L(Tp,wp=zl),Tp.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getOptionsByTaskId():this.getOptionsByProcessDefinitionId())},Tp.prototype.getOptionsByTaskId=function(){var t=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(e){t.field.options=e||[],t.field.updateForm()},function(e){return t.handleError(e)})},Tp.prototype.getOptionsByProcessDefinitionId=function(){var t=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(e){t.field.options=e||[],t.field.updateForm()},function(e){return t.handleError(e)})},Tp.prototype.onOptionClick=function(e){this.field.value=e,this.fieldChanged.emit(this.field)},Tp.prototype.handleError=function(e){this.logService.error(e)},Tp.decorators=[{type:D.Component,args:[{selector:"radio-buttons-widget",template:'<div class="adf-radio-buttons-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" [id]="field.id">\n    <div class="adf-radio-button-container">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <mat-radio-group class="adf-radio-group" [(ngModel)]="field.value">\n            <mat-radio-button\n                [id]="field.id + \'-\' + opt.id"\n                [name]="field.id"\n                [value]="opt.id"\n                [disabled]="field.readOnly"\n                [checked]="field.value === opt.id"\n                (change)="onOptionClick(opt.id)"\n                color="primary"\n                class="adf-radio-button" *ngFor="let opt of field.options" >\n                {{opt.name}}\n            </mat-radio-button>\n        </mat-radio-group>\n    </div>\n    <error-widget [error]="field.validationSummary" ></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n\n\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-radio-button-container{margin-bottom:15px}.adf-radio-group{display:inline-flex;flex-direction:column}.adf-radio-button{margin:5px}"]}]}],Tp.ctorParameters=function(){return[{type:jl},{type:te}]},Tp);function Tp(e,t){var n=wp.call(this,e)||this;return n.formService=e,n.logService=t,n}var Sp={provide:S.NG_VALUE_ACCESSOR,useExisting:D.forwardRef(function(){return Ap}),multi:!0},Ap=(Op.prototype.onTextInput=function(e){this.inputMask&&this.inputMask.mask?this.maskValue(this.el.nativeElement.value,this.el.nativeElement.selectionStart,this.inputMask.mask,this.inputMask.isReversed,e.keyCode):this._onChange(this.el.nativeElement.value)},Op.prototype.ngOnChanges=function(e){e.inputMask&&e.inputMask.currentValue.mask&&(this.inputMask=e.inputMask.currentValue)},Op.prototype.writeValue=function(e){this.el.nativeElement.value=e},Op.prototype.registerOnChange=function(e){this._onChange=e},Op.prototype.registerOnTouched=function(e){this._onTouched=e},Op.prototype.maskValue=function(e,t,n,i,o){if(-1===this.byPassKeys.indexOf(o)){var r=this.getMasked(!1,e,n,i),a=this.calculateCaretPosition(t,e,o);this.render.setAttribute(this.el.nativeElement,"value",r),this.el.nativeElement.value=r,this.setValue(r),this._onChange(r),this.setCaretPosition(a)}},Op.prototype.setCaretPosition=function(e){this.el.nativeElement.moveStart=e,this.el.nativeElement.moveEnd=e},Op.prototype.calculateCaretPosition=function(e,t,n){var i=t.length,o=this.getValue()||"",r=o.length;return 8===n&&o!==t?e-=t.slice(0,e).length-o.slice(0,e).length:o!==t&&(r<=e?e=i:e+=t.slice(0,e).length-o.slice(0,e).length),e},Op.prototype.getMasked=function(e,t,n,i){void 0===i&&(i=!1);var o,r,a,s=[],l=t,u=0,p=n.length,c=0,d=l.length,m=1,f="push",h=-1;for(i?(f="unshift",m=-1,o=0,u=p-1,c=d-1):o=p-1,a=this.isToCheck(i,u,p,c,d);a;){var g=n.charAt(u),y=l.charAt(c),v=this.translationMask[g];v?(y.match(v.pattern)?(s[f](y),v.recursive&&(-1===h?h=u:u===o&&(u=h-m),o===h&&(u-=m)),u+=m):y===r?r=undefined:v.optional?(u+=m,c-=m):this.invalidCharacters.push({index:c,digit:y,translated:v.pattern}),c+=m):(e||s[f](g),y===g?c+=m:r=g,u+=m),a=this.isToCheck(i,u,p,c,d)}var b=n.charAt(o);return p!==d+1||this.translationMask[b]||s.push(b),s.join("")},Op.prototype.isToCheck=function(e,t,n,i,o){return e?-1<t&&-1<i:t<n&&i<o},Op.prototype.setValue=function(e){this.value=e},Op.prototype.getValue=function(){return this.value},Op.decorators=[{type:D.Directive,args:[{selector:"[adf-text-mask], [textMask]",providers:[Sp]}]}],Op.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2}]},Op.propDecorators={inputMask:[{type:D.Input,args:["textMask"]}],onTextInput:[{type:D.HostListener,args:["input",["$event"]]},{type:D.HostListener,args:["keyup",["$event"]]}]},Op);function Op(e,t){this.el=e,this.render=t,this.translationMask={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},this.byPassKeys=[9,16,17,18,36,37,38,39,40,91],this.invalidCharacters=[],this._onChange=function(e){},this._onTouched=function(){}}var Dp,xp=(L(Rp,Dp=zl),Rp.prototype.ngOnInit=function(){this.field.params&&(this.mask=this.field.params.inputMask,this.placeholder=this.field.params.inputMask&&this.field.params.inputMaskPlaceholder?this.field.params.inputMaskPlaceholder:this.field.placeholder,this.isMaskReversed=!!this.field.params.inputMaskReversed&&this.field.params.inputMaskReversed)},Rp.decorators=[{type:D.Component,args:[{selector:"text-widget",template:'<div class="adf-textfield adf-text-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n    <mat-form-field>\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               class="adf-input"\n               type="text"\n               [id]="field.id"\n               [required]="isRequired()"\n               [value]="field.value"\n               [(ngModel)]="field.value"\n               (ngModelChange)="onFieldChanged(field)"\n               [disabled]="field.readOnly || readOnly"\n               [textMask]="{mask: mask, isReversed: isMaskReversed}"\n               [placeholder]="placeholder">\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-text-widget{width:100%}"]}]}],Rp.ctorParameters=function(){return[{type:jl}]},Rp);function Rp(e){var t=Dp.call(this,e)||this;return t.formService=e,t}var Pp,Lp=(L(Fp,Pp=zl),Fp.prototype.ngOnInit=function(){this.field.form.taskId&&this.field.restUrl?this.getValuesByTaskId():this.field.form.processDefinitionId&&this.field.restUrl&&this.getValuesByProcessDefinitionId(),this.isReadOnlyType()&&(this.value=this.field.value)},Fp.prototype.getValuesByTaskId=function(){var o=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(e){var t=e||[];o.field.options=t;var n=o.field.value;if(n){var i=t.find(function(e){return e.id===n||e.name.toLocaleLowerCase()===n.toLocaleLowerCase()});i&&(o.value=i.name)}o.onFieldChanged(o.field),o.field.updateForm()},function(e){return o.handleError(e)})},Fp.prototype.getValuesByProcessDefinitionId=function(){var o=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(e){var t=e||[];o.field.options=t;var n=o.field.value;if(n){var i=t.find(function(e){return e.id===n});i&&(o.value=i.name)}o.onFieldChanged(o.field),o.field.updateForm()},function(e){return o.handleError(e)})},Fp.prototype.getOptions=function(){var t=this.value.trim().toLocaleLowerCase();return this.field.options.filter(function(e){return-1<e.name.toLocaleLowerCase().indexOf(t)})},Fp.prototype.isValidOptionName=function(t){return!!this.field.options.find(function(e){return e.name&&e.name.toLocaleLowerCase()===t.toLocaleLowerCase()})},Fp.prototype.onKeyUp=function(e){this.value&&this.value.trim().length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==l.ESCAPE&&e.keyCode!==l.ENTER&&this.value.length>=this.minTermLength&&(this.options=this.getOptions(),this.oldValue=this.value,this.isValidOptionName(this.value)&&(this.field.value=this.options[0].id)),this.isValueDefined()&&0===this.value.trim().length&&(this.oldValue=this.value,this.options=[])},Fp.prototype.onItemSelect=function(e){e&&(this.field.value=e.id,this.value=e.name,this.onFieldChanged(this.field))},Fp.prototype.validate=function(){this.field.value=this.value},Fp.prototype.isValueDefined=function(){return null!==this.value&&this.value!==undefined},Fp.prototype.handleError=function(e){this.logService.error(e)},Fp.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},Fp.decorators=[{type:D.Component,args:[{selector:"typeahead-widget",template:'<div class="adf-typeahead-widget-container">\n    <div class="adf-typeahead-widget {{field.className}}"\n        [class.is-dirty]="value"\n        [class.adf-invalid]="!field.isValid"\n        [class.adf-readonly]="field.readOnly"\n        id="typehead-div">\n        <mat-form-field>\n            <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}</label>\n            <input matInput class="adf-input"\n                   type="text"\n                   [id]="field.id"\n                   [(ngModel)]="value"\n                   (ngModelChange)="validate()"\n                   (keyup)="onKeyUp($event)"\n                   [disabled]="field.readOnly"\n                   placeholder="{{field.placeholder}}"\n                   [matAutocomplete]="auto">\n            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n                <mat-option *ngFor="let item of options" [value]="item">\n                    <span [id]="field.name+\'_option_\'+item.id">{{item.name}}</span>\n                </mat-option>\n            </mat-autocomplete>\n        </mat-form-field>\n\n        <error-widget [error]="field.validationSummary"></error-widget>\n        <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    </div>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-typeahead-widget-container{position:relative;display:block}.adf-typeahead-widget{width:100%}"]}]}],Fp.ctorParameters=function(){return[{type:jl},{type:te}]},Fp);function Fp(e,t){var n=Pp.call(this,e)||this;return n.formService=e,n.logService=t,n.minTermLength=1,n.options=[],n}var _p=(Object.defineProperty(kp.prototype,"contentApi",{get:function(){return this.apiService.getInstance().activiti.contentApi},enumerable:!0,configurable:!0}),kp.prototype.createTemporaryRawRelatedContent=function(e){var t=this;return w.from(this.contentApi.createTemporaryRawRelatedContent(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},kp.prototype.getFileContent=function(e){var t=this;return w.from(this.contentApi.getContent(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},kp.prototype.getFileRawContent=function(e){var t=this;return w.from(this.contentApi.getRawContent(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},kp.prototype.getContentPreview=function(e){var n=this;return new w.Observable(function(t){n.contentApi.getContentPreview(e).then(function(e){t.next(e),t.complete()},function(){n.contentApi.getRawContent(e).then(function(e){t.next(e),t.complete()},function(e){t.error(e),t.complete()})})})},kp.prototype.getFileRawContentUrl=function(e){return this.contentApi.getRawContentUrl(e)},kp.prototype.getContentThumbnail=function(e){var t=this;return w.from(this.contentApi.getContentThumbnail(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},kp.prototype.getTaskRelatedContent=function(e,t){var n=this;return w.from(this.contentApi.getRelatedContentForTask(e,t)).pipe(b.catchError(function(e){return n.handleError(e)}))},kp.prototype.getProcessRelatedContent=function(e,t){var n=this;return w.from(this.contentApi.getRelatedContentForProcessInstance(e,t)).pipe(b.catchError(function(e){return n.handleError(e)}))},kp.prototype.deleteRelatedContent=function(e){var t=this;return w.from(this.contentApi.deleteContent(e)).pipe(b.catchError(function(e){return t.handleError(e)}))},kp.prototype.createProcessRelatedContent=function(e,t,n){var i=this;return w.from(this.contentApi.createRelatedContentOnProcessInstance(e,t,n)).pipe(b.catchError(function(e){return i.handleError(e)}))},kp.prototype.createTaskRelatedContent=function(e,t,n){var i=this;return w.from(this.contentApi.createRelatedContentOnTask(e,t,n)).pipe(b.catchError(function(e){return i.handleError(e)}))},kp.prototype.toJson=function(e){return e&&e||{}},kp.prototype.toJsonArray=function(e){return e&&e.data||[]},kp.prototype.handleError=function(e){var t=kp.UNKNOWN_ERROR_MESSAGE;return e&&(t=e.message?e.message:e.status?e.status+" - "+e.statusText:kp.GENERIC_ERROR_MESSAGE),this.logService.error(t),w.throwError(t)},kp.UNKNOWN_ERROR_MESSAGE="Unknown error",kp.GENERIC_ERROR_MESSAGE="Server error",kp.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],kp.ctorParameters=function(){return[{type:$},{type:te}]},kp.ngInjectableDef=D.defineInjectable({factory:function(){return new kp(D.inject($),D.inject(te))},token:kp,providedIn:"root"}),kp);function kp(e,t){this.apiService=e,this.logService=t}var Mp,Np=(L(Vp,Mp=zl),Vp.prototype.ngOnInit=function(){this.field&&this.field.value&&0<this.field.value.length&&(this.hasFile=!0),this.getMultipleFileParam()},Vp.prototype.removeFile=function(e){this.field&&this.removeElementFromList(e)},Vp.prototype.onFileChanged=function(e){var t=this,n=e.target.files,i=[];this.field.json.value&&(i=V(this.field.json.value)),n&&0<n.length&&w.from(n).pipe(b.mergeMap(function(e){return t.uploadRawContent(e)})).subscribe(function(e){return i.push(e)},function(){return t.logService.error("Error uploading file. See console output for more details.")},function(){t.field.value=i,t.field.json.value=i,t.hasFile=!0})},Vp.prototype.uploadRawContent=function(t){var n=this;return this.processContentService.createTemporaryRawRelatedContent(t).pipe(b.map(function(e){return n.logService.info(e),e.contentBlob=t,e}))},Vp.prototype.getMultipleFileParam=function(){this.field&&this.field.params&&this.field.params.multiple&&(this.multipleOption=this.field.params.multiple?"multiple":"")},Vp.prototype.removeElementFromList=function(e){var t=this.field.value.indexOf(e);-1!==t&&(this.field.value.splice(t,1),this.field.json.value=this.field.value,this.field.updateForm()),this.hasFile=0<this.field.value.length,this.resetFormValueWithNoFiles()},Vp.prototype.resetFormValueWithNoFiles=function(){0===this.field.value.length&&(this.field.value=[],this.field.json.value=[])},Vp.prototype.getIcon=function(e){return this.thumbnailService.getMimeTypeIcon(e)},Vp.prototype.fileClicked=function(e){var t=this,n=new Ml(e),i=this.processContentService.getContentPreview(n.id);(n.isTypeImage()||n.isTypePdf())&&(i=this.processContentService.getFileRawContent(n.id)),i.subscribe(function(e){n.contentBlob=e,t.formService.formContentClicked.next(n)},function(){t.logService.error("Unable to send event for file "+n.name)})},Vp.decorators=[{type:D.Component,args:[{selector:"upload-widget",template:'<div class="adf-upload-widget {{field.className}}"\n     [class.adf-invalid]="!field.isValid"\n     [class.adf-readonly]="field.readOnly">\n    <label class="adf-label" [attr.for]="field.id">{{field.name | translate }}<span *ngIf="isRequired()">*</span></label>\n    <div class="adf-upload-widget-container">\n        <div>\n            <mat-list *ngIf="hasFile">\n                <mat-list-item class="adf-upload-files-row" *ngFor="let file of field.value">\n                    <img mat-list-icon class="adf-upload-widget__icon"\n                         [id]="\'file-\'+file.id+\'-icon\'"\n                         [src]="getIcon(file.mimeType)"\n                         [alt]="mimeTypeIcon"\n                         (click)="fileClicked(file)"\n                         (keyup.enter)="fileClicked(file)"\n                         role="button"\n                         tabindex="0"/>\n                    <span matLine id="{{\'file-\'+file.id}}" (click)="fileClicked(file)" (keyup.enter)="fileClicked(file)"\n                          role="button" tabindex="0" class="adf-file">{{file.name}}</span>\n                    <button *ngIf="!field.readOnly" mat-icon-button [id]="\'file-\'+file.id+\'-remove\'"\n                            (click)="removeFile(file);" (keyup.enter)="removeFile(file);">\n                        <mat-icon class="mat-24">highlight_off</mat-icon>\n                    </button>\n                </mat-list-item>\n            </mat-list>\n        </div>\n\n        <div *ngIf="(!hasFile || multipleOption) && !field.readOnly">\n            <button mat-raised-button color="primary" (click)="uploadFiles.click()">\n                {{ \'FORM.FIELD.UPLOAD\' | translate }}<mat-icon>file_upload</mat-icon>\n                <input #uploadFiles\n                       [multiple]="multipleOption"\n                       type="file"\n                       [id]="field.id"\n                       (change)="onFileChanged($event)"/>\n            </button>\n        </div>\n    </div>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n</div>\n',host:Hl,encapsulation:D.ViewEncapsulation.None,styles:[".adf-upload-widget-container{margin-bottom:15px}.adf-upload-widget-container input{display:none}.adf-upload-widget{width:100%;word-break:break-all;padding:.4375em 0;border-top:.84375em solid transparent}.adf-upload-widget__icon{padding:6px;float:left;cursor:pointer}.adf-upload-widget__reset{margin-top:-2px}.adf-upload-files-row .mat-line{margin-bottom:0}"]}]}],Vp.ctorParameters=function(){return[{type:jl},{type:te},{type:ot},{type:_p}]},Vp.propDecorators={fileInput:[{type:D.ViewChild,args:["uploadFiles"]}]},Vp);function Vp(e,t,n,i){var o=Mp.call(this,e)||this;return o.formService=e,o.logService=t,o.thumbnailService=n,o.processContentService=i,o.multipleOption="",o}var Up,jp=be,Bp=u.MAT_MOMENT_DATETIME_FORMATS,Hp=(L(zp,Up=zl),zp.prototype.ngOnInit=function(){var t=this;this.userPreferencesService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return t.dateAdapter.setLocale(e)}),this.dateAdapter.overrideDisplayFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=y(this.field.minValue,"YYYY-MM-DDTHH:mm:ssZ")),this.field.maxValue&&(this.maxDate=y(this.field.maxValue,"YYYY-MM-DDTHH:mm:ssZ"))),this.displayDate=y(this.field.value,this.field.dateDisplayFormat).add(y(this.field.value,this.field.dateDisplayFormat).utcOffset(),"minutes")},zp.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},zp.prototype.onDateChanged=function(e){e&&e.value?this.field.value=e.value.format(this.field.dateDisplayFormat):this.field.value=e||null,this.onFieldChanged(this.field)},zp.decorators=[{type:D.Component,args:[{providers:[{provide:v.DateAdapter,useClass:Ee},{provide:v.MAT_DATE_FORMATS,useValue:jp},{provide:p.DatetimeAdapter,useClass:u.MomentDatetimeAdapter},{provide:p.MAT_DATETIME_FORMATS,useValue:Bp}],selector:"date-time-widget",template:'<div class="{{field.className}}"\n     id="data-time-widget" [class.adf-invalid]="!field.isValid">\n    <mat-form-field class="adf-date-time-widget">\n        <label class="adf-label" [attr.for]="field.id">{{field.name | translate }} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n        <input matInput\n               [matDatetimepicker]="datetimePicker"\n               [id]="field.id"\n               [(ngModel)]="displayDate"\n               [required]="isRequired()"\n               [disabled]="field.readOnly"\n               [min]="minDate"\n               [max]="maxDate"\n               (focusout)="onDateChanged($event.srcElement.value)"\n               (dateChange)="onDateChanged($event)"\n               placeholder="{{field.placeholder}}">\n        <mat-datetimepicker-toggle matSuffix [for]="datetimePicker" [disabled]="field.readOnly"></mat-datetimepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]="field.validationSummary"></error-widget>\n    <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n    <mat-datetimepicker #datetimePicker type="datetime" openOnFocus="true" timeInterval="5"></mat-datetimepicker>\n</div>\n',encapsulation:D.ViewEncapsulation.None,styles:[".adf-date-time-widget .mat-form-field-suffix{top:26px}"]}]}],zp.ctorParameters=function(){return[{type:jl},{type:v.DateAdapter},{type:Je}]},zp);function zp(e,t,n){var i=Up.call(this,e)||this;return i.formService=e,i.dateAdapter=t,i.userPreferencesService=n,i.onDestroy$=new w.Subject,i}var Yp=[eu,Jl,Wl,xp,hp,au,dp,bu,up,Cp,mu,Np,Lp,ap,Ep,pu,iu,Uu,Yu,Ku,Bu,ep,Qu,ip,gu,Hp,Xu],Gp=[Ap],qp=($p.prototype.getParsedFormDefinition=function(){return this},$p.prototype.hasForm=function(){return!!this.form},$p.prototype.isTitleEnabled=function(){var e=!1;return this.showTitle&&this.form&&(e=!0),e},$p.prototype.getColorForOutcome=function(e){return e===$p.COMPLETE_OUTCOME_NAME?$p.COMPLETE_BUTTON_COLOR:""},$p.prototype.isOutcomeButtonEnabled=function(e){return!this.form.readOnly&&!!e&&(e.name===Tl.SAVE_ACTION?!this.disableSaveButton&&this.form.isValid:e.name===Tl.COMPLETE_ACTION?!this.disableCompleteButton&&this.form.isValid:e.name===Tl.START_PROCESS_ACTION?!this.disableStartProcessButton&&this.form.isValid:this.form.isValid)},$p.prototype.isOutcomeButtonVisible=function(e,t){return!(!e||!e.name)&&(e.name===Tl.COMPLETE_ACTION?this.showCompleteButton:t?e.isSelected:e.name===Tl.SAVE_ACTION?this.showSaveButton:e.name!==Tl.START_PROCESS_ACTION)},$p.prototype.onOutcomeClicked=function(e){if(!this.readOnly&&e&&this.form){if(!this.onExecuteOutcome(e))return!1;if(e.isSystem){if(e.id===$p.SAVE_OUTCOME_ID)return this.saveTaskForm(),!0;if(e.id===$p.COMPLETE_OUTCOME_ID)return this.completeTaskForm(),!0;if(e.id===$p.START_PROCESS_OUTCOME_ID)return this.completeTaskForm(),!0;if(e.id===$p.CUSTOM_OUTCOME_ID)return this.onTaskSaved(this.form),this.storeFormAsMetadata(),!0}else if(e.name)return this.onTaskSaved(this.form),this.completeTaskForm(e.name),!0}return!1},$p.prototype.handleError=function(e){this.error.emit(e)},$p.SAVE_OUTCOME_ID="$save",$p.COMPLETE_OUTCOME_ID="$complete",$p.START_PROCESS_OUTCOME_ID="$startProcess",$p.CUSTOM_OUTCOME_ID="$custom",$p.COMPLETE_BUTTON_COLOR="primary",$p.COMPLETE_OUTCOME_NAME="COMPLETE",$p.propDecorators={path:[{type:D.Input}],nameNode:[{type:D.Input}],showTitle:[{type:D.Input}],showCompleteButton:[{type:D.Input}],disableCompleteButton:[{type:D.Input}],disableSaveButton:[{type:D.Input}],disableStartProcessButton:[{type:D.Input}],showSaveButton:[{type:D.Input}],readOnly:[{type:D.Input}],showRefreshButton:[{type:D.Input}],showValidationIcon:[{type:D.Input}],fieldValidators:[{type:D.Input}],formError:[{type:D.Output}],executeOutcome:[{type:D.Output}],error:[{type:D.Output}]},$p);function $p(){this.showTitle=!0,this.showCompleteButton=!0,this.disableCompleteButton=!1,this.disableSaveButton=!1,this.disableStartProcessButton=!1,this.showSaveButton=!0,this.readOnly=!1,this.showRefreshButton=!0,this.showValidationIcon=!0,this.formError=new D.EventEmitter,this.executeOutcome=new D.EventEmitter,this.error=new D.EventEmitter}var Xp=(Wp.prototype.ngOnChanges=function(e){this.getForms()},Wp.prototype.isEmpty=function(){return this.forms&&0===this.forms.length},Wp.prototype.getForms=function(){var n=this;this.formService.getForms().subscribe(function(e){var t;(t=n.forms).push.apply(t,V(e))})},Wp.decorators=[{type:D.Component,args:[{selector:"adf-form-list",template:'<adf-datatable *ngIf="!isEmpty()"\n    [rows]="forms">\n    <data-columns>\n        <data-column key="name" type="text" title="Name" class="adf-ellipsis-cell" [sortable]="true"></data-column>\n        <data-column key="lastUpdatedByFullName" type="text" title="User" class="adf-ellipsis-cell" [sortable]="true"></data-column>\n        <data-column key="lastUpdated" type="date" format="shortDate" title="Date"></data-column>\n    </data-columns>\n</adf-datatable>\n',encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Wp.ctorParameters=function(){return[{type:jl}]},Wp.propDecorators={forms:[{type:D.Input}]},Wp);function Wp(e){this.formService=e,this.forms=[]}var Kp=(Jp.prototype.ngOnChanges=function(e){var t=e.id;t&&t.currentValue&&this.loadContent(t.currentValue)},Jp.prototype.loadContent=function(e){var t=this;this.processContentService.getFileContent(e).subscribe(function(e){t.content=new Ml(e),t.contentLoaded.emit(t.content),t.loadThumbnailUrl(t.content)},function(e){t.error.emit(e)})},Jp.prototype.loadThumbnailUrl=function(e){var t=this;if(this.content.isThumbnailSupported()){var n=void 0;(n=this.content.isTypeImage()?this.processContentService.getFileRawContent(e.id):this.processContentService.getContentThumbnail(e.id))&&n.subscribe(function(e){t.content.thumbnailUrl=t.contentService.createTrustedUrl(e),t.thumbnailLoaded.emit(t.content.thumbnailUrl)},function(e){t.error.emit(e)})}},Jp.prototype.openViewer=function(t){var n=this,e=this.processContentService.getContentPreview(t.id);(t.isTypeImage()||t.isTypePdf())&&(e=this.processContentService.getFileRawContent(t.id)),e.subscribe(function(e){t.contentBlob=e,n.contentClick.emit(t),n.logService.info("Content clicked"+t.id),n.formService.formContentClicked.next(t)},function(e){n.error.emit(e)})},Jp.prototype.download=function(t){var n=this;this.processContentService.getFileRawContent(t.id).subscribe(function(e){return n.contentService.downloadBlob(e,t.name)},function(e){n.error.emit(e)})},Jp.decorators=[{type:D.Component,args:[{selector:"adf-content",template:'<mat-card class="adf-content-container" *ngIf="content">\n    <mat-card-content *ngIf="showDocumentContent">\n        <div *ngIf="content.isThumbnailSupported()" >\n            <img id="thumbnailPreview" class="adf-img-upload-widget" [src]="content.thumbnailUrl" alt="{{content.name}}">\n        </div>\n        <div *ngIf="!content.isThumbnailSupported()">\n            <mat-icon>image</mat-icon>\n            <div id="unsupported-thumbnail" class="adf-content-widget-preview-text">{{ \'FORM.PREVIEW.IMAGE_NOT_AVAILABLE\' | translate }}\n            </div>\n        </div>\n        <div class="mdl-card__supporting-text upload-widget__content-text">{{content.name | translate }}</div>\n    </mat-card-content>\n\n    <mat-card-actions>\n        <button mat-icon-button id="view" (click)="openViewer(content)">\n            <mat-icon class="mat-24">zoom_in</mat-icon>\n        </button>\n        <button mat-icon-button id="download" (click)="download(content)">\n            <mat-icon class="mat-24">file_download</mat-icon>\n        </button>\n    </mat-card-actions>\n</mat-card>\n',encapsulation:D.ViewEncapsulation.None,styles:[".adf-img-upload-widget{width:100%;height:100%;border:1px solid rgba(117,117,117,.57);box-shadow:1px 1px 2px #ddd;background-color:#fff}.adf-content-widget-preview-text{word-wrap:break-word;word-break:break-all;text-align:center}"]}]}],Jp.ctorParameters=function(){return[{type:jl},{type:te},{type:Xt},{type:_p}]},Jp.propDecorators={id:[{type:D.Input}],showDocumentContent:[{type:D.Input}],contentClick:[{type:D.Output}],thumbnailLoaded:[{type:D.Output}],contentLoaded:[{type:D.Output}],error:[{type:D.Output}]},Jp);function Jp(e,t,n,i){this.formService=e,this.logService=t,this.contentService=n,this.processContentService=i,this.showDocumentContent=!0,this.contentClick=new D.EventEmitter,this.thumbnailLoaded=new D.EventEmitter,this.contentLoaded=new D.EventEmitter,this.error=new D.EventEmitter}var Qp=(Zp.decorators=[{type:D.Component,args:[{selector:"adf-form-renderer",template:'<div class="{{formDefinition.className}}" [ngClass]="{\'adf-readonly-form\': formDefinition.readOnly }">\n    <div *ngIf="formDefinition.hasTabs()">\n        <tabs-widget [tabs]="formDefinition.tabs"></tabs-widget>\n    </div>\n\n    <div *ngIf="!formDefinition.hasTabs() && formDefinition.hasFields()">\n        <div *ngFor="let field of formDefinition.fields">\n            <adf-form-field [field]="field.field"></adf-form-field>\n        </div>\n    </div>\n</div>\n\x3c!--\nFor debugging and data visualisation purposes,\nwill be removed during future revisions\n--\x3e\n<div *ngIf="showDebugButton" class="adf-form-debug-container">\n    <mat-slide-toggle [(ngModel)]="debugMode">Debug mode</mat-slide-toggle>\n    <div *ngIf="debugMode">\n        <h4>Values</h4>\n        <pre>{{formDefinition.values | json}}</pre>\n\n        <h4>Form</h4>\n        <pre>{{formDefinition.json | json}}</pre>\n    </div>\n</div>\n',encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Zp.propDecorators={showDebugButton:[{type:D.Input}],formDefinition:[{type:D.Input}]},Zp);function Zp(){this.showDebugButton=!1}var ec=(tc.prototype.getAlfrescoNodes=function(e,t){var n=this,i=this.apiService.getInstance(),o=e.replace("alfresco-","");return w.from(i.activiti.alfrescoApi.getContentInFolder(o,t)).pipe(b.map(this.toJsonArray),b.catchError(function(e){return n.handleError(e)}))},tc.prototype.getAlfrescoRepositories=function(e,t){var n=this,i=this.apiService.getInstance(),o={tenantId:e,includeAccounts:t};return w.from(i.activiti.alfrescoApi.getRepositories(o)).pipe(b.map(this.toJsonArray),b.catchError(function(e){return n.handleError(e)}))},tc.prototype.linkAlfrescoNode=function(e,t,n){var i=this,o=this.apiService.getInstance();return w.from(o.activiti.contentApi.createTemporaryRelatedContent({link:!0,name:t.title,simpleType:t.simpleType,source:e,sourceId:t.id+"@"+n})).pipe(b.map(this.toJson),b.catchError(function(e){return i.handleError(e)}))},tc.prototype.applyAlfrescoNode=function(e,t,n){var i=this,o=this.apiService.getInstance(),r=t||this.getSiteNameFromNodePath(e),a={source:n,mimeType:e.content.mimeType,sourceId:e.id+";"+e.properties["cm:versionLabel"]+"@"+r,name:e.name,link:!1};return w.from(o.activiti.contentApi.createTemporaryRelatedContent(a)).pipe(b.map(this.toJson),b.catchError(function(e){return i.handleError(e)}))},tc.prototype.getSiteNameFromNodePath=function(e){var t="";if(e.path){var n=e.path.elements.find(function(e){return"st:site"===e.nodeType&&"Sites"!==e.name});t=n?n.name:""}return t.toLocaleLowerCase()},tc.prototype.toJson=function(e){return e&&e||{}},tc.prototype.toJsonArray=function(e){return e&&e.data||[]},tc.prototype.handleError=function(e){var t=tc.UNKNOWN_ERROR_MESSAGE;return e&&(t=e.message?e.message:e.status?e.status+" - "+e.statusText:tc.GENERIC_ERROR_MESSAGE),this.logService.error(t),w.throwError(t)},tc.UNKNOWN_ERROR_MESSAGE="Unknown error",tc.GENERIC_ERROR_MESSAGE="Server error",tc.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],tc.ctorParameters=function(){return[{type:$},{type:te}]},tc.ngInjectableDef=D.defineInjectable({factory:function(){return new tc(D.inject($),D.inject(te))},token:tc,providedIn:"root"}),tc);function tc(e,t){this.apiService=e,this.logService=t}var nc,ic=(L(oc,nc=ba),oc.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],oc.ctorParameters=function(){return[]},oc.ngInjectableDef=D.defineInjectable({factory:function(){return new oc},token:oc,providedIn:"root"}),oc);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function oc(){var e=nc.call(this)||this;return e.defaultValue=eu,e.types={text:ya.fromType(xp),string:ya.fromType(xp),integer:ya.fromType(hp),"multi-line-text":ya.fromType(dp),"boolean":ya.fromType(au),dropdown:ya.fromType(bu),date:ya.fromType(pu),amount:ya.fromType(iu),"radio-buttons":ya.fromType(Cp),hyperlink:ya.fromType(up),"readonly-text":ya.fromType(mu),readonly:ya.fromType(xp),typeahead:ya.fromType(Lp),people:ya.fromType(Ep),"functional-group":ya.fromType(ap),"dynamic-table":ya.fromType(Uu),container:ya.fromType(Wl),group:ya.fromType(Wl),document:ya.fromType(gu),upload:ya.fromType(Np),datetime:ya.fromType(Hp)},e}var rc=function If(e,t){this.metadata=e,this.nodeType=t},ac=(sc.prototype.getNodeMetadata=function(e){return w.from(this.apiService.getInstance().nodes.getNode(e)).pipe(b.map(this.cleanMetadataFromSemicolon))},sc.prototype.createNodeMetadata=function(e,t,n,i,o){var r={};for(var a in n)n[a]&&(r[t+":"+a]=n[a]);return this.createNode(o||this.generateUuid(),e,r,i)},sc.prototype.createNode=function(e,t,n,i){var o={name:e,nodeType:t,properties:n,relativePath:i},r=this.apiService.getInstance();return w.from(r.nodes.addNode("-root-",o,{}))},sc.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},sc.prototype.cleanMetadataFromSemicolon=function(e){var t={};if(e&&e.entry.properties)for(var n in e.entry.properties)n&&(-1!==n.indexOf(":")?t[n.split(":")[1]]=e.entry.properties[n]:t[n]=e.entry.properties[n]);return new rc(t,e.entry.nodeType)},sc.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],sc.ctorParameters=function(){return[{type:$}]},sc.ngInjectableDef=D.defineInjectable({factory:function(){return new sc(D.inject($))},token:sc,providedIn:"root"}),sc);function sc(e){this.apiService=e}var lc,uc=(L(pc,lc=ul),pc);function pc(e,t){var n=lc.call(this,e)||this;return n.error=t,n}var cc=(dc.decorators=[{type:D.Directive,args:[{selector:"[adf-form-custom-button], [form-custom-button]"}]}],dc);function dc(){}var mc=(fc.prototype.ngOnInit=function(){var t=this,e=window;e.adf===undefined&&(e.adf={});var n=this.getField();if(n){var i=this.field.form.customFieldTemplates[n.type];if(i&&this.hasController(n.type)){var o=this.getComponentFactorySync(n.type,i);this.componentRef=this.container.createComponent(o),(r=this.componentRef.instance)&&(r.field=n)}else{var r,a=this.formRenderingService.resolveComponentType(n);if(a)o=this.componentFactoryResolver.resolveComponentFactory(a),this.componentRef=this.container.createComponent(o),(r=this.componentRef.instance).field=this.field,r.fieldChanged.subscribe(function(e){e&&t.field.form&&(t.visibilityService.refreshVisibility(e.form),e.form.onFormFieldChanged(e))})}}},fc.prototype.ngOnDestroy=function(){this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},fc.prototype.getField=function(){if(this.field&&this.field.params){var e=this.field.params.field;if(e&&e.type)return e}return this.field},fc.prototype.hasController=function(e){return adf&&adf.components&&adf.components[e]},fc.prototype.getComponentFactorySync=function(e,t){var n=adf.components[e];if(n.factory)return n.factory;var i={selector:"runtime-component-"+e,template:t},o=this.createComponentFactorySync(this.compiler,i,n["class"]);return n.factory=o},fc.prototype.createComponentFactorySync=function(e,t,n){var i=n||function s(){},o=D.Component(t)(i),r=(a.decorators=[{type:D.NgModule,args:[{imports:[],declarations:[o]}]}],a);function a(){}return e.compileModuleAndAllComponentsSync(r).componentFactories.find(function(e){return e.componentType===o})},fc.prototype.focusToggle=function(){this.focus=!this.focus},fc.decorators=[{type:D.Component,args:[{selector:"adf-form-field",template:'\n        <div [id]="\'field-\'+field?.id+\'-container\'"\n            [hidden]="!field?.isVisible"\n            [class.adf-focus]="focus"\n            (focusin)="focusToggle()"\n            (focusout)="focusToggle()">\n            <div #container></div>\n        </div>\n    ',encapsulation:D.ViewEncapsulation.None}]}],fc.ctorParameters=function(){return[{type:ic},{type:D.ComponentFactoryResolver},{type:Iu},{type:D.Compiler}]},fc.propDecorators={container:[{type:D.ViewChild,args:["container",{read:D.ViewContainerRef}]}],field:[{type:D.Input}]},fc);function fc(e,t,n,i){this.formRenderingService=e,this.componentFactoryResolver=t,this.visibilityService=n,this.compiler=i,this.field=null,this.focus=!1}var hc=(gc.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Hi,I.HttpClientModule,Pe,A.TranslateModule.forChild(),S.FormsModule,S.ReactiveFormsModule,Yi,Rt,p.MatDatetimepickerModule,p.MatNativeDatetimeModule],declarations:V([Kp,mc,Xp,Qp,cc],Yp,Gp,[zl]),entryComponents:V(Yp),exports:V([Kp,mc,Xp,Qp,cc],Yp)}]}],gc);function gc(){}var yc=(vc.decorators=[{type:D.Directive,args:[{selector:"adf-sidenav-layout-content"}]}],vc.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},vc);function vc(){}var bc=(Ec.decorators=[{type:D.Directive,args:[{selector:"adf-sidenav-layout-header"}]}],Ec.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},Ec);function Ec(){}var Ic=(wc.decorators=[{type:D.Directive,args:[{selector:"adf-sidenav-layout-navigation"}]}],wc.propDecorators={template:[{type:D.ContentChild,args:[D.TemplateRef]}]},wc);function wc(){}var Cc=(Tc.prototype.ngOnInit=function(){var t=this,e=!this.expandedSidenav;this.menuOpenStateSubject=new w.BehaviorSubject(e),this.menuOpenState$=this.menuOpenStateSubject.asObservable();var n=this.stepOver||Tc.STEP_OVER;this.isMenuMinimized=e,this.mediaQueryList=this.mediaMatcher.matchMedia("(max-width: "+n+"px)"),this.mediaQueryList.addListener(this.onMediaQueryChange),this.userPreferencesService.select("textOrientation").pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.dir=e})},Tc.prototype.ngAfterViewInit=function(){this.templateContext.toggleMenu=this.toggleMenu.bind(this)},Tc.prototype.ngOnDestroy=function(){this.mediaQueryList.removeListener(this.onMediaQueryChange),this.onDestroy$.next(!0),this.onDestroy$.complete()},Tc.prototype.toggleMenu=function(){this.mediaQueryList.matches?this.isMenuMinimized=!1:this.isMenuMinimized=!this.isMenuMinimized,this.container.toggleMenu(),this.expanded.emit(!this.isMenuMinimized)},Object.defineProperty(Tc.prototype,"isMenuMinimized",{get:function(){return this._isMenuMinimized},set:function(e){this._isMenuMinimized=e,this.menuOpenStateSubject.next(!e)},enumerable:!0,configurable:!0}),Object.defineProperty(Tc.prototype,"isHeaderInside",{get:function(){return this.mediaQueryList.matches},enumerable:!0,configurable:!0}),Object.defineProperty(Tc.prototype,"headerTemplate",{get:function(){return this.headerDirective&&this.headerDirective.template||this.emptyTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(Tc.prototype,"navigationTemplate",{get:function(){return this.navigationDirective&&this.navigationDirective.template||this.emptyTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(Tc.prototype,"contentTemplate",{get:function(){return this.contentDirective&&this.contentDirective.template||this.emptyTemplate},enumerable:!0,configurable:!0}),Tc.prototype.onMediaQueryChange=function(){this.isMenuMinimized=!1,this.expanded.emit(!this.isMenuMinimized)},Tc.STEP_OVER=600,Tc.decorators=[{type:D.Component,args:[{selector:"adf-sidenav-layout",template:'<div class="adf-sidenav-layout-full-space">\n    <ng-container *ngIf="!isHeaderInside">\n        <ng-container class="adf-sidenav-layout-outer-header"\n                      *ngTemplateOutlet="headerTemplate; context:templateContext"></ng-container>\n    </ng-container>\n\n    <adf-layout-container #container\n                          [direction]="dir"\n                          [position]="position"\n                          [sidenavMin]="sidenavMin"\n                          [sidenavMax]="sidenavMax"\n                          [mediaQueryList]="mediaQueryList"\n                          [hideSidenav]="hideSidenav"\n                          [expandedSidenav]="expandedSidenav"\n                          data-automation-id="adf-layout-container"\n                          class="adf-layout__content">\n\n        <ng-container app-layout-navigation\n                      *ngTemplateOutlet="navigationTemplate; context:templateContext"></ng-container>\n\n        <ng-container app-layout-content>\n            <ng-container *ngIf="isHeaderInside">\n                <ng-container *ngTemplateOutlet="headerTemplate; context:templateContext"></ng-container>\n            </ng-container>\n            <ng-container *ngTemplateOutlet="contentTemplate; context:templateContext"></ng-container>\n        </ng-container>\n    </adf-layout-container>\n\n    <ng-template #emptyTemplate></ng-template>\n</div>\n',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-sidenav-layout"},styles:[""]}]}],Tc.ctorParameters=function(){return[{type:c.MediaMatcher},{type:Je}]},Tc.propDecorators={position:[{type:D.Input}],sidenavMin:[{type:D.Input}],sidenavMax:[{type:D.Input}],stepOver:[{type:D.Input}],hideSidenav:[{type:D.Input}],expandedSidenav:[{type:D.Input}],expanded:[{type:D.Output}],headerDirective:[{type:D.ContentChild,args:[bc]}],navigationDirective:[{type:D.ContentChild,args:[Ic]}],contentDirective:[{type:D.ContentChild,args:[yc]}],container:[{type:D.ViewChild,args:["container"]}],emptyTemplate:[{type:D.ViewChild,args:["emptyTemplate"]}]},Tc);function Tc(e,t){var n=this;this.mediaMatcher=e,this.userPreferencesService=t,this.dir="ltr",this.position="start",this.hideSidenav=!1,this.expandedSidenav=!0,this.expanded=new D.EventEmitter,this.templateContext={toggleMenu:function(){},isMenuMinimized:function(){return n.isMenuMinimized}},this.onDestroy$=new w.Subject,this.onMediaQueryChange=this.onMediaQueryChange.bind(this)}var Sc=d.trigger("sidenavAnimation",[d.state("expanded",d.style({width:"{{ width }}px"}),{params:{width:0}}),d.state("compact",d.style({width:"{{ width }}px"}),{params:{width:0}}),d.transition("compact <=> expanded",d.animate("0.4s cubic-bezier(0.25, 0.8, 0.25, 1)"))]),Ac=d.trigger("contentAnimationLeft",[d.state("expanded",d.style({"margin-left":"{{ margin-left }}px","margin-right":"{{ margin-right }}px"}),{params:{"margin-left":0,"margin-right":0}}),d.state("compact",d.style({"margin-left":"{{ margin-left }}px","margin-right":"{{ margin-right }}px"}),{params:{"margin-left":0,"margin-right":0}}),d.transition("expanded <=> compact",d.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),Oc=(Dc.prototype.ngOnInit=function(){this.SIDENAV_STATES.MOBILE={value:"expanded",params:{width:this.sidenavMax}},this.SIDENAV_STATES.EXPANDED={value:"expanded",params:{width:this.sidenavMax}},this.SIDENAV_STATES.COMPACT={value:"compact",params:{width:this.sidenavMin}},this.CONTENT_STATES.MOBILE={value:"expanded"},this.mediaQueryList.addListener(this.onMediaQueryChange),this.isMobileScreenSize?(this.sidenavAnimationState=this.SIDENAV_STATES.MOBILE,this.contentAnimationState=this.CONTENT_STATES.MOBILE):(this.expandedSidenav?this.sidenavAnimationState=this.SIDENAV_STATES.EXPANDED:this.sidenavAnimationState=this.SIDENAV_STATES.COMPACT,this.contentAnimationState=this.toggledContentAnimation)},Dc.prototype.ngOnDestroy=function(){this.mediaQueryList.removeListener(this.onMediaQueryChange)},Dc.prototype.ngOnChanges=function(e){e&&e.direction&&(this.contentAnimationState=this.toggledContentAnimation)},Dc.prototype.toggleMenu=function(){this.isMobileScreenSize?this.sidenav.toggle():(this.sidenavAnimationState=this.toggledSidenavAnimation,this.contentAnimationState=this.toggledContentAnimation)},Object.defineProperty(Dc.prototype,"isMobileScreenSize",{get:function(){return this.mediaQueryList.matches},enumerable:!0,configurable:!0}),Dc.prototype.getContentAnimationState=function(){return this.contentAnimationState},Object.defineProperty(Dc.prototype,"toggledSidenavAnimation",{get:function(){return this.sidenavAnimationState===this.SIDENAV_STATES.EXPANDED?this.SIDENAV_STATES.COMPACT:this.SIDENAV_STATES.EXPANDED},enumerable:!0,configurable:!0}),Object.defineProperty(Dc.prototype,"toggledContentAnimation",{get:function(){if(this.isMobileScreenSize)return this.CONTENT_STATES.MOBILE;if(this.sidenavAnimationState===this.SIDENAV_STATES.EXPANDED){if("start"===this.position&&"ltr"===this.direction)return{value:"compact",params:{"margin-left":this.sidenavMax}};if("start"===this.position&&"rtl"===this.direction)return{value:"compact",params:{"margin-right":this.sidenavMax}};if("end"===this.position&&"ltr"===this.direction)return{value:"compact",params:{"margin-right":this.sidenavMax}};if("end"===this.position&&"rtl"===this.direction)return{value:"compact",params:{"margin-left":this.sidenavMax}}}else{if("start"===this.position&&"ltr"===this.direction)return{value:"expanded",params:{"margin-left":this.sidenavMin}};if("start"===this.position&&"rtl"===this.direction)return{value:"expanded",params:{"margin-right":this.sidenavMin}};if("end"===this.position&&"ltr"===this.direction)return{value:"expanded",params:{"margin-right":this.sidenavMin}};if("end"===this.position&&"rtl"===this.direction)return{value:"expanded",params:{"margin-left":this.sidenavMin}}}},enumerable:!0,configurable:!0}),Dc.prototype.onMediaQueryChange=function(){this.sidenavAnimationState=this.SIDENAV_STATES.EXPANDED,this.contentAnimationState=this.toggledContentAnimation},Dc.decorators=[{type:D.Component,args:[{selector:"adf-layout-container",template:'<mat-sidenav-container>\n    <mat-sidenav\n        [position]="position"\n        [disableClose]="!isMobileScreenSize"\n        [ngClass]="{ \'adf-sidenav--hidden\': hideSidenav }"\n        [@sidenavAnimation]="sidenavAnimationState"\n        [opened]="!isMobileScreenSize"\n        [mode]="isMobileScreenSize ? \'over\' : \'side\'">\n        <ng-content sidenav select="[app-layout-navigation]"></ng-content>\n    </mat-sidenav>\n\n    <div>\n        <div class="adf-container-full-width" [@contentAnimationLeft]="getContentAnimationState()">\n            <ng-content select="[app-layout-content]"></ng-content>\n        </div>\n    </div>\n</mat-sidenav-container>\n',encapsulation:D.ViewEncapsulation.None,animations:[Sc,Ac],styles:[""]}]}],Dc.ctorParameters=function(){return[]},Dc.propDecorators={sidenavMin:[{type:D.Input}],sidenavMax:[{type:D.Input}],mediaQueryList:[{type:D.Input}],hideSidenav:[{type:D.Input}],expandedSidenav:[{type:D.Input}],position:[{type:D.Input}],direction:[{type:D.Input}],sidenav:[{type:D.ViewChild,args:[v.MatSidenav]}]},Dc);function Dc(){this.hideSidenav=!1,this.expandedSidenav=!0,this.position="start",this.direction="ltr",this.SIDENAV_STATES={MOBILE:{},EXPANDED:{},COMPACT:{}},this.CONTENT_STATES={MOBILE:{},EXPANDED:{},COMPACT:{}},this.onMediaQueryChange=this.onMediaQueryChange.bind(this)}var xc=(Rc.prototype.isExpanded=function(){return this.expanded},Rc.decorators=[{type:D.Component,args:[{selector:"adf-sidebar-action-menu",template:'<div class="adf-sidebar-action-menu">\n    <button *ngIf="isExpanded()" mat-raised-button class="adf-sidebar-action-menu-button" data-automation-id="create-button" [matMenuTriggerFor]="adfSidebarMenu">\n        <span *ngIf="title" class="adf-sidebar-action-menu-text">{{ title }}</span>\n        <ng-content select="[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]"></ng-content>\n    </button>\n\n    <div *ngIf="!isExpanded()" class="adf-sidebar-action-menu-icon" [matMenuTriggerFor]="adfSidebarMenu">\n        <ng-content select="[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]"></ng-content>\n    </div>\n\n    <mat-menu #adfSidebarMenu="matMenu" class="adf-sidebar-action-menu-panel" [overlapTrigger]="false" yPosition="below">\n        <div class="adf-sidebar-action-menu-options" [style.width.px]="width">\n            <ng-content select="[adf-sidebar-menu-options], [sidebar-menu-options]"></ng-content>\n        </div>\n    </mat-menu>\n</div>\n',changeDetection:D.ChangeDetectionStrategy.OnPush,encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-sidebar-action-menu"},styles:[""]}]}],Rc.propDecorators={title:[{type:D.Input}],expanded:[{type:D.Input}],width:[{type:D.Input}]},Rc);function Rc(){this.width=272}var Pc=(Lc.decorators=[{type:D.Directive,args:[{selector:"[adf-sidebar-menu-options], [sidebar-menu-options]"}]}],Lc);function Lc(){}var Fc=(_c.decorators=[{type:D.Directive,args:[{selector:"[adf-sidebar-menu-title-icon], [sidebar-menu-title-icon]"}]}],_c);function _c(){}var kc=(Mc.decorators=[{type:D.Directive,args:[{selector:"[adf-sidebar-menu-expand-icon], [sidebar-menu-expand-icon]"}]}],Mc);function Mc(){}var Nc=(Vc.prototype.toggleMenu=function(){this.clicked.emit(!0)},Vc.prototype.ngOnInit=function(){this.logo||(this.logo="./assets/images/logo.png")},Vc.decorators=[{type:D.Component,args:[{selector:"adf-layout-header",template:'<mat-toolbar\n    [color]="color"\n    [style.background-color]="color"\n    role="heading"\n    aria-level="1">\n    <button\n        *ngIf="showSidenavToggle && position === \'start\'"\n        id="adf-sidebar-toggle-start"\n        data-automation-id="adf-menu-icon"\n        class="mat-icon-button adf-menu-icon"\n        mat-icon-button\n        (click)="toggleMenu()"\n        aria-label="Toggle Menu">\n        <mat-icon\n            class="mat-icon material-icon"\n            role="img"\n            aria-hidden="true">menu</mat-icon>\n    </button>\n\n    <a [routerLink]="redirectUrl" title="{{ tooltip }}">\n        <img\n            src="{{ logo }}"\n            class="adf-app-logo"\n            alt="{{ \'CORE.HEADER.LOGO_ARIA\' | translate }}"\n        />\n    </a>\n\n    <span\n        [routerLink]="redirectUrl"\n        fxFlex="1 1 auto"\n        fxShow\n        fxHide.lt-sm="true"\n        class="adf-app-title"\n        >{{ title }}</span>\n    <ng-content></ng-content>\n\n    <button\n        *ngIf="showSidenavToggle && position === \'end\'"\n        id="adf-sidebar-toggle-end"\n        data-automation-id="adf-menu-icon"\n        class="mat-icon-button adf-menu-icon"\n        mat-icon-button\n        (click)="toggleMenu()"\n        aria-label="Toggle Menu">\n        <mat-icon\n            class="mat-icon material-icon"\n            role="img"\n            aria-hidden="true">menu</mat-icon>\n    </button>\n</mat-toolbar>\n',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-layout-header"}}]}],Vc.propDecorators={title:[{type:D.Input}],logo:[{type:D.Input}],redirectUrl:[{type:D.Input}],tooltip:[{type:D.Input}],color:[{type:D.Input}],showSidenavToggle:[{type:D.Input}],clicked:[{type:D.Output}],position:[{type:D.Input}]},Vc);function Vc(){this.redirectUrl="/",this.showSidenavToggle=!0,this.clicked=new D.EventEmitter,this.position="start"}var Uc=(jc.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,f.RouterModule,A.TranslateModule.forChild()],exports:[bc,yc,Ic,Cc,Oc,xc,Pc,kc,Fc,Nc],declarations:[bc,yc,Ic,Cc,Oc,xc,Pc,kc,Fc,Nc]}]}],jc);function jc(){}var Bc=(Hc.prototype.ngOnInit=function(){var t=this;this.userPreferenceService.select(Ke.Locale).pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){return t.currentLocale=e})},Hc.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},Hc.prototype.selectComment=function(e){this.selectedComment&&(this.selectedComment.isSelected=!1),e.isSelected=!0,this.selectedComment=e,this.clickRow.emit(this.selectedComment)},Hc.prototype.getUserShortName=function(e){var t="";return e&&(e.firstName&&(t=e.firstName[0].toUpperCase()),e.lastName&&(t+=e.lastName[0].toUpperCase())),t},Hc.prototype.isPictureDefined=function(e){return e.pictureId||e.avatarId},Hc.prototype.getUserImage=function(e){return this.isAContentUsers(e)?this.ecmUserService.getUserProfileImage(e.avatarId):this.peopleProcessService.getUserImage(e)},Hc.prototype.isAContentUsers=function(e){return e.avatarId},Hc.decorators=[{type:D.Component,args:[{selector:"adf-comment-list",template:' <mat-list class="adf-comment-list">\n    <mat-list-item *ngFor="let comment of comments"\n                  (click)="selectComment(comment)"\n                  class="adf-comment-list-item"\n                  [class.adf-is-selected]="comment.isSelected"\n                  id="adf-comment-{{comment?.id}}">\n        <div id="comment-user-icon" class="adf-comment-img-container">\n            <div\n                *ngIf="!isPictureDefined(comment.createdBy)"\n                class="adf-comment-user-icon">\n                {{getUserShortName(comment.createdBy)}}\n            </div>\n            <div>\n                <img [alt]="comment.createdBy" *ngIf="isPictureDefined(comment.createdBy)"\n                      class="adf-people-img"\n                     [src]="getUserImage(comment.createdBy)" />\n            </div>\n        </div>\n        <div class="adf-comment-contents">\n            <div matLine id="comment-user" class="adf-comment-user-name">\n                {{comment.createdBy?.firstName}} {{comment.createdBy?.lastName}}\n            </div>\n            <div matLine id="comment-message" class="adf-comment-message" [innerHTML]="comment.message"></div>\n            <div matLine id="comment-time" class="adf-comment-message-time">\n                {{ comment.created | adfTimeAgo: currentLocale }}\n            </div>\n        </div>\n    </mat-list-item>\n</mat-list>\n',encapsulation:D.ViewEncapsulation.None,styles:[""]}]}],Hc.ctorParameters=function(){return[{type:yp},{type:zo},{type:Je}]},Hc.propDecorators={comments:[{type:D.Input}],clickRow:[{type:D.Output}]},Hc);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hc(e,t,n){this.peopleProcessService=e,this.ecmUserService=t,this.userPreferenceService=n,this.clickRow=new D.EventEmitter,this.onDestroy$=new w.Subject}var zc=function wf(e){e&&(this.id=e.id,this.message=e.message,this.created=e.created,this.createdBy=e.createdBy,this.isSelected=!!e.isSelected&&e.isSelected)},Yc=function Cf(e){e&&(this.id=e.id,this.email=e.email||null,this.firstName=e.firstName||null,this.lastName=e.lastName||null,this.pictureId=e.pictureId||null,this.externalId=e.externalId||null)},Gc=(qc.prototype.addTaskComment=function(e,t){var n=this;return w.from(this.apiService.getInstance().activiti.taskApi.addTaskComment({message:t},e)).pipe(b.map(function(e){return new zc({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})}),b.catchError(function(e){return n.handleError(e)}))},qc.prototype.getTaskComments=function(e){var t=this;return w.from(this.apiService.getInstance().activiti.taskApi.getTaskComments(e)).pipe(b.map(function(e){var n=[];return e.data.forEach(function(e){var t=new Yc(e.createdBy);n.push(new zc({id:e.id,message:e.message,created:e.created,createdBy:t}))}),n}),b.catchError(function(e){return t.handleError(e)}))},qc.prototype.getProcessInstanceComments=function(e){var t=this;return w.from(this.apiService.getInstance().activiti.commentsApi.getProcessInstanceComments(e)).pipe(b.map(function(e){var n=[];return e.data.forEach(function(e){var t=new Yc(e.createdBy);n.push(new zc({id:e.id,message:e.message,created:e.created,createdBy:t}))}),n}),b.catchError(function(e){return t.handleError(e)}))},qc.prototype.addProcessInstanceComment=function(e,t){var n=this;return w.from(this.apiService.getInstance().activiti.commentsApi.addProcessInstanceComment({message:t},e)).pipe(b.map(function(e){return new zc({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})}),b.catchError(function(e){return n.handleError(e)}))},qc.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},qc.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],qc.ctorParameters=function(){return[{type:$},{type:te}]},qc.ngInjectableDef=D.defineInjectable({factory:function(){return new qc(D.inject($),D.inject(te))},token:qc,providedIn:"root"}),qc);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qc(e,t){this.apiService=e,this.logService=t}var $c=(Xc.prototype.addNodeComment=function(e,t){var n=this;return w.from(this.apiService.getInstance().core.commentsApi.addComment(e,{content:t})).pipe(b.map(function(e){return new zc({id:e.entry.id,message:e.entry.content,created:e.entry.createdAt,createdBy:e.entry.createdBy})}),b.catchError(function(e){return n.handleError(e)}))},Xc.prototype.getNodeComments=function(e){var t=this;return w.from(this.apiService.getInstance().core.commentsApi.getComments(e)).pipe(b.map(function(e){var t=[];return e.list.entries.forEach(function(e){t.push(new zc({id:e.entry.id,message:e.entry.content,created:e.entry.createdAt,createdBy:e.entry.createdBy}))}),t}),b.catchError(function(e){return t.handleError(e)}))},Xc.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},Xc.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Xc.ctorParameters=function(){return[{type:$},{type:te}]},Xc.ngInjectableDef=D.defineInjectable({factory:function(){return new Xc(D.inject($),D.inject(te))},token:Xc,providedIn:"root"}),Xc);function Xc(e,t){this.apiService=e,this.logService=t}var Wc=(Kc.prototype.ngOnChanges=function(e){this.taskId=null,this.nodeId=null,this.taskId=e.taskId?e.taskId.currentValue:null,this.nodeId=e.nodeId?e.nodeId.currentValue:null,this.taskId||this.nodeId?this.getComments():this.resetComments()},Kc.prototype.getComments=function(){var t=this;this.resetComments(),this.isATask()&&this.commentProcessService.getTaskComments(this.taskId).subscribe(function(e){e&&e instanceof Array&&(e=e.sort(function(e,t){var n=new Date(e.created),i=new Date(t.created);return i<n?-1:n<i?1:0})).forEach(function(e){t.commentObserver.next(e)})},function(e){t.error.emit(e)}),this.isANode()&&this.commentContentService.getNodeComments(this.nodeId).subscribe(function(e){e&&e instanceof Array&&(e=e.sort(function(e,t){var n=new Date(e.created),i=new Date(t.created);return i<n?-1:n<i?1:0})).forEach(function(e){t.commentObserver.next(e)})},function(e){t.error.emit(e)})},Kc.prototype.resetComments=function(){this.comments=[]},Kc.prototype.add=function(){var t=this;if(this.message&&this.message.trim()&&!this.beingAdded){var e=this.sanitize(this.message);this.beingAdded=!0,this.isATask()&&this.commentProcessService.addTaskComment(this.taskId,e).subscribe(function(e){t.comments.unshift(e),t.message="",t.beingAdded=!1},function(e){t.error.emit(e),t.beingAdded=!1}),this.isANode()&&this.commentContentService.addNodeComment(this.nodeId,e).subscribe(function(e){t.comments.unshift(e),t.message="",t.beingAdded=!1},function(e){t.error.emit(e),t.beingAdded=!1})}},Kc.prototype.clear=function(){this.message=""},Kc.prototype.isReadOnly=function(){return this.readOnly},Kc.prototype.isATask=function(){return!!this.taskId},Kc.prototype.isANode=function(){return!!this.nodeId},Kc.prototype.sanitize=function(e){return e.replace(/<[^>]+>/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"").replace(/\r?\n/g,"<br/>")},Kc.decorators=[{type:D.Component,args:[{selector:"adf-comments",template:'<div class="adf-comments-container">\n    <div id="comment-header" class="adf-comments-header">\n        {{\'COMMENTS.HEADER\' | translate: { count: comments?.length} }}\n    </div>\n    <div class="adf-comments-input-container" *ngIf="!isReadOnly()">\n            <mat-form-field class="adf-full-width">\n                <textarea (keyup.escape)="clear()" matInput id="comment-input" placeholder="{{\'COMMENTS.ADD\' | translate}}" [(ngModel)]="message"></textarea>\n            </mat-form-field>\n\n            <div class="adf-comments-input-actions">\n                <button mat-button\n                    class="adf-comments-input-add"\n                    data-automation-id="comments-input-add"\n                    color="primary"\n                    (click)="add()"\n                    [disabled]="!message">\n                    {{ \'COMMENTS.ADD\' | translate }}\n                </button>\n            </div>\n    </div>\n\n    <div *ngIf="comments.length > 0">\n        <adf-comment-list [comments]="comments">\n        </adf-comment-list>\n    </div>\n</div>',styles:[""]}]}],Kc.ctorParameters=function(){return[{type:Gc},{type:$c}]},Kc.propDecorators={taskId:[{type:D.Input}],nodeId:[{type:D.Input}],readOnly:[{type:D.Input}],error:[{type:D.Output}]},Kc);function Kc(e,t){var n=this;this.commentProcessService=e,this.commentContentService=t,this.readOnly=!1,this.error=new D.EventEmitter,this.comments=[],this.beingAdded=!1,this.comment$=new w.Observable(function(e){return n.commentObserver=e}).pipe(b.share()),this.comment$.subscribe(function(e){n.comments.push(e)})}var Jc=(Qc.decorators=[{type:D.NgModule,args:[{imports:[Rt,Yi,Hi,S.FormsModule,S.ReactiveFormsModule,Pe,T.CommonModule,A.TranslateModule.forChild()],declarations:[Bc,Wc],exports:[Bc,Wc]}]}],Qc);function Qc(){}var Zc=(ed.prototype.ngAfterContentInit=function(){0<this.buttons.length?this.isMenuEmpty=!1:this.isMenuEmpty=!0},ed.prototype.isMobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},ed.decorators=[{type:D.Component,args:[{selector:"adf-buttons-action-menu",template:'<div id="adf-buttons-menu" class="adf-buttons-menu" *ngIf="!isMenuEmpty">\n    <div *ngIf="isMobile()">\n        <button mat-icon-button [matMenuTriggerFor]="editReportMenu">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #editReportMenu="matMenu" class="adf-buttons-menu-mobile">\n            <ng-content *ngTemplateOutlet="desktop">\n            </ng-content>\n        </mat-menu>\n    </div>\n\n    <div *ngIf="!isMobile()" class="adf-buttons-menu-desktop">\n        <ng-content *ngTemplateOutlet="desktop">\n        </ng-content>\n    </div>\n</div>\n\n<ng-template #desktop>\n    <ng-content></ng-content>\n</ng-template>',styles:[""]}]}],ed.propDecorators={buttons:[{type:D.ContentChildren,args:[v.MatMenuItem]}]},ed);function ed(){}var td=(nd.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild(),m.FlexLayoutModule],declarations:[Zc],exports:[Zc]}]}],nd);function nd(){}var id=(od.prototype.onOptionChanged=function(e){this.selected=e.value,this.valueChange.emit(this.selected)},od.prototype.toggleSortDirection=function(){this.ascending=!this.ascending,this.sortingChange.emit(this.ascending)},od.decorators=[{type:D.Component,args:[{selector:"adf-sorting-picker",template:'<mat-form-field>\n    <mat-select [(value)]="selected" (selectionChange)="onOptionChanged($event)">\n        <mat-option *ngFor="let option of options" [value]="option.key">\n            {{ option.label | translate }}\n        </mat-option>\n    </mat-select>\n</mat-form-field>\n\n<button *ngIf="selected" mat-icon-button (click)="toggleSortDirection()">\n    <mat-icon *ngIf="ascending">arrow_upward</mat-icon>\n    <mat-icon *ngIf="!ascending">arrow_downward</mat-icon>\n</button>\n',encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-sorting-picker"}}]}],od.propDecorators={options:[{type:D.Input}],selected:[{type:D.Input}],ascending:[{type:D.Input}],valueChange:[{type:D.Output}],sortingChange:[{type:D.Output}]},od);function od(){this.options=[],this.ascending=!0,this.valueChange=new D.EventEmitter,this.sortingChange=new D.EventEmitter}var rd=(ad.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild()],declarations:[id],exports:[id]}]}],ad);function ad(){}var sd=(ld.prototype.ngOnInit=function(){var t=this;this.route&&this.route.params.forEach(function(e){e.id&&(t.errorCode=t.checkErrorExists(e.id)?e.id:ld.UNKNOWN_ERROR)})},ld.prototype.checkErrorExists=function(e){return this.translateService.instant("ERROR_CONTENT."+e)!=="ERROR_CONTENT."+e},ld.prototype.getTranslations=function(){this.hasSecondButton=!!this.translateService.instant("ERROR_CONTENT."+this.errorCode+".SECONDARY_BUTTON.TEXT")},ld.prototype.ngAfterContentChecked=function(){this.getTranslations()},ld.prototype.onSecondButton=function(){this.router.navigate(["/"+this.secondaryButtonUrl])},ld.prototype.onReturnButton=function(){this.router.navigate(["/"+this.returnButtonUrl])},ld.UNKNOWN_ERROR="UNKNOWN",ld.decorators=[{type:D.Component,args:[{selector:"adf-error-content",template:'<div class="adf-error-content">\n    <p class="adf-error-content-code">\n        {{ errorCode }}\n    </p>\n    <div class="adf-error-content-shadow"></div>\n    <p class="adf-error-content-title">\n        {{ \'ERROR_CONTENT.\' + errorCode + \'.TITLE\' | translate }}\n    </p>\n    <p class="adf-error-content-description">\n        {{ \'ERROR_CONTENT.\' + errorCode + \'.DESCRIPTION\' | translate }}\n    </p>\n    <div class="adf-error-content-buttons">\n        <a a id="adf-secondary-button" mat-raised-button color="primary"\n            *ngIf="hasSecondButton" (click)="onSecondButton()"\n            class="adf-error-content-description-link">\n            {{ \'ERROR_CONTENT.\' + errorCode + \'.SECONDARY_BUTTON.TEXT\' | translate | uppercase }}\n        </a>\n        <a id="adf-return-button" mat-raised-button color="primary" (click)="onReturnButton()">\n            {{ \'ERROR_CONTENT.\' + this.errorCode + \'.RETURN_BUTTON.TEXT\' | translate | uppercase }}\n        </a>\n    </div>\n</div>\n',changeDetection:D.ChangeDetectionStrategy.OnPush,encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-error-content"},styles:[""]}]}],ld.ctorParameters=function(){return[{type:f.ActivatedRoute},{type:f.Router},{type:et}]},ld.propDecorators={secondaryButtonUrl:[{type:D.Input}],returnButtonUrl:[{type:D.Input}],errorCode:[{type:D.Input}]},ld);function ld(e,t,n){this.route=e,this.router=t,this.translateService=n,this.secondaryButtonUrl="report-issue",this.returnButtonUrl="/",this.errorCode=ld.UNKNOWN_ERROR}var ud=(pd.decorators=[{type:D.Component,args:[{selector:"adf-empty-content",template:'<div class="adf-empty-content">\n    <mat-icon class="adf-empty-content__icon">{{ icon }}</mat-icon>\n    <div class="adf-empty-content__title">{{ title | translate }}</div>\n    <div class="adf-empty-content__subtitle">{{ subtitle | translate }}</div>\n    <ng-content></ng-content>\n</div>\n',changeDetection:D.ChangeDetectionStrategy.OnPush,encapsulation:D.ViewEncapsulation.None,host:{"class":"adf-empty-content"},styles:[""]}]}],pd.propDecorators={icon:[{type:D.Input}],title:[{type:D.Input}],subtitle:[{type:D.Input}]},pd);function pd(){this.icon="cake",this.title="",this.subtitle=""}var cd=(dd.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild()],declarations:[sd,ud],exports:[sd,ud]}]}],dd);function dd(){}var md=(Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return this.appConfigService.get("auth.withCredentials",!1)},enumerable:!0,configurable:!0}),fd.prototype.canActivate=function(e,t){return this.checkLogin(e,t.url)},fd.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},fd.prototype.redirectToUrl=function(e,t){this.authenticationService.setRedirect({provider:e,url:t});var n="/"+this.getLoginRoute()+"?redirectUrl="+t;this.router.navigateByUrl(n)},fd.prototype.getLoginRoute=function(){return this.appConfigService&&this.appConfigService.get(B.LOGIN_ROUTE,"login")},fd.prototype.isOAuthWithoutSilentLogin=function(){var e=this.appConfigService.get(B.OAUTHCONFIG,null);return this.authenticationService.isOauth()&&!1===e.silentLogin},fd);function fd(e,t,n){this.authenticationService=e,this.router=t,this.appConfigService=n}var hd,gd=(L(yd,hd=md),yd.prototype.ticketChange=function(e){"ticket-ECM"===e.key&&e.newValue!==e.oldValue&&this.ticketChangeRedirect(e,"ECM"),"ticket-BPM"===e.key&&e.newValue!==e.oldValue&&this.ticketChangeRedirect(e,"BPM"),e.key===ie.USER_ACCESS_TOKEN&&this.jwtHelperService.getValueFromToken(e.newValue,ie.USER_PREFERRED_USERNAME)!==this.jwtHelperService.getValueFromToken(e.oldValue,ie.USER_PREFERRED_USERNAME)&&this.ticketChangeRedirect(e,"ALL")},yd.prototype.ticketChangeRedirect=function(e,t){e.newValue?window.location.reload():this.redirectToUrl(t,this.router.url),window.removeEventListener("storage",this.ticketChangeBind)},yd.prototype.checkLogin=function(e,t){return!(!this.authenticationService.isLoggedIn()&&!this.withCredentials&&(this.authenticationService.isOauth()&&!this.isOAuthWithoutSilentLogin()||this.redirectToUrl("ALL",t),1))},yd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],yd.ctorParameters=function(){return[{type:ie},{type:ae},{type:f.Router},{type:z}]},yd.ngInjectableDef=D.defineInjectable({factory:function(){return new yd(D.inject(ie),D.inject(ae),D.inject(f.Router),D.inject(z))},token:yd,providedIn:"root"}),yd);function yd(e,t,n,i){var o=hd.call(this,t,n,i)||this;return o.jwtHelperService=e,o.ticketChangeBind=o.ticketChange.bind(o),window.addEventListener("storage",o.ticketChangeBind),o}var vd,bd=(L(Ed,vd=md),Ed.prototype.checkLogin=function(e,t){return!(!this.authenticationService.isEcmLoggedIn()&&!this.withCredentials&&(this.authenticationService.isOauth()&&!this.isOAuthWithoutSilentLogin()||this.redirectToUrl("ECM",t),1))},Ed.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Ed.ctorParameters=function(){return[{type:ae},{type:f.Router},{type:z}]},Ed.ngInjectableDef=D.defineInjectable({factory:function(){return new Ed(D.inject(ae),D.inject(f.Router),D.inject(z))},token:Ed,providedIn:"root"}),Ed);function Ed(e,t,n){return vd.call(this,e,t,n)||this}var Id,wd=(L(Cd,Id=md),Cd.prototype.checkLogin=function(e,t){return!(!this.authenticationService.isBpmLoggedIn()&&!this.withCredentials&&(this.authenticationService.isOauth()&&!this.isOAuthWithoutSilentLogin()||this.redirectToUrl("BPM",t),1))},Cd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Cd.ctorParameters=function(){return[{type:ae},{type:f.Router},{type:z}]},Cd.ngInjectableDef=D.defineInjectable({factory:function(){return new Cd(D.inject(ae),D.inject(f.Router),D.inject(z))},token:Cd,providedIn:"root"}),Cd);function Cd(e,t,n){return Id.call(this,e,t,n)||this}var Td=(Sd.prototype.canActivate=function(e,t){var n,i=!1,o=!0;if(e.data){if(e.data.roles){var r=e.data.roles;i=this.hasRealmRoles(r)}if(e.data.clientRoles){var a=e.params[e.data.clientRoles];r=e.data.roles,o=this.hasRealmRolesForClientRole(a,r)}}return!(n=i&&o)&&e.data&&e.data.redirectUrl&&this.router.navigate(["/"+e.data.redirectUrl]),n},Sd.prototype.getRealmRoles=function(){var e=this.jwtHelperService.getValueFromLocalAccessToken("realm_access");return e?e.roles:[]},Sd.prototype.getClientRoles=function(e){var t=this.jwtHelperService.getValueFromLocalAccessToken("resource_access")[e];return t?t.roles:[]},Sd.prototype.hasRealmRole=function(t){var e=!1;return this.jwtHelperService.getAccessToken()&&(e=this.getRealmRoles().some(function(e){return e===t})),e},Sd.prototype.hasRealmRoles=function(e){var t=this;return e.some(function(e){return t.hasRealmRole(e)})},Sd.prototype.hasRealmRolesForClientRole=function(t,e){var n=this;return e.some(function(e){return n.hasClientRole(t,e)})},Sd.prototype.hasClientRole=function(e,t){var n=!1;return this.jwtHelperService.getAccessToken()&&(n=this.getClientRoles(e).some(function(e){return e===t})),n},Sd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Sd.ctorParameters=function(){return[{type:ie},{type:f.Router}]},Sd.ngInjectableDef=D.defineInjectable({factory:function(){return new Sd(D.inject(ie),D.inject(f.Router))},token:Sd,providedIn:"root"}),Sd);function Sd(e,t){this.jwtHelperService=e,this.router=t}var Ad=(Od.prototype.getDeployedApplications=function(){var t=this;return w.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).pipe(b.map(function(e){return e.data}),b.catchError(function(e){return t.handleError(e)}))},Od.prototype.getDeployedApplicationsByName=function(t){var n=this;return w.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).pipe(b.map(function(e){return e.data.find(function(e){return e.name===t})}),b.catchError(function(e){return n.handleError(e)}))},Od.prototype.getApplicationDetailsById=function(t){var n=this;return w.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).pipe(b.map(function(e){return e.data.find(function(e){return e.id===t})}),b.catchError(function(e){return n.handleError(e)}))},Od.prototype.handleError=function(e){return this.logService.error(e),w.throwError(e||"Server error")},Od.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Od.ctorParameters=function(){return[{type:$},{type:te}]},Od.ngInjectableDef=D.defineInjectable({factory:function(){return new Od(D.inject($),D.inject(te))},token:Od,providedIn:"root"}),Od);function Od(e,t){this.apiService=e,this.logService=t}var Dd=(xd.prototype.setTitle=function(e){void 0===e&&(e=""),this.originalTitle=e,this.translatedTitle=this.translationService.instant(e),this.updateTitle()},xd.prototype.onLanguageChanged=function(){this.translatedTitle=this.translationService.instant(this.originalTitle),this.updateTitle()},xd.prototype.updateTitle=function(){var e=this.appConfig.get("application.name")||"Alfresco ADF Application",t=this.translatedTitle?this.translatedTitle+" - "+e:""+e;this.titleService.setTitle(t)},xd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],xd.ctorParameters=function(){return[{type:R.Title},{type:z},{type:et}]},xd.ngInjectableDef=D.defineInjectable({factory:function(){return new xd(D.inject(R.Title),D.inject(z),D.inject(et))},token:xd,providedIn:"root"}),xd);function xd(e,t,n){var i=this;this.titleService=e,this.appConfig=t,this.translationService=n,this.originalTitle="",this.translatedTitle="",n.translate.onLangChange.subscribe(function(){return i.onLanguageChanged()}),n.translate.onTranslationChange.subscribe(function(){return i.onLanguageChanged()})}var Rd=(Pd.prototype.getAvailableRenditionForNode=function(e){return w.from(this.apiService.renditionsApi.getRenditions(e)).pipe(b.map(function(e){var t=e.list.entries.filter(function(e){return"pdf"===e.entry.id||"imgpreview"===e.entry.id}),n=t.find(function(e){return"CREATED"===e.entry.status});return n||t[0]}))},Pd.prototype.generateRenditionForNode=function(t){var n=this;return this.getAvailableRenditionForNode(t).pipe(b.map(function(e){return"CREATED"!==e.entry.status?w.from(n.apiService.renditionsApi.createRendition(t,{id:e.entry.id})):w.empty()}))},Pd.prototype.isRenditionAvailable=function(e,t){var i=this;return new w.Observable(function(n){i.getRendition(e,t).subscribe(function(e){var t=!0;"NOT_CREATED"===e.entry.status.toString()&&(t=!1),n.next(t),n.complete()},function(){n.next(!1),n.complete()})})},Pd.prototype.isConversionPossible=function(t,n){var i=this;return new w.Observable(function(e){i.getRendition(t,n).subscribe(function(){e.next(!0),e.complete()},function(){e.next(!1),e.complete()})})},Pd.prototype.getRenditionUrl=function(e,t){return this.apiService.contentApi.getRenditionUrl(e,t)},Pd.prototype.getRendition=function(e,t){return w.from(this.apiService.renditionsApi.getRendition(e,t))},Pd.prototype.getRenditionsListByNodeId=function(e){return w.from(this.apiService.renditionsApi.getRenditions(e))},Pd.prototype.createRendition=function(e,t){return w.from(this.apiService.renditionsApi.createRendition(e,{id:t}))},Pd.prototype.convert=function(e,t,n,i){var o=this;return void 0===n&&(n=1e3),void 0===i&&(i=5),this.createRendition(e,t).pipe(b.concatMap(function(){return o.pollRendition(e,t,n,i)}))},Pd.prototype.pollRendition=function(e,t,n,i){var o=this;void 0===n&&(n=1e3),void 0===i&&(i=5);var r=0;return w.interval(n).pipe(b.switchMap(function(){return o.getRendition(e,t)}),b.takeWhile(function(e){return!(i<(r+=1))&&"CREATED"!==e.entry.status.toString()}))},Pd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Pd.ctorParameters=function(){return[{type:$}]},Pd.ngInjectableDef=D.defineInjectable({factory:function(){return new Pd(D.inject($))},token:Pd,providedIn:"root"}),Pd);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Pd(e){this.apiService=e}var Ld=function Tf(e){this.name=e&&e.name,this.path=e&&e.path,this.json=e&&e.json||[]},Fd=(_d.prototype.setDefaultLang=function(e){this.defaultLang=e||"en"},_d.prototype.registerProvider=function(t,e){var n=this.providers.find(function(e){return e.name===t});n?n.path=e:this.providers.push(new Ld({name:t,path:e}))},_d.prototype.providerRegistered=function(t){return!!this.providers.find(function(e){return e.name===t})},_d.prototype.fetchLanguageFile=function(n,i,o){var r=this,a=o||i.path+"/"+this.prefix+"/"+n+this.suffix+"?v="+Date.now();return this.http.get(a).pipe(b.map(function(e){i.json[n]=e}),b.retry(3),b.catchError(function(){if(!o&&n.includes("-")){var e=N(n.split("-"),1)[0];if(e&&e!==r.defaultLang){var t=i.path+"/"+r.prefix+"/"+e+r.suffix+"?v="+Date.now();return r.fetchLanguageFile(n,i,t)}}return w.throwError("Failed to load "+a)}))},_d.prototype.getComponentToFetch=function(t){var n=this,i=[];return this.queue[t]||(this.queue[t]=[]),this.providers.forEach(function(e){n.isComponentInQueue(t,e.name)||(n.queue[t].push(e.name),i.push(n.fetchLanguageFile(t,e)))}),i},_d.prototype.init=function(e){this.queue[e]===undefined&&(this.queue[e]=[])},_d.prototype.isComponentInQueue=function(e,t){return!!(this.queue[e]||[]).find(function(e){return e===t})},_d.prototype.getFullTranslationJSON=function(t){var n={};return this.providers.slice(0).sort(function(e,t){return"app"===e.name?1:"app"===t.name?-1:e.name.localeCompare(t.name)}).forEach(function(e){e.json&&e.json[t]&&(n=U.merge(n,e.json[t]))}),n},_d.prototype.getTranslation=function(n){var i=this,o=!1,r=V(this.getComponentToFetch(n).map(function(e){return e.pipe(b.catchError(function(e){return console.warn(e),o=!0,w.of(e)}))}));return new w.Observable(function(t){if(0<r.length)w.forkJoin(r).subscribe(function(){var e=i.getFullTranslationJSON(n);e&&t.next(e),o?t.error("Failed to load some resources"):t.complete()},function(e){t.error("Failed to load some resources")});else{var e=i.getFullTranslationJSON(n);e&&(t.next(e),t.complete())}})},_d.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],_d.ctorParameters=function(){return[{type:I.HttpClient}]},_d.ngInjectableDef=D.defineInjectable({factory:function(){return new _d(D.inject(I.HttpClient))},token:_d,providedIn:"root"}),_d);function _d(e){this.http=e,this.prefix="i18n",this.suffix=".json",this.providers=[],this.queue=[],this.defaultLang="en"}var kd=(Md.prototype.isUploading=function(){return!!this.activeTask},Md.prototype.getQueue=function(){return this.queue},Md.prototype.addToQueue=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.filter(function(e){return t.filterElement(e)});return this.queue=this.queue.concat(i),this.queueChanged.next(this.queue),i},Md.prototype.filterElement=function(t){var n=this,e=!0;return this.excludedFileList=this.appConfigService.get("files.excluded"),this.excludedFileList&&(this.matchingOptions=this.appConfigService.get("files.match-options"),e=0===this.excludedFileList.filter(function(e){return new h.Minimatch(e,n.matchingOptions).match(t.name)}).length),e},Md.prototype.uploadFilesInTheQueue=function(e){var t=this;if(!this.activeTask){var n=this.queue.find(function(e){return e.status===Sn.Pending});if(n){this.onUploadStarting(n);var i=this.beginUpload(n,e);this.activeTask=i,this.cache[n.id]=i;var o=function(){t.activeTask=null,setTimeout(function(){return t.uploadFilesInTheQueue(e)},100)};i.next=o,i.then(function(){return o()},function(){return o()})}}},Md.prototype.cancelUpload=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(e){var t=n.cache[e.id];t?(t.abort(),delete n.cache[e.id]):n.getAction(e)()})},Md.prototype.clearQueue=function(){this.queue=[],this.totalComplete=0,this.totalAborted=0,this.totalError=0},Md.prototype.getUploadPromise=function(e){var t={renditions:"doclib",include:["allowableOperations"]};return!0===e.options.newVersion?(t.overwrite=!0,t.majorVersion=e.options.majorVersion,t.comment=e.options.comment,t.name=e.name):t.autoRename=!0,e.options.nodeType&&(t.nodeType=e.options.nodeType),e.id?this.apiService.getInstance().node.updateNodeContent(e.id,e.file,t):this.apiService.getInstance().upload.uploadFile(e.file,e.options.path,e.options.parentId,e.options,t)},Md.prototype.beginUpload=function(t,n){var i=this,e=this.getUploadPromise(t);return e.on("progress",function(e){i.onUploadProgress(t,e)}).on("abort",function(){i.onUploadAborted(t),n&&n.emit({value:"File aborted"})}).on("error",function(e){i.onUploadError(t,e),n&&n.emit({value:"Error file uploaded"})}).on("success",function(e){i.onUploadComplete(t,e),n&&n.emit({value:e})})["catch"](function(e){}),e},Md.prototype.onUploadStarting=function(e){if(e){e.status=Sn.Starting;var t=new xn(e,Sn.Starting);this.fileUpload.next(t),this.fileUploadStarting.next(t)}},Md.prototype.onUploadProgress=function(e,t){if(e){e.progress=t,e.status=Sn.Progress;var n=new xn(e,Sn.Progress);this.fileUpload.next(n),this.fileUploadProgress.next(n)}},Md.prototype.onUploadError=function(e,t){if(e){e.errorCode=(t||{}).status,e.status=Sn.Error,this.totalError++,this.cache[e.id]&&delete this.cache[e.id];var n=new Mn(e,t,this.totalError);this.fileUpload.next(n),this.fileUploadError.next(n)}},Md.prototype.onUploadComplete=function(e,t){if(e){e.status=Sn.Complete,e.data=t,this.totalComplete++,this.cache[e.id]&&delete this.cache[e.id];var n=new Rn(e,this.totalComplete,t,this.totalAborted);this.fileUpload.next(n),this.fileUploadComplete.next(n)}},Md.prototype.onUploadAborted=function(e){if(e){e.status=Sn.Aborted,this.totalAborted++;var t=this.cache[e.id];t&&delete this.cache[e.id];var n=new xn(e,Sn.Aborted);this.fileUpload.next(n),this.fileUploadAborted.next(n),t.next()}},Md.prototype.onUploadCancelled=function(e){if(e){e.status=Sn.Cancelled;var t=new xn(e,Sn.Cancelled);this.fileUpload.next(t),this.fileUploadCancelled.next(t)}},Md.prototype.onUploadDeleted=function(e){if(e){e.status=Sn.Deleted,this.totalComplete--;var t=new Fn(e,this.totalComplete);this.fileUpload.next(t),this.fileUploadDeleted.next(t)}},Md.prototype.getAction=function(e){var t,n=this;return((t={})[Sn.Pending]=function(){return n.onUploadCancelled(e)},t[Sn.Deleted]=function(){return n.onUploadDeleted(e)},t[Sn.Error]=function(){return n.onUploadError(e,null)},t)[e.status]},Md.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Md.ctorParameters=function(){return[{type:$},{type:z}]},Md.ngInjectableDef=D.defineInjectable({factory:function(){return new Md(D.inject($),D.inject(z))},token:Md,providedIn:"root"}),Md);function Md(e,t){this.apiService=e,this.appConfigService=t,this.cache={},this.totalComplete=0,this.totalAborted=0,this.totalError=0,this.excludedFileList=[],this.matchingOptions=null,this.activeTask=null,this.queue=[],this.queueChanged=new w.Subject,this.fileUpload=new w.Subject,this.fileUploadStarting=new w.Subject,this.fileUploadCancelled=new w.Subject,this.fileUploadProgress=new w.Subject,this.fileUploadAborted=new w.Subject,this.fileUploadError=new w.Subject,this.fileUploadComplete=new w.Subject,this.fileUploadDeleted=new w.Subject,this.fileDeleted=new w.Subject}var Nd=(Object.defineProperty(Vd.prototype,"nodesApi",{get:function(){return this.apiService.getInstance().core.nodesApi},enumerable:!0,configurable:!0}),Vd.prototype.getDeletedNodes=function(e){var t={include:["path","properties"],maxItems:this.preferences.paginationSize,skipCount:0},n=Object.assign(t,e),i=this.nodesApi.getDeletedNodes(n);return w.from(i).pipe(b.catchError(function(e){return w.of(e)}))},Vd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Vd.ctorParameters=function(){return[{type:$},{type:Je}]},Vd.ngInjectableDef=D.defineInjectable({factory:function(){return new Vd(D.inject($),D.inject(Je))},token:Vd,providedIn:"root"}),Vd);function Vd(e,t){this.apiService=e,this.preferences=t}var Ud=(jd.remapEntry=function(e){var t=e.entry;return t.properties={"cm:title":t.title,"cm:description":t.description},{entry:t}},jd.prototype.remapFavoritesData=function(e){void 0===e&&(e={});var t=e.list||{},n=t.pagination||{};return{list:{entries:this.remapFavoriteEntries(t.entries||[]),pagination:n}}},jd.prototype.remapFavoriteEntries=function(e){return e.map(function(e){var t=e.entry.target;return{entry:t.file||t.folder}}).filter(function(e){return!!e.entry}).map(jd.remapEntry)},Object.defineProperty(jd.prototype,"favoritesApi",{get:function(){return this.apiService.getInstance().core.favoritesApi},enumerable:!0,configurable:!0}),jd.prototype.getFavorites=function(e,t){var n={maxItems:this.preferences.paginationSize,skipCount:0,where:"(EXISTS(target/file) OR EXISTS(target/folder))",include:["properties","allowableOperations"]},i=Object.assign(n,t),o=this.favoritesApi.getFavorites(e,i).then(this.remapFavoritesData);return w.from(o).pipe(b.catchError(function(e){return w.of(e)}))},jd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],jd.ctorParameters=function(){return[{type:$},{type:Je}]},jd.ngInjectableDef=D.defineInjectable({factory:function(){return new jd(D.inject($),D.inject(Je))},token:jd,providedIn:"root"}),jd);function jd(e,t){this.apiService=e,this.preferences=t}var Bd=(Object.defineProperty(Hd.prototype,"nodesApi",{get:function(){return this.api.getInstance().core.nodesApi},enumerable:!0,configurable:!0}),Hd.prototype.getEntryFromEntity=function(e){return e.entry},Hd.prototype.getNode=function(e,t){void 0===t&&(t={});var n=Object.assign({include:["path","properties","allowableOperations","permissions"]},t),i=this.nodesApi.getNode(e,n).then(this.getEntryFromEntity);return w.from(i).pipe(b.catchError(function(e){return w.throwError(e)}))},Hd.prototype.getNodeChildren=function(e,t){void 0===t&&(t={});var n={maxItems:this.preferences.paginationSize,skipCount:0,include:["path","properties","allowableOperations","permissions"]},i=Object.assign(n,t),o=this.nodesApi.getNodeChildren(e,i);return w.from(o).pipe(b.catchError(function(e){return w.throwError(e)}))},Hd.prototype.createNode=function(e,t,n){void 0===n&&(n={});var i=this.nodesApi.addNode(e,t,n).then(this.getEntryFromEntity);return w.from(i).pipe(b.catchError(function(e){return w.throwError(e)}))},Hd.prototype.createFolder=function(e,t,n){void 0===n&&(n={});var i=Object.assign({nodeType:"cm:folder"},t);return this.createNode(e,i,n)},Hd.prototype.updateNode=function(e,t,n){void 0===n&&(n={});var i=Object.assign({include:["path","properties","allowableOperations","permissions"]},n),o=this.nodesApi.updateNode(e,t,i).then(this.getEntryFromEntity);return w.from(o).pipe(b.catchError(function(e){return w.throwError(e)}))},Hd.prototype.deleteNode=function(e,t){void 0===t&&(t={});var n=this.nodesApi.deleteNode(e,t);return w.from(n).pipe(b.catchError(function(e){return w.throwError(e)}))},Hd.prototype.restoreNode=function(e){var t=this.nodesApi.restoreNode(e).then(this.getEntryFromEntity);return w.from(t).pipe(b.catchError(function(e){return w.throwError(e)}))},Hd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Hd.ctorParameters=function(){return[{type:$},{type:Je}]},Hd.ngInjectableDef=D.defineInjectable({factory:function(){return new Hd(D.inject($),D.inject(Je))},token:Hd,providedIn:"root"}),Hd);function Hd(e,t){this.api=e,this.preferences=t}var zd=(Object.defineProperty(Yd.prototype,"peopleApi",{get:function(){return this.apiService.getInstance().core.peopleApi},enumerable:!0,configurable:!0}),Yd.prototype.getPerson=function(e){var t=this.peopleApi.getPerson(e);return w.from(t).pipe(b.catchError(function(e){return w.of(e)}))},Yd.prototype.getCurrentPerson=function(){return this.getPerson("-me-")},Yd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Yd.ctorParameters=function(){return[{type:$}]},Yd.ngInjectableDef=D.defineInjectable({factory:function(){return new Yd(D.inject($))},token:Yd,providedIn:"root"}),Yd);function Yd(e){this.apiService=e}var Gd=(qd.prototype.generateQueryBody=function(e,t,n){return{query:{query:e?"'"+e+"*' OR name:'"+e+"*'":e},include:["path","allowableOperations"],paging:{maxItems:t,skipCount:n},filterQueries:[{query:"TYPE:'cm:folder' OR TYPE:'cm:content'"},{query:"NOT cm:creator:System"}]}},qd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],qd.ctorParameters=function(){return[]},qd.ngInjectableDef=D.defineInjectable({factory:function(){return new qd},token:qd,providedIn:"root"}),qd);function qd(){}var $d=(Xd.prototype.getNodeQueryResults=function(e,t){var n=this,i=this.apiService.getInstance().core.queriesApi.findNodes(e,t);return i.then(function(e){n.dataLoaded.next(e)})["catch"](function(e){return n.handleError(e)}),w.from(i)},Xd.prototype.search=function(e,t,n){var i=this,o=Object.assign(this.searchConfigurationService.generateQueryBody(e,t,n)),r=this.apiService.getInstance().search.searchApi.search(o);return r.then(function(e){i.dataLoaded.next(e)})["catch"](function(e){return i.handleError(e)}),w.from(r)},Xd.prototype.searchByQueryBody=function(e){var t=this,n=this.apiService.getInstance().search.searchApi.search(e);return n.then(function(e){t.dataLoaded.next(e)})["catch"](function(e){return t.handleError(e)}),w.from(n)},Xd.prototype.handleError=function(e){return w.throwError(e||"Server error")},Xd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Xd.ctorParameters=function(){return[{type:$},{type:Gd}]},Xd.ngInjectableDef=D.defineInjectable({factory:function(){return new Xd(D.inject($),D.inject(Gd))},token:Xd,providedIn:"root"}),Xd);function Xd(e,t){this.apiService=e,this.searchConfigurationService=t,this.dataLoaded=new w.Subject}var Wd=(Object.defineProperty(Kd.prototype,"sharedLinksApi",{get:function(){return this.apiService.getInstance().core.sharedlinksApi},enumerable:!0,configurable:!0}),Kd.prototype.getSharedLinks=function(e){void 0===e&&(e={});var t={maxItems:this.preferences.paginationSize,skipCount:0,include:["properties","allowableOperations"]},n=Object.assign({},t,e),i=this.sharedLinksApi.findSharedLinks(n);return w.from(i).pipe(b.catchError(function(e){return w.of(e)}))},Kd.prototype.createSharedLinks=function(e,t){void 0===t&&(t={});var n=this.sharedLinksApi.addSharedLink({nodeId:e});return w.from(n).pipe(b.catchError(function(e){return w.of(e)}))},Kd.prototype.deleteSharedLink=function(e){var t=this.sharedLinksApi.deleteSharedLink(e);return w.from(t).pipe(b.catchError(function(e){return w.of(e)}))},Kd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Kd.ctorParameters=function(){return[{type:$},{type:Je}]},Kd.ngInjectableDef=D.defineInjectable({factory:function(){return new Kd(D.inject($),D.inject(Je))},token:Kd,providedIn:"root"}),Kd);function Kd(e,t){this.apiService=e,this.preferences=t,this.error=new w.Subject}var Jd=(Qd.prototype.getSites=function(e){var t=this;void 0===e&&(e={});var n=Object.assign({},{skipCount:0,include:["properties"]},e);return w.from(this.apiService.getInstance().core.sitesApi.getSites(n)).pipe(b.catchError(function(e){return t.handleError(e)}))},Qd.prototype.getSite=function(e,t){var n=this;return w.from(this.apiService.getInstance().core.sitesApi.getSite(e,t)).pipe(b.catchError(function(e){return n.handleError(e)}))},Qd.prototype.deleteSite=function(e,t){var n=this;void 0===t&&(t=!0);var i={};return i.permanent=t,w.from(this.apiService.getInstance().core.sitesApi.deleteSite(e,i)).pipe(b.catchError(function(e){return n.handleError(e)}))},Qd.prototype.getSiteContent=function(e){return this.getSite(e,{relations:["containers"]})},Qd.prototype.getSiteMembers=function(e){return this.getSite(e,{relations:["members"]})},Qd.prototype.getEcmCurrentLoggedUserName=function(){return this.apiService.getInstance().getEcmUsername()},Qd.prototype.handleError=function(e){return console.error(e),w.throwError(e||"Server error")},Qd.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],Qd.ctorParameters=function(){return[{type:$}]},Qd.ngInjectableDef=D.defineInjectable({factory:function(){return new Qd(D.inject($))},token:Qd,providedIn:"root"}),Qd);function Qd(e){this.apiService=e}var Zd=(em.prototype.openLogin=function(e,t){var n=new w.Subject;n.subscribe({complete:this.close.bind(this)});var i={title:t,actionName:e,logged:n};return this.openLoginDialog(i,"adf-login-dialog","630px"),n},em.prototype.openLoginDialog=function(e,t,n){this.dialog.open(Tr,{data:e,panelClass:t,width:n})},em.prototype.close=function(){this.dialog.closeAll()},em.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],em.ctorParameters=function(){return[{type:v.MatDialog}]},em.ngInjectableDef=D.defineInjectable({factory:function(){return new em(D.inject(g.MatDialog))},token:em,providedIn:"root"}),em);function em(e){this.dialog=e}var tm=(nm.prototype.getInstance=function(){return this.alfrescoApi},Object.defineProperty(nm.prototype,"contentApi",{get:function(){return this.getInstance().content},enumerable:!0,configurable:!0}),Object.defineProperty(nm.prototype,"nodesApi",{get:function(){return this.getInstance().nodes},enumerable:!0,configurable:!0}),nm.prototype.init=function(e,t){var n={provider:"ECM",hostEcm:e,authType:"BASIC",contextRoot:t,domainPrefix:this.createPrefixFromHost(e)};this.initAlfrescoApi(n)},nm.prototype.initAlfrescoApi=function(e){this.alfrescoApi?this.alfrescoApi.configureJsApi(e):this.alfrescoApi=new E.AlfrescoApiCompatibility(e)},nm.prototype.createPrefixFromHost=function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i),n=null;return null!=t&&2<t.length&&"string"==typeof t[2]&&0<t[2].length&&(n=t[2]),n},nm.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],nm.ngInjectableDef=D.defineInjectable({factory:function(){return new nm},token:nm,providedIn:"root"}),nm);function nm(){}var im=(om.prototype.isLocked=function(e){var t=!1;return this.hasLockConfigured(e)&&(this.isReadOnlyLock(e)?(t=!0,this.isLockExpired(e)&&(t=!1)):this.isLockOwnerAllowed(e)&&(t=this.alfrescoApiService.getInstance().getEcmUsername()!==e.properties["cm:lockOwner"].id,this.isLockExpired(e)&&(t=!1))),t},om.prototype.hasLockConfigured=function(e){return e.isFile&&e.isLocked&&e.properties["cm:lockType"]},om.prototype.isReadOnlyLock=function(e){return"READ_ONLY_LOCK"===e.properties["cm:lockType"]&&"PERSISTENT"===e.properties["cm:lockLifetime"]},om.prototype.isLockOwnerAllowed=function(e){return"WRITE_LOCK"===e.properties["cm:lockType"]&&"PERSISTENT"===e.properties["cm:lockLifetime"]},om.prototype.getLockExpiryTime=function(e){if(e.properties["cm:expiryDate"])return y(e.properties["cm:expiryDate"],"yyyy-MM-ddThh:mm:ssZ")},om.prototype.isLockExpired=function(e){var t=this.getLockExpiryTime(e);return y().isAfter(t)},om.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],om.ctorParameters=function(){return[{type:$}]},om.ngInjectableDef=D.defineInjectable({factory:function(){return new om(D.inject($))},token:om,providedIn:"root"}),om);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
    * @license
    * Copyright 2019 Alfresco Software, Ltd.
    *
    * Licensed under the Apache License, Version 2.0 (the 'License');
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *     http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an 'AS IS' BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */function om(e){this.alfrescoApiService=e}var rm=(am.prototype.getEasyForm=function(){return this.easyForm},am.prototype.getFormDefinition=function(){return this.formDefinition},am.prototype.getSimpleFormDefinition=function(){return this.simpleFormDefinition},am.prototype.getFormCloudDefinition=function(){return this.cloudFormDefinition},am);function am(){this.easyForm={id:1001,name:"ISSUE_FORM",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1498212398417",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!1,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,sizeX:2,sizeY:1,row:-1,col:-1,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label",name:"Label",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"test1"},{id:"option_2",name:"test2"},{id:"option_3",name:"test3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null},{fieldType:"FormFieldRepresentation",id:"Date",name:"Date",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label6",name:"Label6",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"integer",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"RestFieldRepresentation",id:"label12",name:"Label12",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},this.formDefinition={id:3003,name:"demo-01",taskId:"7501",taskName:"Demo Form 01",tabs:[{id:"tab1",title:"Text",visibilityCondition:null},{id:"tab2",title:"Misc",visibilityCondition:null}],fields:[{fieldType:"ContainerRepresentation",id:"1488274019966",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[],2:[]}},{fieldType:"ContainerRepresentation",id:"section4",name:"Section 4",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label8",name:"Label8",type:"people",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label13",name:"Label13",type:"functional-group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label18",name:"Label18",type:"readonly",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label19",name:"Label19",type:"readonly-text",value:"Display text as part of the form",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"HyperlinkRepresentation",id:"label15",name:"Label15",type:"hyperlink",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,hyperlinkUrl:"www.google.com",displayText:null},{fieldType:"AttachFileFieldRepresentation",id:"label16",name:"Label16",type:"upload",value:[],required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1,fileSource:{serviceId:"all-file-sources",name:"All file sources"}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,metaDataColumnDefinitions:null},{fieldType:"FormFieldRepresentation",id:"label17",name:"Label17",type:"select-folder",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1,folderSource:{serviceId:"alfresco-1",name:"Alfresco 5.2 Local",metaDataAllowed:!0}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"DynamicTableRepresentation",id:"label14",name:"Label14",type:"dynamic-table",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab2",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:2,row:-1,col:-1,visibilityCondition:null,columnDefinitions:[{id:"id",name:"id",type:"String",value:null,optionType:null,options:null,restResponsePath:null,restUrl:null,restIdProperty:null,restLabelProperty:null,amountCurrency:null,amountEnableFractions:!1,required:!0,editable:!0,sortable:!0,visible:!0,endpoint:null,requestHeaders:null},{id:"name",name:"name",type:"String",value:null,optionType:null,options:null,restResponsePath:null,restUrl:null,restIdProperty:null,restLabelProperty:null,amountCurrency:null,amountEnableFractions:!1,required:!0,editable:!0,sortable:!0,visible:!0,endpoint:null,requestHeaders:null}]},{fieldType:"ContainerRepresentation",id:"section1",name:"Section 1",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label3",name:"Label3",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"multi-line-text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"section2",name:"Section 2",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"integer",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label7",name:"Label7",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"FormFieldRepresentation",id:"label6",name:"Label6",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null},{fieldType:"AmountFieldRepresentation",id:"label11",name:"Label11",type:"amount",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"10",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,enableFractions:!1,currency:null}]}},{fieldType:"ContainerRepresentation",id:"section3",name:"Section 3",type:"group",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:2},sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label9",name:"Label9",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null},{fieldType:"RestFieldRepresentation",id:"label12",name:"Label12",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"label10",name:"Label10",type:"typeahead",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:"tab1",className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],gridsterForm:!1,globalDateFormat:"D-M-YYYY"},this.simpleFormDefinition={id:1001,name:"SIMPLE_FORM_EXAMPLE",description:"",version:1,lastUpdatedBy:2,lastUpdatedByFullName:"Test01 01Test",lastUpdated:"2018-02-26T17:44:04.543+0000",stencilSetId:0,referenceId:null,taskId:"9999",formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1519666726245",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"typeaheadField",name:"TypeaheadField",type:"typeahead",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:"https://jsonplaceholder.typicode.com/users",restResponsePath:null,restIdProperty:"id",restLabelProperty:"name",tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"radioButton",name:"RadioButtons",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"},{id:"option_3",name:"Option 3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:"1519666735185",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"selectBox",name:"SelectBox",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:"manual",hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"1"},{id:"option_2",name:"2"},{id:"option_3",name:"3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},this.cloudFormDefinition={formRepresentation:{id:"text-form",name:"test-start-form",version:0,description:"",formDefinition:{tabs:[],fields:[{id:"1511517333638",type:"container",fieldType:"ContainerRepresentation",name:"Label",tab:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"texttest",name:"texttest",type:"text",value:null,required:!1,placeholder:"text",params:{existingColspan:2,maxColspan:6,inputMaskReversed:!0,inputMask:"0#",inputMaskPlaceholder:"(0-9)"}}],2:[{fieldType:"AttachFileFieldRepresentation",id:"attachfiletest",name:"attachfiletest",type:"upload",required:!0,colspan:2,placeholder:"attachfile",params:{existingColspan:2,maxColspan:2,fileSource:{serviceId:"local-file",name:"Local File"},multiple:!0,link:!1},visibilityCondition:{}}]}}],outcomes:[],metadata:{property1:"value1",property2:"value2"},variables:[{name:"variable1",type:"string",value:"value1"},{name:"variable2",type:"string",value:"value2"}]}}}}var sm=(lm.prototype.setup=function(){var n=this,e=window.adf||{};e.setConfigField=function(e,t){n.appConfigService.config[e]=JSON.parse(t)},e.setStorageItem=function(e,t){n.storageService.setItem(e,t)},e.setUserPreference=function(e,t){n.userPreferencesService.set(e,t)},e.setFormInEditor=function(e){n.forms.formDefinition=JSON.parse(e)},e.setCloudFormInEditor=function(e){n.forms.cloudFormDefinition=JSON.parse(e)},e.clearStorage=function(){n.storageService.clear()},e.apiReset=function(){n.alfrescoApiService.reset()},window.adf=e},lm.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],lm.ctorParameters=function(){return[{type:z},{type:$},{type:Je},{type:G}]},lm.ngInjectableDef=D.defineInjectable({factory:function(){return new lm(D.inject(z),D.inject($),D.inject(Je),D.inject(G))},token:lm,providedIn:"root"}),lm);function lm(e,t,n,i){this.appConfigService=e,this.alfrescoApiService=t,this.userPreferencesService=n,this.storageService=i,this.forms=new rm}var um=(pm.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild(),Rt],declarations:[sn],exports:[sn],entryComponents:[sn]}]}],pm);function pm(){}var cm=(Object.defineProperty(dm.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||"settings",this._isCustom=this._value.includes(":")},enumerable:!0,configurable:!0}),Object.defineProperty(dm.prototype,"isCustom",{get:function(){return this._isCustom},enumerable:!0,configurable:!0}),dm.decorators=[{type:D.Component,args:[{selector:"adf-icon",template:'<ng-container *ngIf="isCustom; else: default">\n  <mat-icon [color]="color" [svgIcon]="value"></mat-icon>\n</ng-container>\n\n<ng-template #default>\n  <mat-icon [color]="color">{{ value }}</mat-icon>\n</ng-template>\n',encapsulation:D.ViewEncapsulation.None,changeDetection:D.ChangeDetectionStrategy.OnPush,host:{"class":"adf-icon"},styles:[".adf-icon{display:inline-flex;vertical-align:middle}"]}]}],dm.propDecorators={color:[{type:D.Input}],value:[{type:D.Input}]},dm);function dm(){this._value="",this._isCustom=!1}var mm=(fm.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,v.MatIconModule],declarations:[cm],exports:[cm],providers:[ot]}]}],fm);function fm(){}var hm=(gm.prototype.isEmptyNotification=function(){return!this.notifications||0===this.notifications.length},gm.prototype.onKeyPress=function(e){this.closeUserModal(e)},gm.prototype.markAsRead=function(){this.notifications=[]},gm.prototype.ngOnDestroy=function(){this.onDestroy$.next(!0),this.onDestroy$.complete()},gm.prototype.closeUserModal=function(e){27===e.keyCode&&this.trigger.closeMenu()},gm.decorators=[{type:D.Component,args:[{selector:"adf-notification-history",template:'<div (keyup)="onKeyPress($event)">\n    <button mat-button [matMenuTriggerFor]="menu" class="adf-notification-history-menu_button"\n            id="adf-notification-history-open-button">\n        <mat-icon>mail_outline</mat-icon>\n    </button>\n    <mat-menu #menu="matMenu" [xPosition]="menuPositionX" [yPosition]="menuPositionY"\n              [overlapTrigger]="false" id="adf-notification-history-menu" class="adf-notification-history-menu">\n\n        <div id="adf-notification-history-list">\n            <mat-list>\n                <mat-list-item>\n                    <h6 mat-line>{{ \'NOTIFICATION_HISTORY.NOTIFICATIONS\' | translate }}</h6>\n                </mat-list-item>\n            </mat-list>\n            <mat-divider></mat-divider>\n\n            <mat-list>\n                <mat-list-item *ngFor="let notification of notifications">\n                    <mat-icon mat-list-icon>{{notification.info? notification.info: \'info\'}}</mat-icon>\n                    <h4 mat-line>{{notification.message}}</h4>\n                    <p mat-line> {{notification.dateTime | date}} </p>\n                </mat-list-item>\n                <mat-list-item *ngIf="isEmptyNotification()" id="adf-notification-history-component-no-message">\n                    <h4 mat-line>{{ \'NOTIFICATION_HISTORY.NO_MESSAGE\' | translate }}</h4>\n                </mat-list-item>\n                <mat-action-list *ngIf="!isEmptyNotification()" id="adf-notification-history-mark-as-read">\n                    <button mat-list-item (click)="markAsRead()">{{ \'NOTIFICATION_HISTORY.MARK_AS_READ\' | translate }}\n                    </button>\n                </mat-action-list>\n            </mat-list>\n        </div>\n    </mat-menu>\n</div>\n',styles:[".adf-notification-history-menu_button.mat-button{margin-right:0;border-radius:90%;padding:0;min-width:40px;height:40px}@media only screen and (min-device-width:480px){.mat-menu-panel.adf-notification-history-menu{max-height:450px;min-width:450px;overflow:auto;padding:0}}.mat-menu-panel.adf-notification-history-menu .mat-menu-content{padding:0}"]}]}],gm.ctorParameters=function(){return[{type:Ri}]},gm.propDecorators={trigger:[{type:D.ViewChild,args:[v.MatMenuTrigger]}],menuPositionX:[{type:D.Input}],menuPositionY:[{type:D.Input}]},gm);function gm(e){var t=this;this.notificationService=e,this.onDestroy$=new w.Subject,this.notifications=[],this.menuPositionX="after",this.menuPositionY="below",this.notificationService.messages.pipe(b.takeUntil(this.onDestroy$)).subscribe(function(e){t.notifications.push(e)})}var ym=(vm.decorators=[{type:D.NgModule,args:[{imports:[T.CommonModule,Pe,A.TranslateModule.forChild()],declarations:[hm],exports:[hm]}]}],vm);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vm(){}function bm(){}function Em(e){e&&(this.provider=e.provider,this.url=e.url||null)}var Im,wm=(L(Cm,Im=E.Pagination),Cm);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cm(e){var t=Im.call(this,e)||this;return e&&(t.count=e.count,t.hasMoreItems=!!e.hasMoreItems&&e.hasMoreItems,t.merge=!!e.merge&&e.merge,t.totalItems=e.totalItems,t.skipCount=e.skipCount,t.maxItems=e.maxItems),t}function Tm(e){this.merge=!1,e&&Object.assign(this,e)}function Sm(e){e&&(this.minIntegerDigits=e.minIntegerDigits,this.minFractionDigits=e.minFractionDigits,this.maxFractionDigits=e.maxFractionDigits)}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Am=(Om.prototype.login=function(e,t){return new Promise(function(e){e("TICKET_4479f4d3bb155195879bfbb8d5206f433488a1b1")})},Om.prototype.logout=function(){return new Promise(function(e){e("logout")})},Om.prototype.changeConfig=function(){},Om);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Om(){}var Dm,xm=(L(Rm,Dm=z),Rm.prototype.load=function(){var t=this;return new Promise(function(e){t.onLoadSubject.next(t.config),e(t.config)})},Rm.decorators=[{type:D.Injectable}],Rm.ctorParameters=function(){return[{type:I.HttpClient}]},Rm);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rm(e){var t=Dm.call(this,e)||this;return t.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent"},t}var Pm=(Lm.prototype.setRedirectUrl=function(e){this.redirectUrl=e},Lm.prototype.getRedirectUrl=function(){return this.redirectUrl?this.redirectUrl.url:null},Lm.prototype.login=function(e,t){return"fake-username"===e&&"fake-password"===t?w.of({type:"type",ticket:"ticket"}):"fake-username-CORS-error"===e&&"fake-password"===t?w.throwError({error:{crossDomain:!0,message:"ERROR: the network is offline, Origin is not allowed by Access-Control-Allow-Origin"}}):"fake-username-CSRF-error"===e&&"fake-password"===t?w.throwError({message:"ERROR: Invalid CSRF-token",status:403}):"fake-username-ECM-access-error"===e&&"fake-password"===t?w.throwError({message:"ERROR: 00170728 Access Denied.  The system is currently in read-only mode",status:403}):w.throwError("Fake server error")},Lm);function Lm(){this.redirectUrl=null}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Fm,_m={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:undefined,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},km={id:1,email:"fake-email@dom.com",firstName:"firstName",lastName:"lastName"},Mm={size:2,total:2,start:0,data:[{id:1,message:"fake-message-1",created:"",createdBy:km},{id:2,message:"fake-message-2",created:"",createdBy:km}]},Nm=new zc({id:1,message:"Test",created:new Date("2016-11-10T03:37:30.010+0000"),createdBy:new Yc({id:13,firstName:"Wilbur",lastName:"Adams",email:"wilbur@app.com"})}),Vm=(L(Um,Fm=W),Um.prototype.isEnabled=function(){return!0},Um.prototype.getItem=function(e){return this[e]&&this[e].data||null},Um.prototype.setItem=function(e,t,n,i){this[e]={data:t,expiration:n,path:i}},Um.prototype.clear=function(){var t=this;Object.keys(this).forEach(function(e){t.hasOwnProperty(e)&&"function"!=typeof t[e]&&(t[e]=undefined)})},Um);function Um(){return null!==Fm&&Fm.apply(this,arguments)||this}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var jm=(Bm.keyDown=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keydown"),document.dispatchEvent(t)},Bm.keyUp=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keyup"),document.dispatchEvent(t)},Bm.resizeMobileView=function(){window.dispatchEvent(new Event("resize"))},Bm);function Bm(){}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Hm={list:{pagination:{count:1,hasMoreItems:!1,totalItems:1,skipCount:0,maxItems:100},entries:[{entry:{id:"123",name:"MyDoc",content:{mimetype:"text/plain"},createdByUser:{displayName:"John Doe"},modifiedByUser:{displayName:"John Doe"}}}]}},zm={core:{queriesApi:{findNodes:function(e,t){return Promise.resolve(Hm)}}}},Ym=(Gm.prototype.addTranslationFolder=function(){},Gm.prototype.onTranslationChanged=function(){},Gm.prototype.use=function(){},Gm.prototype.loadTranslation=function(){},Gm.prototype.get=function(e,t){return w.of(e)},Gm.prototype.instant=function(e,t){return e},Gm);function Gm(){this.defaultLang="en",this.translate={onLangChange:new D.EventEmitter}}var qm,$m=(L(Xm,qm=$),Xm.prototype.initialize=function(){var t=this;return new Promise(function(e){t.alfrescoApiInitializedSubject.next(),e()})},Xm.decorators=[{type:D.Injectable}],Xm.ctorParameters=function(){return[{type:z},{type:G}]},Xm);
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xm(e,t){var n=qm.call(this,e,t)||this;return n.appConfig=e,n.storageService=t,n.alfrescoApi||n.initAlfrescoApi(),n}var Wm=new Ll({}),Km=this,Jm=C.TestBed.resetTestingModule;
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Qm(e){return function(){return e.load()}}
/*!
     * @license
     * Copyright 2019 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zm(e){return function(){return e}}var ef=(tf.decorators=[{type:D.Injectable,args:[{providedIn:"root"}]}],tf.ctorParameters=function(){return[{type:undefined,decorators:[{type:D.Inject,args:[R.DOCUMENT]}]},{type:D.RendererFactory2},{type:Je},{type:x.Directionality}]},tf.ngInjectableDef=D.defineInjectable({factory:function(){return new tf(D.inject(R.DOCUMENT),D.inject(D.RendererFactory2),D.inject(Je),D.inject(x.Directionality))},token:tf,providedIn:"root"}),tf);function tf(e,t,n,i){var o=this;this.document=e,this.rendererFactory=t,this.userPreferencesService=n,this.directionality=i;var r=this.rendererFactory.createRenderer(null,null);this.userPreferencesService.select("textOrientation").subscribe(function(e){r.setAttribute(o.document.body,"dir",e),o.directionality.value=e})}var nf=(of.forRoot=function(){return{ngModule:of,providers:[A.TranslateStore,A.TranslateService,{provide:A.TranslateLoader,useClass:Fd},{provide:D.APP_INITIALIZER,useFactory:Qm,deps:[$],multi:!0},{provide:D.APP_INITIALIZER,useFactory:Zm,deps:[ef],multi:!0}]}},of.forChild=function(){return{ngModule:of}},of.decorators=[{type:D.NgModule,args:[{imports:[A.TranslateModule,O.ExtensionsModule.forChild(),qi,No,Uc,Rt,T.CommonModule,cn,um,S.FormsModule,S.ReactiveFormsModule,rr,tr,Pe,fs,cr,ko,Xe,ss,hc,Jc,Dr,Lr,$r,Yi,Hi,td,cd,mm,rd,ym],exports:[qi,No,Uc,Rt,T.CommonModule,cn,um,Vi,S.FormsModule,S.ReactiveFormsModule,rr,tr,Pe,fs,cr,ko,Xe,ss,hc,Jc,Dr,Lr,$r,Yi,Hi,A.TranslateModule,td,cd,rd,mm,ym]}]}],of.ctorParameters=function(){return[{type:et}]},of);function of(e){e.addTranslationFolder("adf-core","assets/adf-core")}e.AboutComponent=De,e.AboutModule=qi,e.ViewUtilService=Xi,e.ViewerComponent=oo,e.ImgViewerComponent=ao,e.MediaPlayerComponent=lo,e.PdfViewerComponent=ho,e.PdfThumbListComponent=yo,e.PdfThumbComponent=bo,e.TxtViewerComponent=Io,e.UnknownFormatComponent=Co,e.ViewerMoreActionsComponent=Ki,e.ViewerOpenWithComponent=Qi,e.ViewerSidebarComponent=eo,e.ViewerToolbarComponent=no,e.ViewerToolbarActionsComponent=So,e.ViewerExtensionDirective=Oo,e.ViewerModule=No,e.UserInfoComponent=Jo,e.BpmUserService=jo,e.EcmUserService=zo,e.IdentityUserService=Wo,e.BpmUserModel=Uo,e.EcmUserModel=Ho,e.IdentityUserModel=Xo,e.IdentityUserPasswordModel=Go,e.IdentityUserQueryCloudRequestModel=qo,e.IdentityJoinGroupRequestModel=$o,e.IdentityRoleModel=Zo,e.IdentityGroupModel=er,e.UserInfoModule=tr,e.ToolbarDividerComponent=xo,e.ToolbarTitleComponent=Po,e.ToolbarComponent=Fo,e.ToolbarModule=ko,e.HostSettingsComponent=ir,e.HostSettingsModule=rr,e.PaginationComponent=sr,e.InfinitePaginationComponent=ur,e.PaginationModule=cr,e.LoginHeaderDirective=Er,e.LoginFooterDirective=wr,e.LoginComponent=vr,e.LoginDialogComponent=Tr,e.LoginDialogPanelComponent=Ar,e.LoginErrorEvent=mr,e.LoginSubmitEvent=fr,e.LoginSuccessEvent=gr,e.LoginModule=Dr,e.LanguageMenuComponent=Rr,e.LanguageMenuModule=Lr,e.InfoDrawerLayoutComponent=_r,e.InfoDrawerTitleDirective=Mr,e.InfoDrawerButtonsDirective=Vr,e.InfoDrawerContentDirective=jr,e.InfoDrawerTabComponent=Hr,e.InfoDrawerComponent=Yr,e.declarations=qr,e.InfoDrawerModule=$r,e.DataColumnListComponent=yn,e.DataColumnComponent=hn,e.DataColumnModule=Yi,e.DataRowEvent=Un,e.DataSorting=Se,e.ObjectDataRow=we,e.ObjectDataTableAdapter=Ae,e.ObjectDataColumn=Te,e.DataCellEventModel=Hn,e.DataCellEvent=zn,e.DataRowActionModel=qn,e.DataRowActionEvent=$n,e.DropZoneDirective=ji,e.DataTableCellComponent=mn,e.DisplayMode=Wn,e.DataTableComponent=Kn,e.DateCellComponent=Zn,e.EmptyListComponent=ti,e.EmptyListHeaderDirective=ii,e.EmptyListBodyDirective=ri,e.EmptyListFooterDirective=si,e.FileSizeCellComponent=pi,e.LocationCellComponent=mi,e.DataTableSchema=Wr,e.LoadingContentTemplateDirective=hi,e.NoContentTemplateDirective=yi,e.NoPermissionTemplateDirective=bi,e.CustomEmptyContentTemplateDirective=Ii,e.CustomLoadingContentTemplateDirective=Ci,e.CustomNoPermissionTemplateDirective=Si,e.DataTableModule=Hi,e.ContextMenuHolderComponent=ke,e.ContextMenuDirective=qe,e.ContextMenuService=Fe,e.ContextMenuOverlayService=Ye,e.ContextMenuModule=Xe,e.CardViewComponent=Jr,e.CardViewBoolItemComponent=na,e.CardViewDateItemComponent=aa,e.CardViewMapItemComponent=la,e.CardViewTextItemComponent=pa,e.CardViewSelectItemComponent=da,e.CardViewKeyValuePairsItemComponent=fa,e.CardViewItemIntValidator=Da,e.CardViewItemFloatValidator=Ra,e.CardViewBaseItemModel=La,e.CardViewBoolItemModel=ka,e.CardViewDateItemModel=Va,e.CardViewDatetimeItemModel=Ba,e.CardViewFloatItemModel=$a,e.CardViewIntItemModel=Ka,e.CardViewMapItemModel=Za,e.CardViewTextItemModel=Ya,e.CardViewKeyValuePairsItemModel=ns,e.CardViewSelectItemModel=rs,e.CardItemTypeService=wa,e.transformKeyToObject=Zr,e.CardViewUpdateService=ea,e.CardViewContentProxyDirective=Ta,e.CardViewModule=ss,e.AppConfigValues=B,e.Status=H,e.AppConfigService=z,e.DebugAppConfigService=ps,e.AppConfigPipe=ds,e.AppConfigModule=fs,e.FormBaseComponent=qp,e.FormBaseModel=xl,e.FormListComponent=Xp,e.ContentWidgetComponent=Kp,e.FormRendererComponent=Qp,e.WIDGET_DIRECTIVES=Yp,e.MASK_DIRECTIVE=Gp,e.baseHost=Hl,e.WidgetComponent=zl,e.FormFieldTypes=bs,e.FormWidgetModel=Is,e.FormFieldModel=sl,e.FormModel=Ll,e.ContainerModel=Il,e.ContainerColumnModel=Ss,e.TabModel=Ol,e.FormOutcomeModel=Tl,e.FormOutcomeEvent=_l,e.RequiredFieldValidator=xs,e.NumberFieldValidator=Ps,e.DateFieldValidator=Fs,e.BoundaryDateFieldValidator=ks,e.MinDateFieldValidator=Vs,e.MaxDateFieldValidator=Bs,e.MinDateTimeFieldValidator=zs,e.MaxDateTimeFieldValidator=Gs,e.MinLengthFieldValidator=$s,e.MaxLengthFieldValidator=Ws,e.MinValueFieldValidator=Js,e.MaxValueFieldValidator=Zs,e.RegExFieldValidator=tl,e.FixedValueFieldValidator=il,e.FORM_FIELD_VALIDATORS=al,e.ContentLinkModel=Ml,e.ErrorMessageModel=Os,e.TabsWidgetComponent=Jl,e.ContainerWidgetComponent=Wl,e.UnknownWidgetComponent=eu,e.TextWidgetComponent=xp,e.NumberWidgetComponent=hp,e.CheckboxWidgetComponent=au,e.MultilineTextWidgetComponentComponent=dp,e.DropdownWidgetComponent=bu,e.HyperlinkWidgetComponent=up,e.RadioButtonsWidgetComponent=Cp,e.DisplayTextWidgetComponentComponent=mu,e.UploadWidgetComponent=Np,e.TypeaheadWidgetComponent=Lp,e.FunctionalGroupWidgetComponent=ap,e.PeopleWidgetComponent=Ep,e.DateWidgetComponent=pu,e.AmountWidgetComponent=iu,e.DynamicTableWidgetComponent=Uu,e.ErrorWidgetComponent=ip,e.DocumentWidgetComponent=gu,e.DateTimeWidgetComponent=Hp,e.DynamicTableModel=Mu,e.RowEditorComponent=Qu,e.DateEditorComponent=Yu,e.DropdownEditorComponent=Ku,e.BooleanEditorComponent=Bu,e.TextEditorComponent=ep,e.DateTimeEditorComponent=Xu,e.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR=Sp,e.InputMaskDirective=Ap,e.ActivitiContentService=ec,e.EcmModelService=Vl,e.FormRenderingService=ic,e.FormService=jl,e.NodeService=ac,e.ProcessContentService=_p,e.WidgetVisibilityService=Iu,e.FormEvent=ul,e.FormErrorEvent=uc,e.FormFieldEvent=dl,e.ValidateFormFieldEvent=hl,e.ValidateFormEvent=vl,e.ValidateDynamicTableRowEvent=Tu,e.FormBaseModule=hc,e.SidenavLayoutComponent=Cc,e.LayoutModule=Uc,e.SidenavLayoutModule=Uc,e.CommentListComponent=Bc,e.CommentsComponent=Wc,e.CommentsModule=Jc,e.ButtonsMenuComponent=Zc,e.ButtonsMenuModule=td,e.SortingPickerComponent=id,e.SortingPickerModule=rd,e.ErrorContentComponent=sd,e.EmptyContentComponent=ud,e.TemplateModule=cd,e.FileSizePipe=nt,e.MimeTypeIconPipe=at,e.NodeNameTooltipPipe=lt,e.HighlightPipe=dt,e.TimeAgoPipe=ft,e.InitialUsernamePipe=gt,e.FullNamePipe=vt,e.MultiValuePipe=Tt,e.LocalizedDatePipe=At,e.DecimalNumberPipe=Dt,e.PipeModule=Rt,e.AuthGuardBase=md,e.AuthenticationService=ae,e.AlfrescoApiService=$,e.ContentService=Xt,e.AuthGuard=gd,e.AuthGuardEcm=bd,e.AuthGuardBpm=wd,e.AuthGuardSsoRoleService=Td,e.AppsProcessService=Ad,e.PageTitleService=Dd,e.StorageService=G,e.CookieService=W,e.RenditionsService=Rd,e.NotificationService=Ri,e.LogService=te,e.TRANSLATION_PROVIDER=Ze,e.TranslationService=et,e.TranslateLoaderService=Fd,e.ThumbnailService=ot,e.UploadService=kd,e.DynamicComponentResolver=ya,e.DynamicComponentMapper=ba,e.UserPreferenceValues=Ke,e.UserPreferencesService=Je,e.HighlightTransformService=pt,e.DeletedNodesApiService=Nd,e.FavoritesApiService=Ud,e.NodesApiService=Bd,e.PeopleContentService=zd,e.PeopleProcessService=yp,e.SearchService=$d,e.SharedLinksApiService=Wd,e.SitesService=Jd,e.DiscoveryApiService=fe,e.CommentProcessService=Gc,e.SearchConfigurationService=Gd,e.CommentContentService=$c,e.LoginDialogService=Zd,e.ExternalAlfrescoApiService=tm,e.JwtHelperService=ie,e.DownloadZipService=rn,e.LockService=im,e.CoreAutomationService=sm,e.DownloadService=qt,e.HighlightDirective=Lt,e.LogoutDirective=_t,e.NodeDeleteDirective=Mt,e.NodeFavoriteDirective=Vt,e.CheckAllowableOperationDirective=Jt,e.RestoreMessageModel=Zt,e.NodeRestoreDirective=en,e.NodeDownloadDirective=un,e.UploadDirective=nn,e.DirectiveModule=cn,e.ClipboardDirective=_i,e.ClipboardComponent=Mi,e.ClipboardService=Li,e.ClipboardModule=Vi,e.DownloadZipDialogComponent=sn,e.DialogModule=um,e.IconComponent=cm,e.IconModule=mm,e.NotificationHistoryComponent=hm,e.NotificationHistoryModule=ym,e.ObjectUtils=U,e.FileUtils=ge,e.MOMENT_DATE_FORMATS=be,e.MomentDateAdapter=Ee,e.EXTENDIBLE_COMPONENT=Kt,e.FileUploadOptions=Tn,e.FileUploadStatus=Sn,e.FileModel=An,e.AllowableOperationsEnum=Yt,e.PermissionsEnum=Bt,e.BpmProductVersionModel=le,e.VersionModel=ue,e.LicenseModel=pe,e.VersionStatusModel=ce,e.VersionModuleModel=de,e.EcmProductVersionModel=me,e.UserProcessModel=Yc,e.CommentModel=zc,e.EcmCompanyModel=bm,e.RedirectionModel=Em,e.PaginationModel=wm,e.RequestPaginationModel=Tm,e.DecimalNumberModel=Sm,e.BaseEvent=bn,e.BaseUIEvent=wn,e.FileUploadEvent=xn,e.FileUploadCompleteEvent=Rn,e.FileUploadDeleteEvent=Fn,e.FileUploadErrorEvent=Mn,e.AlfrescoApiMock=Am,e.AppConfigServiceMock=xm,e.fakeApps={size:2,total:2,start:0,data:[{id:1,defaultAppId:null,name:"Sales-Fakes-App",description:"desc-fake1",modelId:22,theme:"theme-1-fake",icon:"glyphicon-asterisk",deploymentId:"111",tenantId:null},{id:2,defaultAppId:null,name:"health-care-Fake",description:"desc-fake2",modelId:33,theme:"theme-2-fake",icon:"glyphicon-asterisk",deploymentId:"444",tenantId:null}]},e.AuthenticationMock=Pm,e.fakeBpmUserNoImage=_m,e.fakeBpmUser={apps:[],capabilities:null,company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-bpm-first-name",lastName:"fake-bpm-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:12,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeBpmEditedUser={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:"src/assets/images/bpmImg.gif",status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeUser1=km,e.fakeUser2={id:1001,email:"some-one@somegroup.com",firstName:"some",lastName:"one"},e.fakeTasksComment=Mm,e.fakeProcessComment=Nm,e.CookieServiceMock=Vm,e.fakeEcmCompany={organization:"company-fake-name",address1:"fake-address-1",address2:"fake-address-2",address3:"fake-address-3",postcode:"fAk1",telephone:"00000000",fax:"11111111",email:"fakeCompany@fake.com"},e.fakeEcmUser={id:"fake-id",firstName:"fake-ecm-first-name",lastName:"fake-ecm-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"job-ecm-test",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmUserNoImage={id:"fake-id",firstName:"fake-first-name",lastName:"fake-last-name",description:"i am a fake user for test",avatarId:null,email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:null,location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmEditedUser={id:"fake-id",firstName:null,lastName:"fake-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"test job",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.EventMock=jm,e.fakeRendition={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}},e.fakeRenditionCreated={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}},e.fakeRenditionsList={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}}]}},e.fakeRenditionsListWithACreated={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}}]}},e.fakeSearch=Hm,e.mockError={error:{errorKey:"Search failed",statusCode:400,briefSummary:"08220082 search failed",stackTrace:"For security reasons the stack trace is no longer displayed, but the property is kept for previous versions.",descriptionURL:"https://api-explorer.alfresco.com"}},e.searchMockApi=zm,e.TranslationMock=Ym,e.AlfrescoApiServiceMock=$m,e.fakeForm={id:1001,name:"ISSUE_FORM",processDefinitionId:"ISSUE_APP:1:2504",processDefinitionName:"ISSUE_APP",processDefinitionKey:"ISSUE_APP",taskId:"7506",taskDefinitionKey:"sid-F67A2996-1684-4774-855A-4591490081FD",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1498212398417",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label",name:"Label",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"test1"},{id:"option_2",name:"test2"},{id:"option_3",name:"test3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"radio",name:"radio",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"},{id:"option_3",name:"Option 3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:"1498212413062",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionTwoTextFields={id:20,name:"formTextDefinition",processDefinitionId:"textDefinition:1:153",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"159",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionDropdownField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionRequiredField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formReadonlyTwoTextFields={id:22,name:"formTextDefinition",processDefinitionId:"textDefinition:3:182",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"188",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"readonly",value:"fakeFirstName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2,field:{id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"readonly",value:"fakeLastName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1,field:{id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnNextOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftType:"field",leftValue:"name",operator:"==",rightValue:"italy",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnPreviousOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftType:"field",leftValue:"name",operator:"==",rightValue:"italy",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.startFormDateWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null}]}}]},e.startFormNumberWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"number",name:"number widget",type:"integer",value:null}]}}]},e.startFormAmountWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"amount",name:"amount widget",type:"amount",value:null}]}}]},e.startFormRadioButtonWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"radio-but",name:"radio-buttons",type:"radio-buttons",value:null}]}}]},e.startFormTextDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"mocktext",name:"mockText",type:"text",value:null}]}}]},e.startFormDropdownDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"mockTypeDropDown",name:"mock DropDown",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,options:[{id:"empty",name:"Chooseone..."},{id:"opt1",name:"Option-1"},{id:"opt2",name:"Option-2"},{id:"opt3",name:"Option-3"},{id:"opt2",name:"Option-3"}]}]}}]},e.startMockForm={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billAmount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalName",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"},{id:"start_process",name:"Start Process"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.startMockFormWithTab={id:4,taskName:"Mock Title",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[{id:"form1",name:"Tab 1"},{id:"form2",name:"Tab 2"}],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billAmount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalName",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.formModelTabs={id:16,name:"start event",description:"",version:2,lastUpdatedBy:4,lastUpdatedByFullName:"User Test",lastUpdated:"2017-10-04T13:00:03.030+0000",stencilSetId:null,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507037668653",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"AmountFieldRepresentation",id:"label",name:"Label",type:"amount",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,enableFractions:!1,currency:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1507037670167",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.formTest=Wm,e.fakeTaskProcessVariableModels=[{id:"TEST_VAR_1",type:"string",value:"test_value_1"},{id:"TEST_VAR_2",type:"string",value:"test_value_2"},{id:"TEST_VAR_3",type:"string",value:"test_value_3"}],e.formValues={test_1:"value_1",test_2:"value_2",test_3:"value_1",test_4:"dropdown_id",test_5:"dropdown_label",dropdown:{id:"dropdown_id",name:"dropdown_label"}},e.fakeFormJson={id:"9999",name:"FORM_VISIBILITY",processDefinitionId:"PROCESS_TEST:9:9999",processDefinitionName:"PROCESS_TEST",processDefinitionKey:"PROCESS_TEST",taskId:"999",taskName:"TEST",fields:[{fieldType:"ContainerRepresentation",id:"000000000000000000",name:"Label",type:"container",value:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"FIELD_TEST",name:"FIELD_TEST",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"FIELD_WITH_CONDITION",name:"FIELD_WITH_CONDITION",type:"text",value:"field_with_condition_value",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"LEFT_FORM_FIELD_ID",name:"LEFT_FORM_FIELD_NAME",type:"text",value:"LEFT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}],2:[{fieldType:"FormFieldRepresentation",id:"RIGHT_FORM_FIELD_ID",name:"RIGHT_FORM_FIELD_NAME",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}]}}],variables:[{id:"e621e8ff-42a6-499c-8121-33c7c35d8641",name:"age",type:"integer",value:11},{id:"4f8aa99e-8526-429c-9d99-809978489d96",name:"name",type:"string",value:"abc"},{id:"0207b649-ff07-4f3a-a589-d10afa507b9b",name:"dob",type:"date",value:"2019-05-13"}]},e.complexVisibilityJsonVisible={id:47591,name:"Test-visibility",description:"",version:4,lastUpdatedBy:13,lastUpdatedByFullName:"romano romano",lastUpdated:"2019-06-11T11:04:36.870+0000",stencilSetId:0,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1560246123312",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label",name:"Label",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246128696",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label3",name:"Label3",type:"text",value:"",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246126964",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"label",leftRestResponseId:null,operator:"==",rightValue:"aaa",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label1",leftRestResponseId:null,operator:"!=",rightValue:"aaa",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label2",leftRestResponseId:null,operator:"!empty",rightValue:null,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"label3",leftRestResponseId:null,operator:"empty",rightValue:null,rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:null,nextCondition:null}}}}}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.complexVisibilityJsonNotVisible={id:47591,name:"Test-visibility",description:"",version:4,lastUpdatedBy:13,lastUpdatedByFullName:"romano romano",lastUpdated:"2019-06-11T11:04:36.870+0000",stencilSetId:0,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1560246123312",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label",name:"Label",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246128696",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label4",name:"Label4",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label3",name:"Label3",type:"text",value:"OPSSS",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1560246126964",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"label5",name:"Label5",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"label",leftRestResponseId:null,operator:"==",rightValue:"aaa",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label1",leftRestResponseId:null,operator:"!=",rightValue:"aaa",rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"and",nextCondition:{leftFormFieldId:"label2",leftRestResponseId:null,operator:"!empty",rightValue:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"or",nextCondition:{leftFormFieldId:"label3",leftRestResponseId:null,operator:"empty",rightValue:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:null,nextCondition:null}}}}}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.mockToken="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiZmFtaWx5X25hbWUiOiJEb2UiLCJnaXZlbl9uYW1lIjoiSm9obiIsImFkbWluIjp0cnVlLCJlbWFpbCI6ImpvaG5Eb2VAZ21haWwuY29tIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiam9obkRvZTEiLCJqdGkiOiI2MmQ3YjA4NS1hNTJjLTRjZmEtYjA2Zi1hODFhN2IwNjRjZDIiLCJpYXQiOjE1NDM0MTA0NzcsImV4cCI6MTU0MzQxNTIxM30.pSP86kmX3keuU5E3ndaOUq2TzKdJRsuMnBdFz3Y-UEU",e.setupTestBed=function(t){beforeAll(function(e){return _(Km,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return localStorage.clear(),sessionStorage.clear(),Jm(),C.TestBed.resetTestingModule=function(){return C.TestBed},C.TestBed.configureTestingModule(t),[4,C.TestBed.compileComponents()];case 1:return e.sent(),C.TestBed.resetTestingModule=function(){return C.TestBed},[2]}})}).then(e)["catch"](e.fail)}),afterAll(function(){return C.TestBed.resetTestingModule=Jm})},e.CoreModule=nf,e.ɵa=Aa,e.ɵe=je,e.ɵd=Be,e.ɵf=Ne,e.ɵg=Ue,e.ɵj=Di,e.ɵo=cc,e.ɵn=mc,e.ɵm=xu,e.ɵz=Nc,e.ɵs=Oc,e.ɵv=xc,e.ɵw=Pc,e.ɵy=kc,e.ɵx=Fc,e.ɵr=yc,e.ɵp=bc,e.ɵq=Ic,e.ɵu=Ac,e.ɵt=Sc,e.ɵc=Pe,e.ɵb=Re,e.ɵi=wt,e.ɵh=Et,e.ɵbc=Zm,e.ɵbd=ef,e.ɵba=ga,e.ɵbb=Qm,e.ɵl=mo,e.ɵk=po,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=adf-core.umd.min.js.map